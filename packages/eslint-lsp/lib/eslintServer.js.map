{"version":3,"file":"eslintServer.js","mappings":"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","sources":["webpack://eslint-server/./src/diff.ts","webpack://eslint-server/./src/eslint.ts","webpack://eslint-server/./src/eslintServer.ts","webpack://eslint-server/./src/is.ts","webpack://eslint-server/./src/languageDefaults.ts","webpack://eslint-server/./src/linkedMap.ts","webpack://eslint-server/./src/paths.ts","webpack://eslint-server/./src/shared/customMessages.ts","webpack://eslint-server/./src/shared/settings.ts","webpack://eslint-server/./node_modules/semver/classes/semver.js","webpack://eslint-server/./node_modules/semver/functions/compare.js","webpack://eslint-server/./node_modules/semver/functions/gte.js","webpack://eslint-server/./node_modules/semver/functions/parse.js","webpack://eslint-server/./node_modules/semver/internal/constants.js","webpack://eslint-server/./node_modules/semver/internal/debug.js","webpack://eslint-server/./node_modules/semver/internal/identifiers.js","webpack://eslint-server/./node_modules/semver/internal/parse-options.js","webpack://eslint-server/./node_modules/semver/internal/re.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/api.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/connection.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/disposable.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/events.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/is.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/linkedMap.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/messageReader.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/messageWriter.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/messages.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/ral.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/semaphore.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/common/sharedArrayCancellation.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/node/main.js","webpack://eslint-server/./node_modules/vscode-jsonrpc/lib/node/ril.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/api.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/connection.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/messages.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineCompletion.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.textDocumentContent.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","webpack://eslint-server/./node_modules/vscode-languageserver-protocol/lib/node/main.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/api.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/callHierarchy.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/configuration.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/diagnostic.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/fileOperations.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/foldingRange.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/inlayHint.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/inlineCompletion.proposed.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/inlineValue.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/linkedEditingRange.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/moniker.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/notebook.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/progress.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/semanticTokens.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/server.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/showDocument.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/textDocumentContent.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/textDocuments.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/typeHierarchy.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/utils/is.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/utils/uuid.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/common/workspaceFolder.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/node/files.js","webpack://eslint-server/./node_modules/vscode-languageserver/lib/node/main.js","webpack://eslint-server/external node-commonjs \"child_process\"","webpack://eslint-server/external node-commonjs \"crypto\"","webpack://eslint-server/external node-commonjs \"fs\"","webpack://eslint-server/external node-commonjs \"net\"","webpack://eslint-server/external node-commonjs \"node:util\"","webpack://eslint-server/external node-commonjs \"os\"","webpack://eslint-server/external node-commonjs \"path\"","webpack://eslint-server/external node-commonjs \"url\"","webpack://eslint-server/external node-commonjs \"util\"","webpack://eslint-server/./node_modules/vscode-languageserver-textdocument/lib/esm/main.js","webpack://eslint-server/./node_modules/vscode-languageserver-types/lib/esm/main.js","webpack://eslint-server/./node_modules/vscode-uri/lib/esm/index.mjs","webpack://eslint-server/webpack/bootstrap","webpack://eslint-server/webpack/runtime/define property getters","webpack://eslint-server/webpack/runtime/hasOwnProperty shorthand","webpack://eslint-server/webpack/runtime/make namespace object","webpack://eslint-server/webpack/startup"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\nexport interface IDiffChange {\r\n\t/**\r\n\t * The position of the first element in the original sequence which\r\n\t * this change affects.\r\n\t */\r\n\toriginalStart: number;\r\n\r\n\t/**\r\n\t * The number of elements from the original sequence which were\r\n\t * affected.\r\n\t */\r\n\toriginalLength: number;\r\n\r\n\t/**\r\n\t * The position of the first element in the modified sequence which\r\n\t * this change affects.\r\n\t */\r\n\tmodifiedStart: number;\r\n\r\n\t/**\r\n\t * The number of elements from the modified sequence which were\r\n\t * affected (added).\r\n\t */\r\n\tmodifiedLength: number;\r\n}\r\n\r\nexport function stringDiff(original: string, modified: string, pretty: boolean): IDiffChange[] {\r\n\treturn new LcsDiff(new StringDiffSequence(original), new StringDiffSequence(modified)).ComputeDiff(pretty).changes;\r\n}\r\n\r\ninterface ISequence {\r\n\tgetElements(): Int32Array;\r\n}\r\n\r\nclass StringDiffSequence implements ISequence {\r\n\r\n\tconstructor(private source: string) { }\r\n\r\n\tgetElements(): Int32Array {\r\n\t\tconst source = this.source;\r\n\t\tconst characters = new Int32Array(source.length);\r\n\t\tfor (let i = 0, len = source.length; i < len; i++) {\r\n\t\t\tcharacters[i] = source.charCodeAt(i);\r\n\t\t}\r\n\t\treturn characters;\r\n\t}\r\n}\r\n\r\ninterface IContinueProcessingPredicate {\r\n\t(furthestOriginalIndex: number, matchLengthOfLongest: number): boolean;\r\n}\r\n\r\ninterface IDiffResult {\r\n\tquitEarly: boolean;\r\n\tchanges: IDiffChange[];\r\n}\r\n\r\n/**\r\n * Represents information about a specific difference between two sequences.\r\n */\r\nclass DiffChange {\r\n\r\n\t/**\r\n\t * The position of the first element in the original sequence which\r\n\t * this change affects.\r\n\t */\r\n\tpublic originalStart: number;\r\n\r\n\t/**\r\n\t * The number of elements from the original sequence which were\r\n\t * affected.\r\n\t */\r\n\tpublic originalLength: number;\r\n\r\n\t/**\r\n\t * The position of the first element in the modified sequence which\r\n\t * this change affects.\r\n\t */\r\n\tpublic modifiedStart: number;\r\n\r\n\t/**\r\n\t * The number of elements from the modified sequence which were\r\n\t * affected (added).\r\n\t */\r\n\tpublic modifiedLength: number;\r\n\r\n\t/**\r\n\t * Constructs a new DiffChange with the given sequence information\r\n\t * and content.\r\n\t */\r\n\tconstructor(originalStart: number, originalLength: number, modifiedStart: number, modifiedLength: number) {\r\n\t\t//Debug.Assert(originalLength > 0 || modifiedLength > 0, \"originalLength and modifiedLength cannot both be <= 0\");\r\n\t\tthis.originalStart = originalStart;\r\n\t\tthis.originalLength = originalLength;\r\n\t\tthis.modifiedStart = modifiedStart;\r\n\t\tthis.modifiedLength = modifiedLength;\r\n\t}\r\n\r\n\t/**\r\n\t * The end point (exclusive) of the change in the original sequence.\r\n\t */\r\n\tpublic getOriginalEnd() {\r\n\t\treturn this.originalStart + this.originalLength;\r\n\t}\r\n\r\n\t/**\r\n\t * The end point (exclusive) of the change in the modified sequence.\r\n\t */\r\n\tpublic getModifiedEnd() {\r\n\t\treturn this.modifiedStart + this.modifiedLength;\r\n\t}\r\n}\r\n\r\nexport class Debug {\r\n\tpublic static Assert(condition: boolean, message: string): void {\r\n\t\tif (!condition) {\r\n\t\t\tthrow new Error(message);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst enum Constants {\r\n\t/**\r\n\t * MAX SMI (SMall Integer) as defined in v8.\r\n\t * one bit is lost for boxing/unboxing flag.\r\n\t * one bit is lost for sign flag.\r\n\t * See https://thibaultlaurens.github.io/javascript/2013/04/29/how-the-v8-engine-works/#tagged-values\r\n\t */\r\n\tMAX_SAFE_SMALL_INTEGER = 1 << 30,\r\n\r\n\t/**\r\n\t * MIN SMI (SMall Integer) as defined in v8.\r\n\t * one bit is lost for boxing/unboxing flag.\r\n\t * one bit is lost for sign flag.\r\n\t * See https://thibaultlaurens.github.io/javascript/2013/04/29/how-the-v8-engine-works/#tagged-values\r\n\t */\r\n\tMIN_SAFE_SMALL_INTEGER = -(1 << 30),\r\n\r\n\t/**\r\n\t * Max unsigned integer that fits on 8 bits.\r\n\t */\r\n\tMAX_UINT_8 = 255, // 2^8 - 1\r\n\r\n\t/**\r\n\t * Max unsigned integer that fits on 16 bits.\r\n\t */\r\n\tMAX_UINT_16 = 65535, // 2^16 - 1\r\n\r\n\t/**\r\n\t * Max unsigned integer that fits on 32 bits.\r\n\t */\r\n\tMAX_UINT_32 = 4294967295, // 2^32 - 1\r\n\r\n\tUNICODE_SUPPLEMENTARY_PLANE_BEGIN = 0x010000\r\n}\r\n\r\nconst enum LocalConstants {\r\n\tMaxDifferencesHistory = 1447\r\n}\r\n\r\nclass MyArray {\r\n\t/**\r\n\t * Copies a range of elements from an Array starting at the specified source index and pastes\r\n\t * them to another Array starting at the specified destination index. The length and the indexes\r\n\t * are specified as 64-bit integers.\r\n\t * sourceArray:\r\n\t *\t\tThe Array that contains the data to copy.\r\n\t * sourceIndex:\r\n\t *\t\tA 64-bit integer that represents the index in the sourceArray at which copying begins.\r\n\t * destinationArray:\r\n\t *\t\tThe Array that receives the data.\r\n\t * destinationIndex:\r\n\t *\t\tA 64-bit integer that represents the index in the destinationArray at which storing begins.\r\n\t * length:\r\n\t *\t\tA 64-bit integer that represents the number of elements to copy.\r\n\t */\r\n\tpublic static Copy(sourceArray: any[], sourceIndex: number, destinationArray: any[], destinationIndex: number, length: number) {\r\n\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\tdestinationArray[destinationIndex + i] = sourceArray[sourceIndex + i];\r\n\t\t}\r\n\t}\r\n\tpublic static Copy2(sourceArray: Int32Array, sourceIndex: number, destinationArray: Int32Array, destinationIndex: number, length: number) {\r\n\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\tdestinationArray[destinationIndex + i] = sourceArray[sourceIndex + i];\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass DiffChangeHelper {\r\n\r\n\tprivate m_changes: DiffChange[];\r\n\tprivate m_originalStart: number;\r\n\tprivate m_modifiedStart: number;\r\n\tprivate m_originalCount: number;\r\n\tprivate m_modifiedCount: number;\r\n\r\n\t/**\r\n\t * Constructs a new DiffChangeHelper for the given DiffSequences.\r\n\t */\r\n\tconstructor() {\r\n\t\tthis.m_changes = [];\r\n\t\tthis.m_originalStart = Constants.MAX_SAFE_SMALL_INTEGER;\r\n\t\tthis.m_modifiedStart = Constants.MAX_SAFE_SMALL_INTEGER;\r\n\t\tthis.m_originalCount = 0;\r\n\t\tthis.m_modifiedCount = 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Marks the beginning of the next change in the set of differences.\r\n\t */\r\n\tpublic MarkNextChange(): void {\r\n\t\t// Only add to the list if there is something to add\r\n\t\tif (this.m_originalCount > 0 || this.m_modifiedCount > 0) {\r\n\t\t\t// Add the new change to our list\r\n\t\t\tthis.m_changes.push(new DiffChange(this.m_originalStart, this.m_originalCount,\r\n\t\t\t\tthis.m_modifiedStart, this.m_modifiedCount));\r\n\t\t}\r\n\r\n\t\t// Reset for the next change\r\n\t\tthis.m_originalCount = 0;\r\n\t\tthis.m_modifiedCount = 0;\r\n\t\tthis.m_originalStart = Constants.MAX_SAFE_SMALL_INTEGER;\r\n\t\tthis.m_modifiedStart = Constants.MAX_SAFE_SMALL_INTEGER;\r\n\t}\r\n\r\n\t/**\r\n\t * Adds the original element at the given position to the elements\r\n\t * affected by the current change. The modified index gives context\r\n\t * to the change position with respect to the original sequence.\r\n\t * @param originalIndex The index of the original element to add.\r\n\t * @param modifiedIndex The index of the modified element that provides corresponding position in the modified sequence.\r\n\t */\r\n\tpublic AddOriginalElement(originalIndex: number, modifiedIndex: number) {\r\n\t\t// The 'true' start index is the smallest of the ones we've seen\r\n\t\tthis.m_originalStart = Math.min(this.m_originalStart, originalIndex);\r\n\t\tthis.m_modifiedStart = Math.min(this.m_modifiedStart, modifiedIndex);\r\n\r\n\t\tthis.m_originalCount++;\r\n\t}\r\n\r\n\t/**\r\n\t * Adds the modified element at the given position to the elements\r\n\t * affected by the current change. The original index gives context\r\n\t * to the change position with respect to the modified sequence.\r\n\t * @param originalIndex The index of the original element that provides corresponding position in the original sequence.\r\n\t * @param modifiedIndex The index of the modified element to add.\r\n\t */\r\n\tpublic AddModifiedElement(originalIndex: number, modifiedIndex: number): void {\r\n\t\t// The 'true' start index is the smallest of the ones we've seen\r\n\t\tthis.m_originalStart = Math.min(this.m_originalStart, originalIndex);\r\n\t\tthis.m_modifiedStart = Math.min(this.m_modifiedStart, modifiedIndex);\r\n\r\n\t\tthis.m_modifiedCount++;\r\n\t}\r\n\r\n\t/**\r\n\t * Retrieves all of the changes marked by the class.\r\n\t */\r\n\tpublic getChanges(): DiffChange[] {\r\n\t\tif (this.m_originalCount > 0 || this.m_modifiedCount > 0) {\r\n\t\t\t// Finish up on whatever is left\r\n\t\t\tthis.MarkNextChange();\r\n\t\t}\r\n\r\n\t\treturn this.m_changes;\r\n\t}\r\n\r\n\t/**\r\n\t * Retrieves all of the changes marked by the class in the reverse order\r\n\t */\r\n\tpublic getReverseChanges(): DiffChange[] {\r\n\t\tif (this.m_originalCount > 0 || this.m_modifiedCount > 0) {\r\n\t\t\t// Finish up on whatever is left\r\n\t\t\tthis.MarkNextChange();\r\n\t\t}\r\n\r\n\t\tthis.m_changes.reverse();\r\n\t\treturn this.m_changes;\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * An implementation of the difference algorithm described in\r\n * \"An O(ND) Difference Algorithm and its variations\" by Eugene W. Myers\r\n */\r\nexport class LcsDiff {\r\n\r\n\tprivate readonly ContinueProcessingPredicate: IContinueProcessingPredicate | null;\r\n\r\n\tprivate readonly _hasStrings: boolean;\r\n\tprivate readonly _originalStringElements: string[];\r\n\tprivate readonly _originalElementsOrHash: Int32Array;\r\n\tprivate readonly _modifiedStringElements: string[];\r\n\tprivate readonly _modifiedElementsOrHash: Int32Array;\r\n\r\n\tprivate m_forwardHistory: Int32Array[];\r\n\tprivate m_reverseHistory: Int32Array[];\r\n\r\n\t/**\r\n\t * Constructs the DiffFinder\r\n\t */\r\n\tconstructor(originalSequence: ISequence, modifiedSequence: ISequence, continueProcessingPredicate: IContinueProcessingPredicate | null = null) {\r\n\t\tthis.ContinueProcessingPredicate = continueProcessingPredicate;\r\n\r\n\t\tconst [originalStringElements, originalElementsOrHash, originalHasStrings] = LcsDiff._getElements(originalSequence);\r\n\t\tconst [modifiedStringElements, modifiedElementsOrHash, modifiedHasStrings] = LcsDiff._getElements(modifiedSequence);\r\n\r\n\t\tthis._hasStrings = (originalHasStrings && modifiedHasStrings);\r\n\t\tthis._originalStringElements = originalStringElements;\r\n\t\tthis._originalElementsOrHash = originalElementsOrHash;\r\n\t\tthis._modifiedStringElements = modifiedStringElements;\r\n\t\tthis._modifiedElementsOrHash = modifiedElementsOrHash;\r\n\r\n\t\tthis.m_forwardHistory = [];\r\n\t\tthis.m_reverseHistory = [];\r\n\t}\r\n\r\n\tprivate static _getElements(sequence: ISequence): [string[], Int32Array, boolean] {\r\n\t\tconst elements = sequence.getElements();\r\n\r\n\t\tif (elements instanceof Int32Array) {\r\n\t\t\treturn [[], elements, false];\r\n\t\t}\r\n\r\n\t\treturn [[], new Int32Array(elements), false];\r\n\t}\r\n\r\n\tprivate ElementsAreEqual(originalIndex: number, newIndex: number): boolean {\r\n\t\tif (this._originalElementsOrHash[originalIndex] !== this._modifiedElementsOrHash[newIndex]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn (this._hasStrings ? this._originalStringElements[originalIndex] === this._modifiedStringElements[newIndex] : true);\r\n\t}\r\n\r\n\tprivate OriginalElementsAreEqual(index1: number, index2: number): boolean {\r\n\t\tif (this._originalElementsOrHash[index1] !== this._originalElementsOrHash[index2]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn (this._hasStrings ? this._originalStringElements[index1] === this._originalStringElements[index2] : true);\r\n\t}\r\n\r\n\tprivate ModifiedElementsAreEqual(index1: number, index2: number): boolean {\r\n\t\tif (this._modifiedElementsOrHash[index1] !== this._modifiedElementsOrHash[index2]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn (this._hasStrings ? this._modifiedStringElements[index1] === this._modifiedStringElements[index2] : true);\r\n\t}\r\n\r\n\tpublic ComputeDiff(pretty: boolean): IDiffResult {\r\n\t\treturn this._ComputeDiff(0, this._originalElementsOrHash.length - 1, 0, this._modifiedElementsOrHash.length - 1, pretty);\r\n\t}\r\n\r\n\t/**\r\n\t * Computes the differences between the original and modified input\r\n\t * sequences on the bounded range.\r\n\t * @returns An array of the differences between the two input sequences.\r\n\t */\r\n\tprivate _ComputeDiff(originalStart: number, originalEnd: number, modifiedStart: number, modifiedEnd: number, pretty: boolean): IDiffResult {\r\n\t\tconst quitEarlyArr = [false];\r\n\t\tlet changes = this.ComputeDiffRecursive(originalStart, originalEnd, modifiedStart, modifiedEnd, quitEarlyArr);\r\n\r\n\t\tif (pretty) {\r\n\t\t\t// We have to clean up the computed diff to be more intuitive\r\n\t\t\t// but it turns out this cannot be done correctly until the entire set\r\n\t\t\t// of diffs have been computed\r\n\t\t\tchanges = this.PrettifyChanges(changes);\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tquitEarly: quitEarlyArr[0],\r\n\t\t\tchanges: changes\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Private helper method which computes the differences on the bounded range\r\n\t * recursively.\r\n\t * @returns An array of the differences between the two input sequences.\r\n\t */\r\n\tprivate ComputeDiffRecursive(originalStart: number, originalEnd: number, modifiedStart: number, modifiedEnd: number, quitEarlyArr: boolean[]): DiffChange[] {\r\n\t\tquitEarlyArr[0] = false;\r\n\r\n\t\t// Find the start of the differences\r\n\t\twhile (originalStart <= originalEnd && modifiedStart <= modifiedEnd && this.ElementsAreEqual(originalStart, modifiedStart)) {\r\n\t\t\toriginalStart++;\r\n\t\t\tmodifiedStart++;\r\n\t\t}\r\n\r\n\t\t// Find the end of the differences\r\n\t\twhile (originalEnd >= originalStart && modifiedEnd >= modifiedStart && this.ElementsAreEqual(originalEnd, modifiedEnd)) {\r\n\t\t\toriginalEnd--;\r\n\t\t\tmodifiedEnd--;\r\n\t\t}\r\n\r\n\t\t// In the special case where we either have all insertions or all deletions or the sequences are identical\r\n\t\tif (originalStart > originalEnd || modifiedStart > modifiedEnd) {\r\n\t\t\tlet changes: DiffChange[];\r\n\r\n\t\t\tif (modifiedStart <= modifiedEnd) {\r\n\t\t\t\tDebug.Assert(originalStart === originalEnd + 1, 'originalStart should only be one more than originalEnd');\r\n\r\n\t\t\t\t// All insertions\r\n\t\t\t\tchanges = [\r\n\t\t\t\t\tnew DiffChange(originalStart, 0, modifiedStart, modifiedEnd - modifiedStart + 1)\r\n\t\t\t\t];\r\n\t\t\t} else if (originalStart <= originalEnd) {\r\n\t\t\t\tDebug.Assert(modifiedStart === modifiedEnd + 1, 'modifiedStart should only be one more than modifiedEnd');\r\n\r\n\t\t\t\t// All deletions\r\n\t\t\t\tchanges = [\r\n\t\t\t\t\tnew DiffChange(originalStart, originalEnd - originalStart + 1, modifiedStart, 0)\r\n\t\t\t\t];\r\n\t\t\t} else {\r\n\t\t\t\tDebug.Assert(originalStart === originalEnd + 1, 'originalStart should only be one more than originalEnd');\r\n\t\t\t\tDebug.Assert(modifiedStart === modifiedEnd + 1, 'modifiedStart should only be one more than modifiedEnd');\r\n\r\n\t\t\t\t// Identical sequences - No differences\r\n\t\t\t\tchanges = [];\r\n\t\t\t}\r\n\r\n\t\t\treturn changes;\r\n\t\t}\r\n\r\n\t\t// This problem can be solved using the Divide-And-Conquer technique.\r\n\t\tconst midOriginalArr = [0];\r\n\t\tconst midModifiedArr = [0];\r\n\t\tconst result = this.ComputeRecursionPoint(originalStart, originalEnd, modifiedStart, modifiedEnd, midOriginalArr, midModifiedArr, quitEarlyArr);\r\n\r\n\t\tconst midOriginal = midOriginalArr[0];\r\n\t\tconst midModified = midModifiedArr[0];\r\n\r\n\t\tif (result !== null) {\r\n\t\t\t// Result is not-null when there was enough memory to compute the changes while\r\n\t\t\t// searching for the recursion point\r\n\t\t\treturn result;\r\n\t\t} else if (!quitEarlyArr[0]) {\r\n\t\t\t// We can break the problem down recursively by finding the changes in the\r\n\t\t\t// First Half:   (originalStart, modifiedStart) to (midOriginal, midModified)\r\n\t\t\t// Second Half:  (midOriginal + 1, minModified + 1) to (originalEnd, modifiedEnd)\r\n\t\t\t// NOTE: ComputeDiff() is inclusive, therefore the second range starts on the next point\r\n\r\n\t\t\tconst leftChanges = this.ComputeDiffRecursive(originalStart, midOriginal, modifiedStart, midModified, quitEarlyArr);\r\n\t\t\tlet rightChanges: DiffChange[] = [];\r\n\r\n\t\t\tif (!quitEarlyArr[0]) {\r\n\t\t\t\trightChanges = this.ComputeDiffRecursive(midOriginal + 1, originalEnd, midModified + 1, modifiedEnd, quitEarlyArr);\r\n\t\t\t} else {\r\n\t\t\t\t// We did't have time to finish the first half, so we don't have time to compute this half.\r\n\t\t\t\t// Consider the entire rest of the sequence different.\r\n\t\t\t\trightChanges = [\r\n\t\t\t\t\tnew DiffChange(midOriginal + 1, originalEnd - (midOriginal + 1) + 1, midModified + 1, modifiedEnd - (midModified + 1) + 1)\r\n\t\t\t\t];\r\n\t\t\t}\r\n\r\n\t\t\treturn this.ConcatenateChanges(leftChanges, rightChanges);\r\n\t\t}\r\n\r\n\t\t// If we hit here, we quit early, and so can't return anything meaningful\r\n\t\treturn [\r\n\t\t\tnew DiffChange(originalStart, originalEnd - originalStart + 1, modifiedStart, modifiedEnd - modifiedStart + 1)\r\n\t\t];\r\n\t}\r\n\r\n\tprivate WALKTRACE(diagonalForwardBase: number, diagonalForwardStart: number, diagonalForwardEnd: number, diagonalForwardOffset: number,\r\n\t\tdiagonalReverseBase: number, diagonalReverseStart: number, diagonalReverseEnd: number, diagonalReverseOffset: number,\r\n\t\tforwardPoints: Int32Array, reversePoints: Int32Array,\r\n\t\toriginalIndex: number, originalEnd: number, midOriginalArr: number[],\r\n\t\tmodifiedIndex: number, modifiedEnd: number, midModifiedArr: number[],\r\n\t\tdeltaIsEven: boolean, quitEarlyArr: boolean[]\r\n\t): DiffChange[] {\r\n\t\tlet forwardChanges: DiffChange[] | null = null;\r\n\t\tlet reverseChanges: DiffChange[] | null = null;\r\n\r\n\t\t// First, walk backward through the forward diagonals history\r\n\t\tlet changeHelper = new DiffChangeHelper();\r\n\t\tlet diagonalMin = diagonalForwardStart;\r\n\t\tlet diagonalMax = diagonalForwardEnd;\r\n\t\tlet diagonalRelative = (midOriginalArr[0] - midModifiedArr[0]) - diagonalForwardOffset;\r\n\t\tlet lastOriginalIndex = Constants.MIN_SAFE_SMALL_INTEGER;\r\n\t\tlet historyIndex = this.m_forwardHistory.length - 1;\r\n\r\n\t\tdo {\r\n\t\t\t// Get the diagonal index from the relative diagonal number\r\n\t\t\tconst diagonal = diagonalRelative + diagonalForwardBase;\r\n\r\n\t\t\t// Figure out where we came from\r\n\t\t\tif (diagonal === diagonalMin || (diagonal < diagonalMax && forwardPoints[diagonal - 1] < forwardPoints[diagonal + 1])) {\r\n\t\t\t\t// Vertical line (the element is an insert)\r\n\t\t\t\toriginalIndex = forwardPoints[diagonal + 1];\r\n\t\t\t\tmodifiedIndex = originalIndex - diagonalRelative - diagonalForwardOffset;\r\n\t\t\t\tif (originalIndex < lastOriginalIndex) {\r\n\t\t\t\t\tchangeHelper.MarkNextChange();\r\n\t\t\t\t}\r\n\t\t\t\tlastOriginalIndex = originalIndex;\r\n\t\t\t\tchangeHelper.AddModifiedElement(originalIndex + 1, modifiedIndex);\r\n\t\t\t\tdiagonalRelative = (diagonal + 1) - diagonalForwardBase; //Setup for the next iteration\r\n\t\t\t} else {\r\n\t\t\t\t// Horizontal line (the element is a deletion)\r\n\t\t\t\toriginalIndex = forwardPoints[diagonal - 1] + 1;\r\n\t\t\t\tmodifiedIndex = originalIndex - diagonalRelative - diagonalForwardOffset;\r\n\t\t\t\tif (originalIndex < lastOriginalIndex) {\r\n\t\t\t\t\tchangeHelper.MarkNextChange();\r\n\t\t\t\t}\r\n\t\t\t\tlastOriginalIndex = originalIndex - 1;\r\n\t\t\t\tchangeHelper.AddOriginalElement(originalIndex, modifiedIndex + 1);\r\n\t\t\t\tdiagonalRelative = (diagonal - 1) - diagonalForwardBase; //Setup for the next iteration\r\n\t\t\t}\r\n\r\n\t\t\tif (historyIndex >= 0) {\r\n\t\t\t\tforwardPoints = this.m_forwardHistory[historyIndex];\r\n\t\t\t\tdiagonalForwardBase = forwardPoints[0]; //We stored this in the first spot\r\n\t\t\t\tdiagonalMin = 1;\r\n\t\t\t\tdiagonalMax = forwardPoints.length - 1;\r\n\t\t\t}\r\n\t\t} while (--historyIndex >= -1);\r\n\r\n\t\t// Ironically, we get the forward changes as the reverse of the\r\n\t\t// order we added them since we technically added them backwards\r\n\t\tforwardChanges = changeHelper.getReverseChanges();\r\n\r\n\t\tif (quitEarlyArr[0]) {\r\n\t\t\t// TODO: Calculate a partial from the reverse diagonals.\r\n\t\t\t//       For now, just assume everything after the midOriginal/midModified point is a diff\r\n\r\n\t\t\tlet originalStartPoint = midOriginalArr[0] + 1;\r\n\t\t\tlet modifiedStartPoint = midModifiedArr[0] + 1;\r\n\r\n\t\t\tif (forwardChanges !== null && forwardChanges.length > 0) {\r\n\t\t\t\tconst lastForwardChange = forwardChanges[forwardChanges.length - 1];\r\n\t\t\t\toriginalStartPoint = Math.max(originalStartPoint, lastForwardChange.getOriginalEnd());\r\n\t\t\t\tmodifiedStartPoint = Math.max(modifiedStartPoint, lastForwardChange.getModifiedEnd());\r\n\t\t\t}\r\n\r\n\t\t\treverseChanges = [\r\n\t\t\t\tnew DiffChange(originalStartPoint, originalEnd - originalStartPoint + 1,\r\n\t\t\t\t\tmodifiedStartPoint, modifiedEnd - modifiedStartPoint + 1)\r\n\t\t\t];\r\n\t\t} else {\r\n\t\t\t// Now walk backward through the reverse diagonals history\r\n\t\t\tchangeHelper = new DiffChangeHelper();\r\n\t\t\tdiagonalMin = diagonalReverseStart;\r\n\t\t\tdiagonalMax = diagonalReverseEnd;\r\n\t\t\tdiagonalRelative = (midOriginalArr[0] - midModifiedArr[0]) - diagonalReverseOffset;\r\n\t\t\tlastOriginalIndex = Constants.MAX_SAFE_SMALL_INTEGER;\r\n\t\t\thistoryIndex = (deltaIsEven) ? this.m_reverseHistory.length - 1 : this.m_reverseHistory.length - 2;\r\n\r\n\t\t\tdo {\r\n\t\t\t\t// Get the diagonal index from the relative diagonal number\r\n\t\t\t\tconst diagonal = diagonalRelative + diagonalReverseBase;\r\n\r\n\t\t\t\t// Figure out where we came from\r\n\t\t\t\tif (diagonal === diagonalMin || (diagonal < diagonalMax && reversePoints[diagonal - 1] >= reversePoints[diagonal + 1])) {\r\n\t\t\t\t\t// Horizontal line (the element is a deletion))\r\n\t\t\t\t\toriginalIndex = reversePoints[diagonal + 1] - 1;\r\n\t\t\t\t\tmodifiedIndex = originalIndex - diagonalRelative - diagonalReverseOffset;\r\n\t\t\t\t\tif (originalIndex > lastOriginalIndex) {\r\n\t\t\t\t\t\tchangeHelper.MarkNextChange();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlastOriginalIndex = originalIndex + 1;\r\n\t\t\t\t\tchangeHelper.AddOriginalElement(originalIndex + 1, modifiedIndex + 1);\r\n\t\t\t\t\tdiagonalRelative = (diagonal + 1) - diagonalReverseBase; //Setup for the next iteration\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Vertical line (the element is an insertion)\r\n\t\t\t\t\toriginalIndex = reversePoints[diagonal - 1];\r\n\t\t\t\t\tmodifiedIndex = originalIndex - diagonalRelative - diagonalReverseOffset;\r\n\t\t\t\t\tif (originalIndex > lastOriginalIndex) {\r\n\t\t\t\t\t\tchangeHelper.MarkNextChange();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlastOriginalIndex = originalIndex;\r\n\t\t\t\t\tchangeHelper.AddModifiedElement(originalIndex + 1, modifiedIndex + 1);\r\n\t\t\t\t\tdiagonalRelative = (diagonal - 1) - diagonalReverseBase; //Setup for the next iteration\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (historyIndex >= 0) {\r\n\t\t\t\t\treversePoints = this.m_reverseHistory[historyIndex];\r\n\t\t\t\t\tdiagonalReverseBase = reversePoints[0]; //We stored this in the first spot\r\n\t\t\t\t\tdiagonalMin = 1;\r\n\t\t\t\t\tdiagonalMax = reversePoints.length - 1;\r\n\t\t\t\t}\r\n\t\t\t} while (--historyIndex >= -1);\r\n\r\n\t\t\t// There are cases where the reverse history will find diffs that\r\n\t\t\t// are correct, but not intuitive, so we need shift them.\r\n\t\t\treverseChanges = changeHelper.getChanges();\r\n\t\t}\r\n\r\n\t\treturn this.ConcatenateChanges(forwardChanges, reverseChanges);\r\n\t}\r\n\r\n\t/**\r\n\t * Given the range to compute the diff on, this method finds the point:\r\n\t * (midOriginal, midModified)\r\n\t * that exists in the middle of the LCS of the two sequences and\r\n\t * is the point at which the LCS problem may be broken down recursively.\r\n\t * This method will try to keep the LCS trace in memory. If the LCS recursion\r\n\t * point is calculated and the full trace is available in memory, then this method\r\n\t * will return the change list.\r\n\t * @param originalStart The start bound of the original sequence range\r\n\t * @param originalEnd The end bound of the original sequence range\r\n\t * @param modifiedStart The start bound of the modified sequence range\r\n\t * @param modifiedEnd The end bound of the modified sequence range\r\n\t * @param midOriginal The middle point of the original sequence range\r\n\t * @param midModified The middle point of the modified sequence range\r\n\t * @returns The diff changes, if available, otherwise null\r\n\t */\r\n\tprivate ComputeRecursionPoint(originalStart: number, originalEnd: number, modifiedStart: number, modifiedEnd: number, midOriginalArr: number[], midModifiedArr: number[], quitEarlyArr: boolean[]) {\r\n\t\tlet originalIndex = 0, modifiedIndex = 0;\r\n\t\tlet diagonalForwardStart = 0, diagonalForwardEnd = 0;\r\n\t\tlet diagonalReverseStart = 0, diagonalReverseEnd = 0;\r\n\r\n\t\t// To traverse the edit graph and produce the proper LCS, our actual\r\n\t\t// start position is just outside the given boundary\r\n\t\toriginalStart--;\r\n\t\tmodifiedStart--;\r\n\r\n\t\t// We set these up to make the compiler happy, but they will\r\n\t\t// be replaced before we return with the actual recursion point\r\n\t\tmidOriginalArr[0] = 0;\r\n\t\tmidModifiedArr[0] = 0;\r\n\r\n\t\t// Clear out the history\r\n\t\tthis.m_forwardHistory = [];\r\n\t\tthis.m_reverseHistory = [];\r\n\r\n\t\t// Each cell in the two arrays corresponds to a diagonal in the edit graph.\r\n\t\t// The integer value in the cell represents the originalIndex of the furthest\r\n\t\t// reaching point found so far that ends in that diagonal.\r\n\t\t// The modifiedIndex can be computed mathematically from the originalIndex and the diagonal number.\r\n\t\tconst maxDifferences = (originalEnd - originalStart) + (modifiedEnd - modifiedStart);\r\n\t\tconst numDiagonals = maxDifferences + 1;\r\n\t\tconst forwardPoints = new Int32Array(numDiagonals);\r\n\t\tconst reversePoints = new Int32Array(numDiagonals);\r\n\t\t// diagonalForwardBase: Index into forwardPoints of the diagonal which passes through (originalStart, modifiedStart)\r\n\t\t// diagonalReverseBase: Index into reversePoints of the diagonal which passes through (originalEnd, modifiedEnd)\r\n\t\tconst diagonalForwardBase = (modifiedEnd - modifiedStart);\r\n\t\tconst diagonalReverseBase = (originalEnd - originalStart);\r\n\t\t// diagonalForwardOffset: Geometric offset which allows modifiedIndex to be computed from originalIndex and the\r\n\t\t//    diagonal number (relative to diagonalForwardBase)\r\n\t\t// diagonalReverseOffset: Geometric offset which allows modifiedIndex to be computed from originalIndex and the\r\n\t\t//    diagonal number (relative to diagonalReverseBase)\r\n\t\tconst diagonalForwardOffset = (originalStart - modifiedStart);\r\n\t\tconst diagonalReverseOffset = (originalEnd - modifiedEnd);\r\n\r\n\t\t// delta: The difference between the end diagonal and the start diagonal. This is used to relate diagonal numbers\r\n\t\t//   relative to the start diagonal with diagonal numbers relative to the end diagonal.\r\n\t\t// The Even/Oddn-ness of this delta is important for determining when we should check for overlap\r\n\t\tconst delta = diagonalReverseBase - diagonalForwardBase;\r\n\t\tconst deltaIsEven = (delta % 2 === 0);\r\n\r\n\t\t// Here we set up the start and end points as the furthest points found so far\r\n\t\t// in both the forward and reverse directions, respectively\r\n\t\tforwardPoints[diagonalForwardBase] = originalStart;\r\n\t\treversePoints[diagonalReverseBase] = originalEnd;\r\n\r\n\t\t// Remember if we quit early, and thus need to do a best-effort result instead of a real result.\r\n\t\tquitEarlyArr[0] = false;\r\n\r\n\r\n\r\n\t\t// A couple of points:\r\n\t\t// --With this method, we iterate on the number of differences between the two sequences.\r\n\t\t//   The more differences there actually are, the longer this will take.\r\n\t\t// --Also, as the number of differences increases, we have to search on diagonals further\r\n\t\t//   away from the reference diagonal (which is diagonalForwardBase for forward, diagonalReverseBase for reverse).\r\n\t\t// --We extend on even diagonals (relative to the reference diagonal) only when numDifferences\r\n\t\t//   is even and odd diagonals only when numDifferences is odd.\r\n\t\tfor (let numDifferences = 1; numDifferences <= (maxDifferences / 2) + 1; numDifferences++) {\r\n\t\t\tlet furthestOriginalIndex = 0;\r\n\t\t\tlet furthestModifiedIndex = 0;\r\n\r\n\t\t\t// Run the algorithm in the forward direction\r\n\t\t\tdiagonalForwardStart = this.ClipDiagonalBound(diagonalForwardBase - numDifferences, numDifferences, diagonalForwardBase, numDiagonals);\r\n\t\t\tdiagonalForwardEnd = this.ClipDiagonalBound(diagonalForwardBase + numDifferences, numDifferences, diagonalForwardBase, numDiagonals);\r\n\t\t\tfor (let diagonal = diagonalForwardStart; diagonal <= diagonalForwardEnd; diagonal += 2) {\r\n\t\t\t\t// STEP 1: We extend the furthest reaching point in the present diagonal\r\n\t\t\t\t// by looking at the diagonals above and below and picking the one whose point\r\n\t\t\t\t// is further away from the start point (originalStart, modifiedStart)\r\n\t\t\t\tif (diagonal === diagonalForwardStart || (diagonal < diagonalForwardEnd && forwardPoints[diagonal - 1] < forwardPoints[diagonal + 1])) {\r\n\t\t\t\t\toriginalIndex = forwardPoints[diagonal + 1];\r\n\t\t\t\t} else {\r\n\t\t\t\t\toriginalIndex = forwardPoints[diagonal - 1] + 1;\r\n\t\t\t\t}\r\n\t\t\t\tmodifiedIndex = originalIndex - (diagonal - diagonalForwardBase) - diagonalForwardOffset;\r\n\r\n\t\t\t\t// Save the current originalIndex so we can test for false overlap in step 3\r\n\t\t\t\tconst tempOriginalIndex = originalIndex;\r\n\r\n\t\t\t\t// STEP 2: We can continue to extend the furthest reaching point in the present diagonal\r\n\t\t\t\t// so long as the elements are equal.\r\n\t\t\t\twhile (originalIndex < originalEnd && modifiedIndex < modifiedEnd && this.ElementsAreEqual(originalIndex + 1, modifiedIndex + 1)) {\r\n\t\t\t\t\toriginalIndex++;\r\n\t\t\t\t\tmodifiedIndex++;\r\n\t\t\t\t}\r\n\t\t\t\tforwardPoints[diagonal] = originalIndex;\r\n\r\n\t\t\t\tif (originalIndex + modifiedIndex > furthestOriginalIndex + furthestModifiedIndex) {\r\n\t\t\t\t\tfurthestOriginalIndex = originalIndex;\r\n\t\t\t\t\tfurthestModifiedIndex = modifiedIndex;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// STEP 3: If delta is odd (overlap first happens on forward when delta is odd)\r\n\t\t\t\t// and diagonal is in the range of reverse diagonals computed for numDifferences-1\r\n\t\t\t\t// (the previous iteration; we haven't computed reverse diagonals for numDifferences yet)\r\n\t\t\t\t// then check for overlap.\r\n\t\t\t\tif (!deltaIsEven && Math.abs(diagonal - diagonalReverseBase) <= (numDifferences - 1)) {\r\n\t\t\t\t\tif (originalIndex >= reversePoints[diagonal]) {\r\n\t\t\t\t\t\tmidOriginalArr[0] = originalIndex;\r\n\t\t\t\t\t\tmidModifiedArr[0] = modifiedIndex;\r\n\r\n\t\t\t\t\t\tif (tempOriginalIndex <= reversePoints[diagonal] && LocalConstants.MaxDifferencesHistory > 0 && numDifferences <= (LocalConstants.MaxDifferencesHistory + 1)) {\r\n\t\t\t\t\t\t\t// BINGO! We overlapped, and we have the full trace in memory!\r\n\t\t\t\t\t\t\treturn this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset,\r\n\t\t\t\t\t\t\t\tdiagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset,\r\n\t\t\t\t\t\t\t\tforwardPoints, reversePoints,\r\n\t\t\t\t\t\t\t\toriginalIndex, originalEnd, midOriginalArr,\r\n\t\t\t\t\t\t\t\tmodifiedIndex, modifiedEnd, midModifiedArr,\r\n\t\t\t\t\t\t\t\tdeltaIsEven, quitEarlyArr\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Either false overlap, or we didn't have enough memory for the full trace\r\n\t\t\t\t\t\t\t// Just return the recursion point\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Check to see if we should be quitting early, before moving on to the next iteration.\r\n\t\t\tconst matchLengthOfLongest = ((furthestOriginalIndex - originalStart) + (furthestModifiedIndex - modifiedStart) - numDifferences) / 2;\r\n\r\n\t\t\tif (this.ContinueProcessingPredicate !== null && !this.ContinueProcessingPredicate(furthestOriginalIndex, matchLengthOfLongest)) {\r\n\t\t\t\t// We can't finish, so skip ahead to generating a result from what we have.\r\n\t\t\t\tquitEarlyArr[0] = true;\r\n\r\n\t\t\t\t// Use the furthest distance we got in the forward direction.\r\n\t\t\t\tmidOriginalArr[0] = furthestOriginalIndex;\r\n\t\t\t\tmidModifiedArr[0] = furthestModifiedIndex;\r\n\r\n\t\t\t\tif (matchLengthOfLongest > 0 && LocalConstants.MaxDifferencesHistory > 0 && numDifferences <= (LocalConstants.MaxDifferencesHistory + 1)) {\r\n\t\t\t\t\t// Enough of the history is in memory to walk it backwards\r\n\t\t\t\t\treturn this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset,\r\n\t\t\t\t\t\tdiagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset,\r\n\t\t\t\t\t\tforwardPoints, reversePoints,\r\n\t\t\t\t\t\toriginalIndex, originalEnd, midOriginalArr,\r\n\t\t\t\t\t\tmodifiedIndex, modifiedEnd, midModifiedArr,\r\n\t\t\t\t\t\tdeltaIsEven, quitEarlyArr\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// We didn't actually remember enough of the history.\r\n\r\n\t\t\t\t\t//Since we are quitting the diff early, we need to shift back the originalStart and modified start\r\n\t\t\t\t\t//back into the boundary limits since we decremented their value above beyond the boundary limit.\r\n\t\t\t\t\toriginalStart++;\r\n\t\t\t\t\tmodifiedStart++;\r\n\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\tnew DiffChange(originalStart, originalEnd - originalStart + 1,\r\n\t\t\t\t\t\t\tmodifiedStart, modifiedEnd - modifiedStart + 1)\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Run the algorithm in the reverse direction\r\n\t\t\tdiagonalReverseStart = this.ClipDiagonalBound(diagonalReverseBase - numDifferences, numDifferences, diagonalReverseBase, numDiagonals);\r\n\t\t\tdiagonalReverseEnd = this.ClipDiagonalBound(diagonalReverseBase + numDifferences, numDifferences, diagonalReverseBase, numDiagonals);\r\n\t\t\tfor (let diagonal = diagonalReverseStart; diagonal <= diagonalReverseEnd; diagonal += 2) {\r\n\t\t\t\t// STEP 1: We extend the furthest reaching point in the present diagonal\r\n\t\t\t\t// by looking at the diagonals above and below and picking the one whose point\r\n\t\t\t\t// is further away from the start point (originalEnd, modifiedEnd)\r\n\t\t\t\tif (diagonal === diagonalReverseStart || (diagonal < diagonalReverseEnd && reversePoints[diagonal - 1] >= reversePoints[diagonal + 1])) {\r\n\t\t\t\t\toriginalIndex = reversePoints[diagonal + 1] - 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toriginalIndex = reversePoints[diagonal - 1];\r\n\t\t\t\t}\r\n\t\t\t\tmodifiedIndex = originalIndex - (diagonal - diagonalReverseBase) - diagonalReverseOffset;\r\n\r\n\t\t\t\t// Save the current originalIndex so we can test for false overlap\r\n\t\t\t\tconst tempOriginalIndex = originalIndex;\r\n\r\n\t\t\t\t// STEP 2: We can continue to extend the furthest reaching point in the present diagonal\r\n\t\t\t\t// as long as the elements are equal.\r\n\t\t\t\twhile (originalIndex > originalStart && modifiedIndex > modifiedStart && this.ElementsAreEqual(originalIndex, modifiedIndex)) {\r\n\t\t\t\t\toriginalIndex--;\r\n\t\t\t\t\tmodifiedIndex--;\r\n\t\t\t\t}\r\n\t\t\t\treversePoints[diagonal] = originalIndex;\r\n\r\n\t\t\t\t// STEP 4: If delta is even (overlap first happens on reverse when delta is even)\r\n\t\t\t\t// and diagonal is in the range of forward diagonals computed for numDifferences\r\n\t\t\t\t// then check for overlap.\r\n\t\t\t\tif (deltaIsEven && Math.abs(diagonal - diagonalForwardBase) <= numDifferences) {\r\n\t\t\t\t\tif (originalIndex <= forwardPoints[diagonal]) {\r\n\t\t\t\t\t\tmidOriginalArr[0] = originalIndex;\r\n\t\t\t\t\t\tmidModifiedArr[0] = modifiedIndex;\r\n\r\n\t\t\t\t\t\tif (tempOriginalIndex >= forwardPoints[diagonal] && LocalConstants.MaxDifferencesHistory > 0 && numDifferences <= (LocalConstants.MaxDifferencesHistory + 1)) {\r\n\t\t\t\t\t\t\t// BINGO! We overlapped, and we have the full trace in memory!\r\n\t\t\t\t\t\t\treturn this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset,\r\n\t\t\t\t\t\t\t\tdiagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset,\r\n\t\t\t\t\t\t\t\tforwardPoints, reversePoints,\r\n\t\t\t\t\t\t\t\toriginalIndex, originalEnd, midOriginalArr,\r\n\t\t\t\t\t\t\t\tmodifiedIndex, modifiedEnd, midModifiedArr,\r\n\t\t\t\t\t\t\t\tdeltaIsEven, quitEarlyArr\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Either false overlap, or we didn't have enough memory for the full trace\r\n\t\t\t\t\t\t\t// Just return the recursion point\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Save current vectors to history before the next iteration\r\n\t\t\tif (numDifferences <= LocalConstants.MaxDifferencesHistory) {\r\n\t\t\t\t// We are allocating space for one extra int, which we fill with\r\n\t\t\t\t// the index of the diagonal base index\r\n\t\t\t\tlet temp = new Int32Array(diagonalForwardEnd - diagonalForwardStart + 2);\r\n\t\t\t\ttemp[0] = diagonalForwardBase - diagonalForwardStart + 1;\r\n\t\t\t\tMyArray.Copy2(forwardPoints, diagonalForwardStart, temp, 1, diagonalForwardEnd - diagonalForwardStart + 1);\r\n\t\t\t\tthis.m_forwardHistory.push(temp);\r\n\r\n\t\t\t\ttemp = new Int32Array(diagonalReverseEnd - diagonalReverseStart + 2);\r\n\t\t\t\ttemp[0] = diagonalReverseBase - diagonalReverseStart + 1;\r\n\t\t\t\tMyArray.Copy2(reversePoints, diagonalReverseStart, temp, 1, diagonalReverseEnd - diagonalReverseStart + 1);\r\n\t\t\t\tthis.m_reverseHistory.push(temp);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// If we got here, then we have the full trace in history. We just have to convert it to a change list\r\n\t\t// NOTE: This part is a bit messy\r\n\t\treturn this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset,\r\n\t\t\tdiagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset,\r\n\t\t\tforwardPoints, reversePoints,\r\n\t\t\toriginalIndex, originalEnd, midOriginalArr,\r\n\t\t\tmodifiedIndex, modifiedEnd, midModifiedArr,\r\n\t\t\tdeltaIsEven, quitEarlyArr\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Shifts the given changes to provide a more intuitive diff.\r\n\t * While the first element in a diff matches the first element after the diff,\r\n\t * we shift the diff down.\r\n\t *\r\n\t * @param changes The list of changes to shift\r\n\t * @returns The shifted changes\r\n\t */\r\n\tprivate PrettifyChanges(changes: DiffChange[]): DiffChange[] {\r\n\r\n\t\t// Shift all the changes down first\r\n\t\tfor (let i = 0; i < changes.length; i++) {\r\n\t\t\tconst change = changes[i];\r\n\t\t\tconst originalStop = (i < changes.length - 1) ? changes[i + 1].originalStart : this._originalElementsOrHash.length;\r\n\t\t\tconst modifiedStop = (i < changes.length - 1) ? changes[i + 1].modifiedStart : this._modifiedElementsOrHash.length;\r\n\t\t\tconst checkOriginal = change.originalLength > 0;\r\n\t\t\tconst checkModified = change.modifiedLength > 0;\r\n\r\n\t\t\twhile (change.originalStart + change.originalLength < originalStop &&\r\n\t\t\t\tchange.modifiedStart + change.modifiedLength < modifiedStop &&\r\n\t\t\t\t(!checkOriginal || this.OriginalElementsAreEqual(change.originalStart, change.originalStart + change.originalLength)) &&\r\n\t\t\t\t(!checkModified || this.ModifiedElementsAreEqual(change.modifiedStart, change.modifiedStart + change.modifiedLength))) {\r\n\t\t\t\tchange.originalStart++;\r\n\t\t\t\tchange.modifiedStart++;\r\n\t\t\t}\r\n\r\n\t\t\tconst mergedChangeArr: Array<DiffChange | null> = [null];\r\n\t\t\tif (i < changes.length - 1 && this.ChangesOverlap(changes[i], changes[i + 1], mergedChangeArr)) {\r\n\t\t\t\tchanges[i] = mergedChangeArr[0]!;\r\n\t\t\t\tchanges.splice(i + 1, 1);\r\n\t\t\t\ti--;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Shift changes back up until we hit empty or whitespace-only lines\r\n\t\tfor (let i = changes.length - 1; i >= 0; i--) {\r\n\t\t\tconst change = changes[i];\r\n\r\n\t\t\tlet originalStop = 0;\r\n\t\t\tlet modifiedStop = 0;\r\n\t\t\tif (i > 0) {\r\n\t\t\t\tconst prevChange = changes[i - 1];\r\n\t\t\t\tif (prevChange.originalLength > 0) {\r\n\t\t\t\t\toriginalStop = prevChange.originalStart + prevChange.originalLength;\r\n\t\t\t\t}\r\n\t\t\t\tif (prevChange.modifiedLength > 0) {\r\n\t\t\t\t\tmodifiedStop = prevChange.modifiedStart + prevChange.modifiedLength;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst checkOriginal = change.originalLength > 0;\r\n\t\t\tconst checkModified = change.modifiedLength > 0;\r\n\r\n\t\t\tlet bestDelta = 0;\r\n\t\t\tlet bestScore = this._boundaryScore(change.originalStart, change.originalLength, change.modifiedStart, change.modifiedLength);\r\n\r\n\t\t\tfor (let delta = 1; ; delta++) {\r\n\t\t\t\tconst originalStart = change.originalStart - delta;\r\n\t\t\t\tconst modifiedStart = change.modifiedStart - delta;\r\n\r\n\t\t\t\tif (originalStart < originalStop || modifiedStart < modifiedStop) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (checkOriginal && !this.OriginalElementsAreEqual(originalStart, originalStart + change.originalLength)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (checkModified && !this.ModifiedElementsAreEqual(modifiedStart, modifiedStart + change.modifiedLength)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst score = this._boundaryScore(originalStart, change.originalLength, modifiedStart, change.modifiedLength);\r\n\r\n\t\t\t\tif (score > bestScore) {\r\n\t\t\t\t\tbestScore = score;\r\n\t\t\t\t\tbestDelta = delta;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tchange.originalStart -= bestDelta;\r\n\t\t\tchange.modifiedStart -= bestDelta;\r\n\t\t}\r\n\r\n\t\treturn changes;\r\n\t}\r\n\r\n\tprivate _OriginalIsBoundary(index: number): boolean {\r\n\t\tif (index <= 0 || index >= this._originalElementsOrHash.length - 1) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn (this._hasStrings && /^\\s*$/.test(this._originalStringElements[index]));\r\n\t}\r\n\r\n\tprivate _OriginalRegionIsBoundary(originalStart: number, originalLength: number): boolean {\r\n\t\tif (this._OriginalIsBoundary(originalStart) || this._OriginalIsBoundary(originalStart - 1)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (originalLength > 0) {\r\n\t\t\tconst originalEnd = originalStart + originalLength;\r\n\t\t\tif (this._OriginalIsBoundary(originalEnd - 1) || this._OriginalIsBoundary(originalEnd)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate _ModifiedIsBoundary(index: number): boolean {\r\n\t\tif (index <= 0 || index >= this._modifiedElementsOrHash.length - 1) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn (this._hasStrings && /^\\s*$/.test(this._modifiedStringElements[index]));\r\n\t}\r\n\r\n\tprivate _ModifiedRegionIsBoundary(modifiedStart: number, modifiedLength: number): boolean {\r\n\t\tif (this._ModifiedIsBoundary(modifiedStart) || this._ModifiedIsBoundary(modifiedStart - 1)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (modifiedLength > 0) {\r\n\t\t\tconst modifiedEnd = modifiedStart + modifiedLength;\r\n\t\t\tif (this._ModifiedIsBoundary(modifiedEnd - 1) || this._ModifiedIsBoundary(modifiedEnd)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate _boundaryScore(originalStart: number, originalLength: number, modifiedStart: number, modifiedLength: number): number {\r\n\t\tconst originalScore = (this._OriginalRegionIsBoundary(originalStart, originalLength) ? 1 : 0);\r\n\t\tconst modifiedScore = (this._ModifiedRegionIsBoundary(modifiedStart, modifiedLength) ? 1 : 0);\r\n\t\treturn (originalScore + modifiedScore);\r\n\t}\r\n\r\n\t/**\r\n\t * Concatenates the two input DiffChange lists and returns the resulting\r\n\t * list.\r\n\t * @param The left changes\r\n\t * @param The right changes\r\n\t * @returns The concatenated list\r\n\t */\r\n\tprivate ConcatenateChanges(left: DiffChange[], right: DiffChange[]): DiffChange[] {\r\n\t\tconst mergedChangeArr: DiffChange[] = [];\r\n\r\n\t\tif (left.length === 0 || right.length === 0) {\r\n\t\t\treturn (right.length > 0) ? right : left;\r\n\t\t} else if (this.ChangesOverlap(left[left.length - 1], right[0], mergedChangeArr)) {\r\n\t\t\t// Since we break the problem down recursively, it is possible that we\r\n\t\t\t// might recurse in the middle of a change thereby splitting it into\r\n\t\t\t// two changes. Here in the combining stage, we detect and fuse those\r\n\t\t\t// changes back together\r\n\t\t\tconst result = new Array<DiffChange>(left.length + right.length - 1);\r\n\t\t\tMyArray.Copy(left, 0, result, 0, left.length - 1);\r\n\t\t\tresult[left.length - 1] = mergedChangeArr[0];\r\n\t\t\tMyArray.Copy(right, 1, result, left.length, right.length - 1);\r\n\r\n\t\t\treturn result;\r\n\t\t} else {\r\n\t\t\tconst result = new Array<DiffChange>(left.length + right.length);\r\n\t\t\tMyArray.Copy(left, 0, result, 0, left.length);\r\n\t\t\tMyArray.Copy(right, 0, result, left.length, right.length);\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Returns true if the two changes overlap and can be merged into a single\r\n\t * change\r\n\t * @param left The left change\r\n\t * @param right The right change\r\n\t * @param mergedChange The merged change if the two overlap, null otherwise\r\n\t * @returns True if the two changes overlap\r\n\t */\r\n\tprivate ChangesOverlap(left: DiffChange, right: DiffChange, mergedChangeArr: Array<DiffChange | null>): boolean {\r\n\t\tDebug.Assert(left.originalStart <= right.originalStart, 'Left change is not less than or equal to right change');\r\n\t\tDebug.Assert(left.modifiedStart <= right.modifiedStart, 'Left change is not less than or equal to right change');\r\n\r\n\t\tif (left.originalStart + left.originalLength >= right.originalStart || left.modifiedStart + left.modifiedLength >= right.modifiedStart) {\r\n\t\t\tconst originalStart = left.originalStart;\r\n\t\t\tlet originalLength = left.originalLength;\r\n\t\t\tconst modifiedStart = left.modifiedStart;\r\n\t\t\tlet modifiedLength = left.modifiedLength;\r\n\r\n\t\t\tif (left.originalStart + left.originalLength >= right.originalStart) {\r\n\t\t\t\toriginalLength = right.originalStart + right.originalLength - left.originalStart;\r\n\t\t\t}\r\n\t\t\tif (left.modifiedStart + left.modifiedLength >= right.modifiedStart) {\r\n\t\t\t\tmodifiedLength = right.modifiedStart + right.modifiedLength - left.modifiedStart;\r\n\t\t\t}\r\n\r\n\t\t\tmergedChangeArr[0] = new DiffChange(originalStart, originalLength, modifiedStart, modifiedLength);\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tmergedChangeArr[0] = null;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Helper method used to clip a diagonal index to the range of valid\r\n\t * diagonals. This also decides whether or not the diagonal index,\r\n\t * if it exceeds the boundary, should be clipped to the boundary or clipped\r\n\t * one inside the boundary depending on the Even/Odd status of the boundary\r\n\t * and numDifferences.\r\n\t * @param diagonal The index of the diagonal to clip.\r\n\t * @param numDifferences The current number of differences being iterated upon.\r\n\t * @param diagonalBaseIndex The base reference diagonal.\r\n\t * @param numDiagonals The total number of diagonals.\r\n\t * @returns The clipped diagonal index.\r\n\t */\r\n\tprivate ClipDiagonalBound(diagonal: number, numDifferences: number, diagonalBaseIndex: number, numDiagonals: number): number {\r\n\t\tif (diagonal >= 0 && diagonal < numDiagonals) {\r\n\t\t\t// Nothing to clip, its in range\r\n\t\t\treturn diagonal;\r\n\t\t}\r\n\r\n\t\t// diagonalsBelow: The number of diagonals below the reference diagonal\r\n\t\t// diagonalsAbove: The number of diagonals above the reference diagonal\r\n\t\tconst diagonalsBelow = diagonalBaseIndex;\r\n\t\tconst diagonalsAbove = numDiagonals - diagonalBaseIndex - 1;\r\n\t\tconst diffEven = (numDifferences % 2 === 0);\r\n\r\n\t\tif (diagonal < 0) {\r\n\t\t\tconst lowerBoundEven = (diagonalsBelow % 2 === 0);\r\n\t\t\treturn (diffEven === lowerBoundEven) ? 0 : 1;\r\n\t\t} else {\r\n\t\t\tconst upperBoundEven = (diagonalsAbove % 2 === 0);\r\n\t\t\treturn (diffEven === upperBoundEven) ? numDiagonals - 1 : numDiagonals - 2;\r\n\t\t}\r\n\t}\r\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport * as crypto from 'crypto';\nimport { execSync } from 'child_process';\n\nimport semverParse = require('semver/functions/parse');\nimport semverGte = require('semver/functions/gte');\n\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport {\n\tDiagnostic, DiagnosticSeverity, DiagnosticTag, ProposedFeatures, Range, TextEdit, Files, DocumentFilter, DocumentFormattingRegistrationOptions,\n\tDisposable, DocumentFormattingRequest, TextDocuments, uinteger\n} from 'vscode-languageserver/node';\nimport { URI } from 'vscode-uri';\n\nimport { ProbeFailedParams, ProbeFailedRequest, NoESLintLibraryRequest, Status, NoConfigRequest, StatusNotification } from './shared/customMessages';\nimport { ConfigurationSettings, DirectoryItem, ESLintSeverity, ModeEnum, ModeItem, PackageManagers, RuleCustomization, RuleSeverity, Validate } from './shared/settings';\n\nimport * as Is from './is';\nimport { LRUCache } from './linkedMap';\nimport { isUNC, normalizeDriveLetter, normalizePath } from './paths';\nimport LanguageDefaults from './languageDefaults';\n\n\n/**\n * ESLint specific settings for a text document.\n */\nexport type TextDocumentSettings = Omit<ConfigurationSettings, 'workingDirectory'>  & {\n\tsilent: boolean;\n\tworkingDirectory: DirectoryItem | undefined;\n\tlibrary: ESLintModule | undefined;\n\tresolvedGlobalPackageManagerPath: string | undefined;\n};\n\nexport namespace TextDocumentSettings {\n\texport function hasLibrary(settings: TextDocumentSettings): settings is (TextDocumentSettings & { library: ESLintModule }) {\n\t\treturn settings.library !== undefined;\n\t}\n}\n\n/**\n * A special error thrown by the ESLint library\n */\nexport interface ESLintError extends Error {\n\tmessageTemplate?: string;\n\tmessageData?: {\n\t\tpluginName?: string;\n\t};\n}\n\nexport namespace ESLintError {\n\texport function isNoConfigFound(error: any): boolean {\n\t\tconst candidate = error as ESLintError;\n\t\treturn candidate.messageTemplate === 'no-config-found' || candidate.message === 'No ESLint configuration found.';\n\t}\n}\n\ntype ESLintAutoFixEdit = {\n\trange: [number, number];\n\ttext: string;\n};\n\ntype ESLintSuggestionResult = {\n\tdesc: string;\n\tfix: ESLintAutoFixEdit;\n};\n\ntype ESLintProblem = {\n\tline: number;\n\tcolumn: number;\n\tendLine?: number;\n\tendColumn?: number;\n\tseverity: number;\n\truleId: string;\n\tmessage: string;\n\tfix?: ESLintAutoFixEdit;\n\tsuggestions?: ESLintSuggestionResult[];\n};\n\ntype ESLintDocumentReport = {\n\tfilePath: string;\n\terrorCount: number;\n\twarningCount: number;\n\tmessages: ESLintProblem[];\n\toutput?: string;\n};\n\ntype ESLintReport = {\n\terrorCount: number;\n\twarningCount: number;\n\tresults: ESLintDocumentReport[];\n};\n\nexport type CLIOptions = {\n\tcwd?: string;\n\tfixTypes?: string[];\n\tfix?: boolean;\n};\n\nexport type SeverityConf = 0 | 1 | 2 | 'off' | 'warn' | 'error';\n\nexport type RuleConf = SeverityConf | [SeverityConf, ...any[]];\n\nexport type ConfigData = {\n\trules?: Record<string, RuleConf>;\n};\n\nexport type ESLintClassOptions = {\n\tcwd?: string;\n\tfixTypes?: string[];\n\tfix?: boolean;\n\toverrideConfig?: ConfigData;\n\toverrideConfigFile?: string | null;\n};\n\nexport type RuleMetaData = {\n\tdocs?: {\n\t\turl?: string;\n\t};\n\ttype?: string;\n};\n\nexport namespace RuleMetaData {\n\t// For unused eslint-disable comments, ESLint does not include a rule ID\n\t// nor any other metadata (although they do provide a fix). In order to\n\t// provide code actions for these, we create a fake rule ID and metadata.\n\texport const unusedDisableDirectiveId = 'unused-disable-directive';\n\tconst unusedDisableDirectiveMeta: RuleMetaData = {\n\t\tdocs: {\n\t\t\turl: 'https://eslint.org/docs/latest/use/configure/rules#report-unused-eslint-disable-comments'\n\t\t},\n\t\ttype: 'directive'\n\t};\n\n\tconst handled: Set<string> = new Set();\n\tconst ruleId2Meta: Map<string, RuleMetaData> = new Map([[unusedDisableDirectiveId, unusedDisableDirectiveMeta]]);\n\n\texport function capture(eslint: ESLintClass, reports: ESLintDocumentReport[]): void {\n\t\tlet rulesMetaData: Record<string, RuleMetaData> | undefined;\n\t\tif (eslint.isCLIEngine) {\n\t\t\tconst toHandle = reports.filter(report => !handled.has(report.filePath));\n\t\t\tif (toHandle.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\trulesMetaData = typeof eslint.getRulesMetaForResults === 'function' ? eslint.getRulesMetaForResults(toHandle) : undefined;\n\t\t\ttoHandle.forEach(report => handled.add(report.filePath));\n\t\t} else {\n\t\t\trulesMetaData = typeof eslint.getRulesMetaForResults === 'function' ? eslint.getRulesMetaForResults(reports) : undefined;\n\t\t}\n\t\tif (rulesMetaData === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\tObject.entries(rulesMetaData).forEach(([key, meta]) => {\n\t\t\tif (ruleId2Meta.has(key)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (meta && meta.docs && Is.string(meta.docs.url)) {\n\t\t\t\truleId2Meta.set(key, meta);\n\t\t\t}\n\t\t});\n\t}\n\n\texport function clear(): void {\n\t\thandled.clear();\n\t\truleId2Meta.clear();\n\t\truleId2Meta.set(unusedDisableDirectiveId, unusedDisableDirectiveMeta);\n\t}\n\n\texport function getUrl(ruleId: string): string | undefined {\n\t\treturn ruleId2Meta.get(ruleId)?.docs?.url;\n\t}\n\n\texport function getType(ruleId: string): string | undefined {\n\t\treturn ruleId2Meta.get(ruleId)?.type;\n\t}\n\n\texport function hasRuleId(ruleId: string): boolean {\n\t\treturn ruleId2Meta.has(ruleId);\n\t}\n\n\texport function isUnusedDisableDirectiveProblem(problem: ESLintProblem): boolean {\n\t\treturn problem.ruleId === null && problem.message.startsWith('Unused eslint-disable directive');\n\t}\n}\n\ntype ParserOptions = {\n\tparser?: string;\n};\n\ntype ESLintRcConfig = {\n \tenv: Record<string, boolean>;\n\textends:  string | string[];\n \t// globals: Record<string, GlobalConf>;\n \tignorePatterns: string | string[];\n \tnoInlineConfig: boolean;\n \t// overrides: OverrideConfigData[];\n \tparser: string | null;\n \tparserOptions?: ParserOptions;\n \tplugins: string[];\n \tprocessor: string;\n \treportUnusedDisableDirectives: boolean | undefined;\n \troot: boolean;\n \trules: Record<string, RuleConf>;\n \tsettings: object;\n};\ntype ESLintConfig = ESLintRcConfig;\n\nexport type Problem = {\n\tlabel: string;\n\tdocumentVersion: number;\n\truleId: string;\n\tline: number;\n\tdiagnostic: Diagnostic;\n\tedit?: ESLintAutoFixEdit;\n\tsuggestions?: ESLintSuggestionResult[];\n};\n\nexport namespace Problem {\n\texport function isFixable(problem: Problem): problem is FixableProblem {\n\t\treturn problem.edit !== undefined;\n\t}\n\n\texport function hasSuggestions(problem: Problem): problem is SuggestionsProblem {\n\t\treturn problem.suggestions !== undefined;\n\t}\n}\n\nexport type FixableProblem = Problem & {\n\tedit: ESLintAutoFixEdit;\n};\n\nexport namespace FixableProblem {\n\texport function createTextEdit(document: TextDocument, editInfo: FixableProblem): TextEdit {\n\t\treturn TextEdit.replace(Range.create(document.positionAt(editInfo.edit.range[0]), document.positionAt(editInfo.edit.range[1])), editInfo.edit.text || '');\n\t}\n}\n\nexport type SuggestionsProblem = Problem & {\n\tsuggestions: ESLintSuggestionResult[];\n};\n\nexport namespace SuggestionsProblem {\n\texport function createTextEdit(document: TextDocument, suggestion: ESLintSuggestionResult): TextEdit {\n\t\treturn TextEdit.replace(Range.create(document.positionAt(suggestion.fix.range[0]), document.positionAt(suggestion.fix.range[1])), suggestion.fix.text || '');\n\t}\n}\n\ninterface ESLintClass extends Object {\n\t// https://eslint.org/docs/developer-guide/nodejs-api#-eslintlinttextcode-options\n\tlintText(content: string, options: {filePath?: string; warnIgnored?: boolean}): Promise<ESLintDocumentReport[]>;\n\t// https://eslint.org/docs/developer-guide/nodejs-api#-eslintispathignoredfilepath\n\tisPathIgnored(path: string): Promise<boolean>;\n\t// https://eslint.org/docs/developer-guide/nodejs-api#-eslintgetrulesmetaforresultsresults\n\tgetRulesMetaForResults?(results: ESLintDocumentReport[]): Record<string, RuleMetaData> | undefined /* for ESLintClassEmulator */;\n\t// https://eslint.org/docs/developer-guide/nodejs-api#-eslintcalculateconfigforfilefilepath\n\tcalculateConfigForFile(path: string): Promise<ESLintConfig | undefined /* for ESLintClassEmulator */>;\n\t// Whether it is the old CLI Engine\n\tisCLIEngine?: boolean;\n}\n\nnamespace ESLintClass {\n\texport function getConfigType(eslint: ESLintClass): 'eslintrc' | 'flat' {\n\t\tif (eslint.isCLIEngine === true) {\n\t\t\treturn 'eslintrc';\n\t\t}\n\t\tconst configType = (eslint.constructor as ESLintClassConstructor).configType;\n\t\treturn configType ?? 'eslintrc';\n\t}\n}\n\ninterface ESLintClassConstructor {\n\tconfigType?: 'eslintrc' | 'flat';\n\tversion?: string;\n\tnew(options: ESLintClassOptions): ESLintClass;\n}\n\ninterface CLIEngineConstructor {\n\tnew(options: CLIOptions): CLIEngine;\n}\n\n/**\n * A loaded ESLint npm module.\n */\nexport type ESLintModule =\n{\n\t// version < 7.0\n\tESLint: undefined;\n\tCLIEngine: CLIEngineConstructor;\n\tloadESLint?: undefined;\n} | {\n\t// 7.0 <= version < 8.0\n\tESLint: ESLintClassConstructor;\n\tCLIEngine: CLIEngineConstructor;\n\tloadESLint?: undefined;\n} | {\n\t// 8.0 <= version.\n\tESLint: ESLintClassConstructor;\n\tisFlatConfig?: boolean;\n\tCLIEngine: undefined;\n\tloadESLint?: (options?: { cwd?: string; useFlatConfig?: boolean }) => Promise<ESLintClassConstructor>;\n};\n\nexport namespace ESLintModule {\n\texport function hasLoadESLint(value: ESLintModule): value is { ESLint: ESLintClassConstructor; CLIEngine: undefined; loadESLint: (options?: { cwd?: string; useFlatConfig?: boolean }) => Promise<ESLintClassConstructor> } {\n\t\treturn value.loadESLint !== undefined;\n\t}\n\texport function hasESLintClass(value: ESLintModule): value is { ESLint: ESLintClassConstructor; CLIEngine: undefined } {\n\t\treturn value.ESLint !== undefined;\n\t}\n\texport function hasCLIEngine(value: ESLintModule): value is { ESLint: undefined; CLIEngine: CLIEngineConstructor } {\n\t\treturn value.CLIEngine !== undefined;\n\t}\n\texport function isFlatConfig(value: ESLintModule): value is { ESLint: ESLintClassConstructor; CLIEngine: undefined; isFlatConfig: true } {\n\t\tconst candidate: { ESLint: ESLintClassConstructor; isFlatConfig?: boolean } = value as any;\n\t\treturn candidate.ESLint !== undefined && candidate.isFlatConfig === true;\n\t}\n}\n\n// { meta: { docs: [Object], schema: [Array] }, create: [Function: create] }\ntype RuleData = {\n\tmeta?: RuleMetaData;\n};\n\nnamespace RuleData {\n\texport function hasMetaType(value: RuleMetaData | undefined): value is RuleMetaData & { type: string } {\n\t\treturn value !== undefined && value.type !== undefined;\n\t}\n}\n\ninterface CLIEngine {\n\texecuteOnText(content: string, file?: string, warn?: boolean): ESLintReport;\n\tisPathIgnored(path: string): boolean;\n\t// This is only available from v4.15.0 forward\n\tgetRules?(): Map<string, RuleData>;\n\tgetConfigForFile?(path: string): ESLintConfig;\n}\n\nnamespace CLIEngine {\n\texport function hasRule(value: CLIEngine): value is CLIEngine & { getRules(): Map<string, RuleData> } {\n\t\treturn value.getRules !== undefined;\n\t}\n}\n\n/**\n * ESLint class emulator using CLI Engine.\n */\nclass ESLintClassEmulator implements ESLintClass {\n\n\tprivate cli: CLIEngine;\n\n\tconstructor(cli: CLIEngine) {\n\t\tthis.cli = cli;\n\t}\n\tget isCLIEngine(): boolean {\n\t\treturn true;\n\t}\n\tasync lintText(content: string, options: { filePath?: string | undefined; warnIgnored?: boolean | undefined }): Promise<ESLintDocumentReport[]> {\n\t\treturn this.cli.executeOnText(content, options.filePath, options.warnIgnored).results;\n\t}\n\tasync isPathIgnored(path: string): Promise<boolean> {\n\t\treturn this.cli.isPathIgnored(path);\n\t}\n\tgetRulesMetaForResults(_results: ESLintDocumentReport[]): Record<string, RuleMetaData> | undefined {\n\t\tif (!CLIEngine.hasRule(this.cli)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst rules: Record<string, RuleMetaData> = {};\n\t\tfor (const [name, rule] of this.cli.getRules()) {\n\t\t\tif (rule.meta !== undefined) {\n\t\t\t\trules[name] = rule.meta;\n\t\t\t}\n\t\t}\n\t\treturn rules;\n\t}\n\tasync calculateConfigForFile(path: string): Promise<ESLintConfig | undefined> {\n\t\treturn typeof this.cli.getConfigForFile === 'function' ? this.cli.getConfigForFile(path) : undefined;\n\t}\n}\n\n\n/**\n * Class for dealing with Fixes.\n */\nexport class Fixes {\n\tconstructor(private edits: Map<string, Problem>) {\n\t}\n\n\tpublic static overlaps(a: FixableProblem | undefined, b: FixableProblem): boolean {\n\t\treturn a !== undefined && a.edit.range[1] > b.edit.range[0];\n\t}\n\n\tpublic static sameRange(a: FixableProblem, b: FixableProblem): boolean {\n\t\treturn a.edit.range[0] === b.edit.range[0] && a.edit.range[1] === b.edit.range[1];\n\t}\n\n\tpublic isEmpty(): boolean {\n\t\treturn this.edits.size === 0;\n\t}\n\n\tpublic getDocumentVersion(): number {\n\t\tif (this.isEmpty()) {\n\t\t\tthrow new Error('No edits recorded.');\n\t\t}\n\t\treturn this.edits.values().next().value.documentVersion;\n\t}\n\n\tpublic getScoped(diagnostics: Diagnostic[]): Problem[] {\n\t\tconst result: Problem[] = [];\n\t\tfor (const diagnostic of diagnostics) {\n\t\t\tconst key = Diagnostics.computeKey(diagnostic);\n\t\t\tconst editInfo = this.edits.get(key);\n\t\t\tif (editInfo) {\n\t\t\t\tresult.push(editInfo);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getAllSorted(): FixableProblem[] {\n\t\tconst result: FixableProblem[] = [];\n\t\tfor (const value of this.edits.values()) {\n\t\t\tif (Problem.isFixable(value)) {\n\t\t\t\tresult.push(value);\n\t\t\t}\n\t\t}\n\t\treturn result.sort((a, b) => {\n\t\t\tconst d0 = a.edit.range[0] - b.edit.range[0];\n\t\t\tif (d0 !== 0) {\n\t\t\t\treturn d0;\n\t\t\t}\n\t\t\t// Both edits have now the same start offset.\n\n\t\t\t// Length of a and length of b\n\t\t\tconst al = a.edit.range[1] - a.edit.range[0];\n\t\t\tconst bl = b.edit.range[1] - b.edit.range[0];\n\t\t\t// Both has the same start offset and length.\n\t\t\tif (al === bl) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (al === 0) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (bl === 0) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn al - bl;\n\t\t});\n\t}\n\n\tpublic getApplicable(): FixableProblem[] {\n\t\tconst sorted = this.getAllSorted();\n\t\tif (sorted.length <= 1) {\n\t\t\treturn sorted;\n\t\t}\n\t\tconst result: FixableProblem[] = [];\n\t\tlet last: FixableProblem = sorted[0];\n\t\tresult.push(last);\n\t\tfor (let i = 1; i < sorted.length; i++) {\n\t\t\tconst current = sorted[i];\n\t\t\tif (!Fixes.overlaps(last, current) && !Fixes.sameRange(last, current)) {\n\t\t\t\tresult.push(current);\n\t\t\t\tlast = current;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n\nexport type SaveRuleConfigItem = { offRules: Set<string>; onRules: Set<string>};\n\n/**\n * Manages the special save rule configurations done in the VS Code settings.\n */\nexport namespace SaveRuleConfigs {\n\n\texport let inferFilePath: (documentOrUri: string | TextDocument | URI | undefined) => string | undefined;\n\n\tconst saveRuleConfigCache = new LRUCache<string, SaveRuleConfigItem | null>(128);\n\texport async function get(uri: string, settings: TextDocumentSettings  & { library: ESLintModule }): Promise<SaveRuleConfigItem | undefined> {\n\t\tconst filePath = inferFilePath(uri);\n\t\tlet result = saveRuleConfigCache.get(uri);\n\t\tif (filePath === undefined || result === null) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (result !== undefined) {\n\t\t\treturn result;\n\t\t}\n\t\tconst rules = settings.codeActionOnSave.rules;\n\t\tresult = await ESLint.withClass(async (eslint) => {\n\t\t\tif (rules === undefined || eslint.isCLIEngine) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst config = await eslint.calculateConfigForFile(filePath);\n\t\t\tif (config === undefined || config.rules === undefined || config.rules.length === 0) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst offRules: Set<string> = new Set();\n\t\t\tconst onRules: Set<string> = new Set();\n\t\t\tif (rules.length === 0) {\n\t\t\t\tObject.keys(config.rules).forEach(ruleId => offRules.add(ruleId));\n\t\t\t} else {\n\t\t\t\tfor (const ruleId of Object.keys(config.rules)) {\n\t\t\t\t\tif (isOff(ruleId, rules)) {\n\t\t\t\t\t\toffRules.add(ruleId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonRules.add(ruleId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn offRules.size > 0 ? { offRules, onRules } : undefined;\n\t\t}, settings);\n\t\tif (result === undefined || result === null) {\n\t\t\tsaveRuleConfigCache.set(uri, null);\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\tsaveRuleConfigCache.set(uri, result);\n\t\t\treturn result;\n\t\t}\n\t}\n\texport function remove(key: string): boolean {\n\t\treturn saveRuleConfigCache.delete(key);\n\t}\n\n\texport function clear(): void {\n\t\tsaveRuleConfigCache.clear();\n\t}\n\n\tfunction isOff(ruleId: string, matchers: string[]): boolean {\n\t\tfor (const matcher of matchers) {\n\t\t\tif (matcher.startsWith('!') && new RegExp(`^${matcher.slice(1).replace(/\\*/g, '.*')}$`, 'g').test(ruleId)) {\n\t\t\t\treturn true;\n\t\t\t} else if (new RegExp(`^${matcher.replace(/\\*/g, '.*')}$`, 'g').test(ruleId)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n\n/**\n * Manages rule severity overrides done using VS Code settings.\n */\nexport namespace RuleSeverities {\n\n\tconst ruleSeverityCache = new LRUCache<string, RuleSeverity | null>(1024);\n\n\texport function getOverride(ruleId: string, customizations: RuleCustomization[], isFixable?: boolean): RuleSeverity | undefined {\n\t\tlet result: RuleSeverity | undefined | null = ruleSeverityCache.get(ruleId);\n\t\tif (result === null) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (result !== undefined) {\n\t\t\treturn result;\n\t\t}\n\t\tfor (const customization of customizations) {\n\t\t\tif (\n\t\t\t\t// Rule name should match\n\t\t\t\tasteriskMatches(customization.rule, ruleId) &&\n\t\t\t\t// Fixable flag should match the fixability of the rule if it's defined\n\t\t\t\t(customization.fixable === undefined || customization.fixable === isFixable)\n\t\t\t) {\n\t\t\t\tresult = customization.severity;\n\t\t\t}\n\t\t}\n\t\tif (result === undefined) {\n\t\t\truleSeverityCache.set(ruleId, null);\n\t\t\treturn undefined;\n\t\t}\n\n\t\truleSeverityCache.set(ruleId, result);\n\t\treturn result;\n\t}\n\n\texport function clear(): void {\n\t\truleSeverityCache.clear();\n\t}\n\n\tfunction asteriskMatches(matcher: string, ruleId: string): boolean {\n\t\treturn matcher.startsWith('!')\n\t\t\t? !(new RegExp(`^${matcher.slice(1).replace(/\\*/g, '.*')}$`, 'g').test(ruleId))\n\t\t\t: new RegExp(`^${matcher.replace(/\\*/g, '.*')}$`, 'g').test(ruleId);\n\t}\n}\n\n\n/**\n * Creates LSP Diagnostics and captures code action information.\n */\nnamespace Diagnostics {\n\n\texport function computeKey(diagnostic: Diagnostic): string {\n\t\tconst range = diagnostic.range;\n\t\tlet message: string | undefined;\n\t\tif (diagnostic.message) {\n\t\t\tconst hash  = crypto.createHash('sha256');\n\t\t\thash.update(diagnostic.message);\n\t\t\tmessage = hash.digest('base64');\n\t\t}\n\t\treturn `[${range.start.line},${range.start.character},${range.end.line},${range.end.character}]-${diagnostic.code}-${message ?? ''}`;\n\t}\n\n\texport function create(settings: TextDocumentSettings, problem: ESLintProblem, document: TextDocument): [Diagnostic, RuleSeverity | undefined] {\n\t\tconst message = problem.message;\n\t\tconst startLine = typeof problem.line !== 'number' || Number.isNaN(problem.line) ? 0 : Math.max(0, problem.line - 1);\n\t\tconst startChar = typeof problem.column !== 'number' || Number.isNaN(problem.column) ? 0 : Math.max(0, problem.column - 1);\n\t\tlet endLine = typeof problem.endLine !== 'number' || Number.isNaN(problem.endLine) ? startLine : Math.max(0, problem.endLine - 1);\n\t\tlet endChar = typeof problem.endColumn !== 'number' || Number.isNaN(problem.endColumn) ? startChar : Math.max(0, problem.endColumn - 1);\n\t\tif (settings.problems.shortenToSingleLine && endLine !== startLine) {\n\t\t\tconst startLineText = document.getText({\n\t\t\t\tstart: {\n\t\t\t\t\tline: startLine,\n\t\t\t\t\tcharacter: 0,\n\t\t\t\t},\n\t\t\t\tend: {\n\t\t\t\t\tline: startLine,\n\t\t\t\t\tcharacter: uinteger.MAX_VALUE,\n\t\t\t\t}\n\t\t\t});\n\t\t\tendLine = startLine;\n\t\t\tendChar = startLineText.length;\n\t\t}\n\n\t\tconst override = RuleSeverities.getOverride(problem.ruleId, settings.rulesCustomizations, problem.fix !== undefined);\n\t\tconst result: Diagnostic = {\n\t\t\tmessage: message,\n\t\t\tseverity: convertSeverityToDiagnosticWithOverride(problem.severity, override),\n\t\t\tsource: 'eslint',\n\t\t\trange: {\n\t\t\t\tstart: { line: startLine, character: startChar },\n\t\t\t\tend: { line: endLine, character: endChar }\n\t\t\t}\n\t\t};\n\t\tif (problem.ruleId) {\n\t\t\tconst url = RuleMetaData.getUrl(problem.ruleId);\n\t\t\tresult.code = problem.ruleId;\n\t\t\tif (url !== undefined) {\n\t\t\t\tresult.codeDescription = {\n\t\t\t\t\thref: url\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (problem.ruleId === 'no-unused-vars') {\n\t\t\t\tresult.tags = [DiagnosticTag.Unnecessary];\n\t\t\t}\n\t\t}\n\n\t\treturn [result, override];\n\t}\n\n\tfunction adjustSeverityForOverride(severity: number | RuleSeverity, severityOverride?: RuleSeverity) {\n\t\tswitch (severityOverride) {\n\t\t\tcase RuleSeverity.off:\n\t\t\tcase RuleSeverity.info:\n\t\t\tcase RuleSeverity.warn:\n\t\t\tcase RuleSeverity.error:\n\t\t\t\treturn severityOverride;\n\n\t\t\tcase RuleSeverity.downgrade:\n\t\t\t\tswitch (convertSeverityToDiagnostic(severity)) {\n\t\t\t\t\tcase DiagnosticSeverity.Error:\n\t\t\t\t\t\treturn RuleSeverity.warn;\n\t\t\t\t\tcase DiagnosticSeverity.Warning:\n\t\t\t\t\tcase DiagnosticSeverity.Information:\n\t\t\t\t\t\treturn RuleSeverity.info;\n\t\t\t\t}\n\n\t\t\tcase RuleSeverity.upgrade:\n\t\t\t\tswitch (convertSeverityToDiagnostic(severity)) {\n\t\t\t\t\tcase DiagnosticSeverity.Information:\n\t\t\t\t\t\treturn RuleSeverity.warn;\n\t\t\t\t\tcase DiagnosticSeverity.Warning:\n\t\t\t\t\tcase DiagnosticSeverity.Error:\n\t\t\t\t\t\treturn RuleSeverity.error;\n\t\t\t\t}\n\n\t\t\tdefault:\n\t\t\t\treturn severity;\n\t\t}\n\t}\n\n\tfunction convertSeverityToDiagnostic(severity: number | RuleSeverity) {\n\t// RuleSeverity concerns an overridden rule. A number is direct from ESLint.\n\t\tswitch (severity) {\n\t\t// Eslint 1 is warning\n\t\t\tcase 1:\n\t\t\tcase RuleSeverity.warn:\n\t\t\t\treturn DiagnosticSeverity.Warning;\n\t\t\tcase 2:\n\t\t\tcase RuleSeverity.error:\n\t\t\t\treturn DiagnosticSeverity.Error;\n\t\t\tcase RuleSeverity.info:\n\t\t\t\treturn DiagnosticSeverity.Information;\n\t\t\tdefault:\n\t\t\t\treturn DiagnosticSeverity.Error;\n\t\t}\n\t}\n\n\tfunction convertSeverityToDiagnosticWithOverride(severity: number | RuleSeverity, severityOverride: RuleSeverity | undefined): DiagnosticSeverity {\n\t\treturn convertSeverityToDiagnostic(adjustSeverityForOverride(severity, severityOverride));\n\n\t}\n}\n\n/**\n * Capture information necessary to compute code actions.\n */\nexport namespace CodeActions {\n\tconst codeActions: Map<string, Map<string, Problem>> = new Map<string, Map<string, Problem>>();\n\n\texport function get(uri: string): Map<string, Problem> | undefined {\n\t\treturn codeActions.get(uri);\n\t}\n\n\texport function set(uri: string, value: Map<string, Problem>): void {\n\t\tcodeActions.set(uri, value);\n\t}\n\n\texport function remove(uri: string): boolean {\n\t\treturn codeActions.delete(uri);\n\t}\n\n\texport function record(document: TextDocument, diagnostic: Diagnostic, problem: ESLintProblem): void {\n\t\tif (!problem.ruleId) {\n\t\t\treturn;\n\t\t}\n\t\tconst uri = document.uri;\n\t\tlet edits: Map<string, Problem> | undefined = CodeActions.get(uri);\n\t\tif (edits === undefined) {\n\t\t\tedits = new Map<string, Problem>();\n\t\t\tCodeActions.set(uri, edits);\n\t\t}\n\t\tedits.set(Diagnostics.computeKey(diagnostic), {\n\t\t\tlabel: `Fix this ${problem.ruleId} problem`,\n\t\t\tdocumentVersion: document.version,\n\t\t\truleId: problem.ruleId,\n\t\t\tline: problem.line,\n\t\t\tdiagnostic: diagnostic,\n\t\t\tedit: problem.fix,\n\t\t\tsuggestions: problem.suggestions\n\t\t});\n\t}\n}\n\n/**\n * Wrapper round the ESLint npm module.\n */\nexport namespace ESLint {\n\n\tlet connection: ProposedFeatures.Connection;\n\tlet documents: TextDocuments<TextDocument>;\n\tlet inferFilePath: (documentOrUri: string | TextDocument | URI | undefined) => string | undefined;\n\tlet loadNodeModule: <T>(moduleName: string) => T | undefined;\n\n\tconst languageId2ParserRegExp: Map<string, RegExp[]> = function createLanguageId2ParserRegExp() {\n\t\tconst result = new Map<string, RegExp[]>();\n\t\tconst typescript = /\\/@typescript-eslint\\/parser\\//;\n\t\tconst babelESLint = /\\/babel-eslint\\/lib\\/index.js$/;\n\t\tconst vueESLint = /\\/vue-eslint-parser\\/index.js$/;\n\t\tresult.set('typescript', [typescript, babelESLint, vueESLint]);\n\t\tresult.set('typescriptreact', [typescript, babelESLint, vueESLint]);\n\n\t\tconst angular = /\\/@angular-eslint\\/template-parser\\//;\n\t\tresult.set('html', [angular]);\n\n\t\treturn result;\n\t}();\n\n\tconst languageId2ParserOptions: Map<string, { regExps: RegExp[]; parsers: Set<string>; parserRegExps?: RegExp[] }> = function createLanguageId2ParserOptionsRegExp() {\n\t\tconst result = new Map<string, { regExps: RegExp[]; parsers: Set<string>; parserRegExps?: RegExp[] }>();\n\t\tconst vue = /vue-eslint-parser\\/.*\\.js$/;\n\t\tconst typescriptEslintParser = /@typescript-eslint\\/parser\\/.*\\.js$/;\n\t\tresult.set('typescript', { regExps: [vue], parsers: new Set<string>(['@typescript-eslint/parser']), parserRegExps: [typescriptEslintParser] });\n\t\treturn result;\n\t}();\n\n\tconst languageId2PluginName: Map<string, string> = new Map([\n\t\t['astro', 'astro'],\n\t\t['civet', 'civet'],\n\t\t['html', 'html'],\n\t\t['json', 'jsonc'],\n\t\t['json5', 'jsonc'],\n\t\t['jsonc', 'jsonc'],\n\t\t['mdx', 'mdx'],\n\t\t['vue', 'vue'],\n\t\t['markdown', 'markdown']\n\t]);\n\n\tconst defaultLanguageIds: Set<string> = new Set([\n\t\t'javascript', 'javascriptreact'\n\t]);\n\n\tconst projectFolderIndicators: {\n\t\tfileName: string;\n\t\tisRoot: boolean;\n\t\tisFlatConfig: boolean;\n\t}[] = [\n\t\t{ fileName: 'eslint.config.js', isRoot: true, isFlatConfig: true },\n\t\t{ fileName: 'eslint.config.cjs', isRoot: true, isFlatConfig: true },\n\t\t{ fileName: 'eslint.config.mjs', isRoot: true, isFlatConfig: true },\n\t\t{ fileName: 'eslint.config.ts', isRoot: true, isFlatConfig: true },\n\t\t{ fileName: 'eslint.config.cts', isRoot: true, isFlatConfig: true },\n\t\t{ fileName: 'eslint.config.mts', isRoot: true, isFlatConfig: true },\n\t\t{ fileName: 'package.json', isRoot: true, isFlatConfig: false },\n\t\t{ fileName: '.eslintignore', isRoot: true, isFlatConfig: false },\n\t\t{ fileName: '.eslintrc', isRoot: false, isFlatConfig: false },\n\t\t{ fileName: '.eslintrc.json', isRoot: false, isFlatConfig: false },\n\t\t{ fileName: '.eslintrc.js', isRoot: false, isFlatConfig: false },\n\t\t{ fileName: '.eslintrc.yaml', isRoot: false, isFlatConfig: false },\n\t\t{ fileName: '.eslintrc.yml', isRoot: false, isFlatConfig: false }\n\t];\n\n\tconst path2Library: Map<string, ESLintModule> = new Map<string, ESLintModule>();\n\tconst document2Settings: Map<string, Promise<TextDocumentSettings>> = new Map<string, Promise<TextDocumentSettings>>();\n\tconst formatterRegistrations: Map<string, Promise<Disposable>> = new Map();\n\n\texport function initialize($connection: ProposedFeatures.Connection, $documents: TextDocuments<TextDocument>, $inferFilePath: (documentOrUri: string | TextDocument | URI | undefined) => string | undefined, $loadNodeModule: <T>(moduleName: string) => T | undefined) {\n\t\tconnection = $connection;\n\t\tdocuments = $documents;\n\t\tinferFilePath = $inferFilePath;\n\t\tloadNodeModule = $loadNodeModule;\n\t}\n\n\texport function removeSettings(key: string): boolean {\n\t\treturn document2Settings.delete(key);\n\t}\n\n\texport function clearSettings(): void {\n\t\tdocument2Settings.clear();\n\t}\n\n\texport function unregisterAsFormatter(document: TextDocument): void {\n\t\tconst unregister = formatterRegistrations.get(document.uri);\n\t\tif (unregister !== undefined) {\n\t\t\tvoid unregister.then(disposable => disposable.dispose());\n\t\t\tformatterRegistrations.delete(document.uri);\n\t\t}\n\t}\n\n\texport function clearFormatters(): void {\n\t\tfor (const unregistration of formatterRegistrations.values()) {\n\t\t\tvoid unregistration.then(disposable => disposable.dispose());\n\t\t}\n\t\tformatterRegistrations.clear();\n\t}\n\n\texport function resolveSettings(document: TextDocument): Promise<TextDocumentSettings> {\n\t\tconst uri = document.uri;\n\t\tlet resultPromise = document2Settings.get(uri);\n\t\tif (resultPromise) {\n\t\t\treturn resultPromise;\n\t\t}\n\t\tresultPromise = connection.workspace.getConfiguration({ scopeUri: uri, section: '' }).then((configuration: ConfigurationSettings) => {\n\t\t\tconst settings: TextDocumentSettings = Object.assign(\n\t\t\t\t{},\n\t\t\t\tconfiguration,\n\t\t\t\t{ silent: false, library: undefined, resolvedGlobalPackageManagerPath: undefined },\n\t\t\t\t{ workingDirectory: undefined}\n\t\t\t);\n\t\t\tif (settings.validate === Validate.off) {\n\t\t\t\treturn settings;\n\t\t\t}\n\t\t\tsettings.resolvedGlobalPackageManagerPath = GlobalPaths.get(settings.packageManager);\n\t\t\tconst filePath = inferFilePath(document);\n\t\t\tconst workspaceFolderPath = settings.workspaceFolder !== undefined ? inferFilePath(settings.workspaceFolder.uri) : undefined;\n\t\t\tlet assumeFlatConfig:boolean = false;\n\t\t\tconst hasUserDefinedWorkingDirectories: boolean = configuration.workingDirectory !== undefined;\n\t\t\tconst workingDirectoryConfig = configuration.workingDirectory ?? { mode: ModeEnum.location };\n\t\t\tif (ModeItem.is(workingDirectoryConfig)) {\n\t\t\t\tlet candidate: string | undefined;\n\t\t\t\tif (workingDirectoryConfig.mode === ModeEnum.location) {\n\t\t\t\t\tif (workspaceFolderPath !== undefined) {\n\t\t\t\t\t\tconst [configLocation, isFlatConfig] = findWorkingDirectory(workspaceFolderPath, filePath);\n\t\t\t\t\t\tif (isFlatConfig && settings.useFlatConfig !== false) {\n\t\t\t\t\t\t\tcandidate = configLocation;\n\t\t\t\t\t\t\tassumeFlatConfig = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcandidate = workspaceFolderPath;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (filePath !== undefined && !isUNC(filePath)) {\n\t\t\t\t\t\tcandidate = path.dirname(filePath);\n\t\t\t\t\t}\n\t\t\t\t} else if (workingDirectoryConfig.mode === ModeEnum.auto) {\n\t\t\t\t\tif (workspaceFolderPath !== undefined) {\n\t\t\t\t\t\tcandidate = findWorkingDirectory(workspaceFolderPath, filePath)[0];\n\t\t\t\t\t} else if (filePath !== undefined && !isUNC(filePath)) {\n\t\t\t\t\t\tcandidate = path.dirname(filePath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (candidate !== undefined && fs.existsSync(candidate)) {\n\t\t\t\t\tsettings.workingDirectory = { directory: candidate };\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsettings.workingDirectory = workingDirectoryConfig;\n\t\t\t}\n\t\t\tlet nodePath: string | undefined;\n\t\t\tif (settings.nodePath !== null) {\n\t\t\t\tnodePath = settings.nodePath;\n\t\t\t\tif (!path.isAbsolute(nodePath) && workspaceFolderPath !== undefined) {\n\t\t\t\t\tnodePath = path.join(workspaceFolderPath, nodePath);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet moduleResolveWorkingDirectory: string | undefined;\n\t\t\tif (!hasUserDefinedWorkingDirectories && filePath !== undefined) {\n\t\t\t\tmoduleResolveWorkingDirectory = path.dirname(filePath);\n\t\t\t}\n\t\t\tif (moduleResolveWorkingDirectory === undefined && settings.workingDirectory !== undefined && !settings.workingDirectory['!cwd']) {\n\t\t\t\tmoduleResolveWorkingDirectory = settings.workingDirectory.directory;\n\t\t\t}\n\n\t\t\tlet promise: Promise<string>;\n\t\t\t// During Flat Config is considered experimental,\n\t\t\t// we need to import FlatESLint from 'eslint/use-at-your-own-risk'.\n\t\t\t// See: https://eslint.org/blog/2022/08/new-config-system-part-3/\n\t\t\tconst eslintPath = settings.experimental?.useFlatConfig ? 'eslint/use-at-your-own-risk' : 'eslint';\n\t\t\tif (nodePath !== undefined) {\n\t\t\t\tpromise = Files.resolve(eslintPath, nodePath, nodePath, trace).then<string, string>(undefined, () => {\n\t\t\t\t\treturn Files.resolve(eslintPath, settings.resolvedGlobalPackageManagerPath, moduleResolveWorkingDirectory, trace);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tpromise = Files.resolve(eslintPath, settings.resolvedGlobalPackageManagerPath, moduleResolveWorkingDirectory, trace);\n\t\t\t}\n\n\t\t\tsettings.silent = settings.validate === Validate.probe;\n\t\t\treturn promise.then(async (libraryPath) => {\n\t\t\t\tlet library = path2Library.get(libraryPath);\n\t\t\t\tif (library === undefined) {\n\t\t\t\t\tif (settings.experimental?.useFlatConfig === true) {\n\t\t\t\t\t\tconst lib = loadNodeModule<{ FlatESLint?: ESLintClassConstructor }>(libraryPath);\n\t\t\t\t\t\tif (lib === undefined) {\n\t\t\t\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\t\t\t\tif (!settings.silent) {\n\t\t\t\t\t\t\t\tconnection.console.error(`Failed to load eslint library from ${libraryPath}. If you are using ESLint v8.21 or earlier, try upgrading it. For newer versions, try disabling the 'eslint.experimental.useFlatConfig' setting. See the output panel for more information.`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (lib.FlatESLint === undefined) {\n\t\t\t\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\t\t\t\tconnection.console.error(`The eslint library loaded from ${libraryPath} doesn\\'t export a FlatESLint class.`);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconnection.console.info(`ESLint library loaded from: ${libraryPath}`);\n\t\t\t\t\t\t\t// pretend to be a regular eslint endpoint\n\t\t\t\t\t\t\tlibrary = {\n\t\t\t\t\t\t\t\tESLint: lib.FlatESLint,\n\t\t\t\t\t\t\t\tisFlatConfig: true,\n\t\t\t\t\t\t\t\tCLIEngine: undefined,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tsettings.library = library;\n\t\t\t\t\t\t\tpath2Library.set(libraryPath, library);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlibrary = loadNodeModule(libraryPath);\n\t\t\t\t\t\tif (library === undefined) {\n\t\t\t\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\t\t\t\tif (!settings.silent) {\n\t\t\t\t\t\t\t\tconnection.console.error(`Failed to load eslint library from ${libraryPath}. See output panel for more information.`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (library.CLIEngine === undefined && library.ESLint === undefined) {\n\t\t\t\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\t\t\t\tconnection.console.error(`The eslint library loaded from ${libraryPath} doesn\\'t export neither a CLIEngine nor an ESLint class. You need at least eslint@1.0.0`);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconnection.console.info(`ESLint library loaded from: ${libraryPath}`);\n\t\t\t\t\t\t\tsettings.library = library;\n\t\t\t\t\t\t\tpath2Library.set(libraryPath, library);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (library !== undefined && ESLintModule.hasESLintClass(library) && typeof library.ESLint.version === 'string') {\n\t\t\t\t\t\tconst esLintVersion = semverParse(library.ESLint.version);\n\t\t\t\t\t\tif (esLintVersion !== null) {\n\t\t\t\t\t\t\tif (semverGte(esLintVersion, '8.57.0') && settings.experimental?.useFlatConfig === true) {\n\t\t\t\t\t\t\t\tconnection.console.info(`ESLint version ${library.ESLint.version} supports flat config without experimental opt-in. The 'eslint.experimental.useFlatConfig' setting can be removed.`);\n\t\t\t\t\t\t\t} else if (semverGte(esLintVersion, '10.0.0') && (settings.experimental?.useFlatConfig === false || settings.useFlatConfig === false)) {\n\t\t\t\t\t\t\t\tconnection.console.info(`ESLint version ${library.ESLint.version} only supports flat configs. Setting is ignored.`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsettings.library = library;\n\t\t\t\t}\n\t\t\t\tif (settings.validate === Validate.probe && TextDocumentSettings.hasLibrary(settings)) {\n\t\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\t\tconst filePath = ESLint.getFilePath(document, settings);\n\t\t\t\t\tif (filePath !== undefined) {\n\t\t\t\t\t\tconst parserRegExps = languageId2ParserRegExp.get(document.languageId);\n\t\t\t\t\t\tconst pluginName = languageId2PluginName.get(document.languageId);\n\t\t\t\t\t\tconst parserOptions = languageId2ParserOptions.get(document.languageId);\n\t\t\t\t\t\tif (defaultLanguageIds.has(document.languageId)) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tconst [isIgnored, configType] = await ESLint.withClass(async (eslintClass) => {\n\t\t\t\t\t\t\t\t\treturn [await eslintClass.isPathIgnored(filePath), ESLintClass.getConfigType(eslintClass)];\n\t\t\t\t\t\t\t\t}, settings);\n\t\t\t\t\t\t\t\tif (isIgnored === false || (isIgnored === true && settings.onIgnoredFiles !== ESLintSeverity.off)) {\n\t\t\t\t\t\t\t\t\tsettings.validate = Validate.on;\n\t\t\t\t\t\t\t\t\tif (assumeFlatConfig && configType === 'eslintrc') {\n\t\t\t\t\t\t\t\t\t\tconnection.console.info(`Expected to use flat configuration from directory ${settings.workingDirectory?.directory} but loaded eslintrc config.`);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (error: any) {\n\t\t\t\t\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\t\t\t\t\tawait connection.sendNotification(StatusNotification.type, { uri, state: Status.error });\n\t\t\t\t\t\t\t\tconnection.console.error(`Calculating config file for ${uri}) failed.\\n${error instanceof Error ? error.stack : ''}`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (parserRegExps !== undefined || pluginName !== undefined || parserOptions !== undefined) {\n\t\t\t\t\t\t\tconst [eslintConfig, configType] = await ESLint.withClass(async (eslintClass) => {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tif (await eslintClass.isPathIgnored(filePath)) {\n\t\t\t\t\t\t\t\t\t\treturn [undefined, undefined];\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn [await eslintClass.calculateConfigForFile(filePath), ESLintClass.getConfigType(eslintClass)];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tawait connection.sendNotification(StatusNotification.type, { uri, state: Status.error });\n\t\t\t\t\t\t\t\t\t\tconnection.console.error(`Calculating config file for ${uri}) failed.\\n${err instanceof Error ? err.stack : ''}`);\n\t\t\t\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\t\t\t\t// little we can do here\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn [undefined, undefined];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, settings);\n\t\t\t\t\t\t\tif (eslintConfig !== undefined) {\n\t\t\t\t\t\t\t\tif (assumeFlatConfig && configType === 'eslintrc') {\n\t\t\t\t\t\t\t\t\tconnection.console.info(`Expected to use flat configuration from directory ${settings.workingDirectory?.directory} but loaded eslintrc config.`);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (configType === 'flat' || ESLintModule.isFlatConfig(settings.library)) {\n\t\t\t\t\t\t\t\t\t// We have a flat configuration. This means that the config file needs to\n\t\t\t\t\t\t\t\t\t// have a section per file extension we want to validate. If there is none than\n\t\t\t\t\t\t\t\t\t// `calculateConfigForFile` will return no config since the config options without\n\t\t\t\t\t\t\t\t\t// a `files` property only applies to `**/*.js, **/*.cjs, and **/*.mjs` by default\n\t\t\t\t\t\t\t\t\t// See https://eslint.org/docs/latest/user-guide/configuring/configuration-files-new#specifying-files-and-ignores\n\n\t\t\t\t\t\t\t\t\t// This means since we have found a configuration for the given file we assume that\n\t\t\t\t\t\t\t\t\t// that configuration is correctly pointing to a parser.\n\t\t\t\t\t\t\t\t\tsettings.validate = Validate.on;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconst parser: string | undefined =  eslintConfig.parser !== null\n\t\t\t\t\t\t\t\t\t\t? normalizePath(eslintConfig.parser)\n\t\t\t\t\t\t\t\t\t\t: undefined;\n\t\t\t\t\t\t\t\t\tif (parser !== undefined) {\n\t\t\t\t\t\t\t\t\t\tif (parserRegExps !== undefined) {\n\t\t\t\t\t\t\t\t\t\t\tfor (const regExp of parserRegExps) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (regExp.test(parser)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsettings.validate = Validate.on;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (settings.validate !== Validate.on && parserOptions !== undefined && typeof eslintConfig.parserOptions?.parser === 'string') {\n\t\t\t\t\t\t\t\t\t\t\tconst eslintConfigParserOptionsParser = normalizePath(eslintConfig.parserOptions.parser);\n\t\t\t\t\t\t\t\t\t\t\tfor (const regExp of parserOptions.regExps) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (regExp.test(parser) && (\n\t\t\t\t\t\t\t\t\t\t\t\t\tparserOptions.parsers.has(eslintConfig.parserOptions.parser) ||\n\t\t\t\t\t\t\t\t\t\t\tparserOptions.parserRegExps !== undefined && parserOptions.parserRegExps.some(parserRegExp => parserRegExp.test(eslintConfigParserOptionsParser))\n\t\t\t\t\t\t\t\t\t\t\t\t)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsettings.validate = Validate.on;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (settings.validate !== Validate.on && Array.isArray(eslintConfig.plugins) && eslintConfig.plugins.length > 0 && pluginName !== undefined) {\n\t\t\t\t\t\t\t\t\t\tfor (const name of eslintConfig.plugins) {\n\t\t\t\t\t\t\t\t\t\t\tif (name === pluginName) {\n\t\t\t\t\t\t\t\t\t\t\t\tsettings.validate = Validate.on;\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (settings.validate === Validate.off) {\n\t\t\t\t\t\tconst params: ProbeFailedParams = { textDocument: { uri: document.uri } };\n\t\t\t\t\t\tvoid connection.sendRequest(ProbeFailedRequest.type, params);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (settings.validate === Validate.on) {\n\t\t\t\t\tsettings.silent = false;\n\t\t\t\t\tif (settings.format && TextDocumentSettings.hasLibrary(settings) && !formatterRegistrations.has(uri)) {\n\t\t\t\t\t\tconst Uri = URI.parse(uri);\n\t\t\t\t\t\tconst isFile = Uri.scheme === 'file';\n\t\t\t\t\t\tlet pattern: string = isFile\n\t\t\t\t\t\t\t? Uri.fsPath.replace(/\\\\/g, '/')\n\t\t\t\t\t\t\t: Uri.fsPath;\n\t\t\t\t\t\tpattern = pattern.replace(/[\\[\\]\\{\\}]/g, '?');\n\n\t\t\t\t\t\tconst filter: DocumentFilter = { scheme: Uri.scheme, pattern: pattern };\n\t\t\t\t\t\tconst options: DocumentFormattingRegistrationOptions = { documentSelector: [filter] };\n\t\t\t\t\t\tif (!isFile) {\n\t\t\t\t\t\t\tformatterRegistrations.set(uri, connection.client.register(DocumentFormattingRequest.type, options));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst filePath = inferFilePath(uri)!;\n\t\t\t\t\t\t\tawait ESLint.withClass(async (eslintClass) => {\n\t\t\t\t\t\t\t\tif (!await eslintClass.isPathIgnored(filePath)) {\n\t\t\t\t\t\t\t\t\tformatterRegistrations.set(uri, connection.client.register(DocumentFormattingRequest.type, options));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, settings);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn settings;\n\t\t\t}, () => {\n\t\t\t\tsettings.validate = Validate.off;\n\t\t\t\tif (!settings.silent) {\n\t\t\t\t\tvoid connection.sendRequest(NoESLintLibraryRequest.type, { source: { uri: document.uri } });\n\t\t\t\t}\n\t\t\t\treturn settings;\n\t\t\t});\n\t\t});\n\t\tdocument2Settings.set(uri, resultPromise);\n\t\treturn resultPromise;\n\t}\n\n\texport async function newClass(library: ESLintModule, newOptions: ESLintClassOptions | CLIOptions, settings: TextDocumentSettings): Promise<ESLintClass> {\n\t\t// Since ESLint version 8.57 we have a dedicated loadESLint function\n\t\t// which takes care of loading the right ESLint class. We available\n\t\t// we use it.\n\t\tif (ESLintModule.hasLoadESLint(library)) {\n\t\t\treturn new (await library.loadESLint({ useFlatConfig: settings.useFlatConfig }))(newOptions);\n\t\t}\n\t\t// If we have version 7 where we have both ESLint class and CLIEngine we only\n\t\t// use the ESLint class if a corresponding setting (useESLintClass) is set.\n\t\tif (ESLintModule.hasESLintClass(library) && settings.useESLintClass) {\n\t\t\treturn new library.ESLint(newOptions);\n\t\t}\n\t\tif (ESLintModule.hasCLIEngine(library)) {\n\t\t\treturn new ESLintClassEmulator(new library.CLIEngine(newOptions));\n\t\t}\n\t\treturn new library.ESLint(newOptions);\n\t}\n\n\texport async function withClass<T>(func: (eslintClass: ESLintClass) => Promise<T>, settings: TextDocumentSettings & { library: ESLintModule }, options?: ESLintClassOptions | CLIOptions): Promise<T> {\n\t\tconst newOptions: ESLintClassOptions | CLIOptions = options === undefined\n\t\t\t? Object.assign(Object.create(null), settings.options)\n\t\t\t: Object.assign(Object.create(null), settings.options, options);\n\n\t\tconst cwd = process.cwd();\n\t\ttry {\n\t\t\tif (settings.workingDirectory) {\n\t\t\t\t// A lot of libs are sensitive to drive letter casing and assume a\n\t\t\t\t// upper case drive letter. Make sure we support that correctly.\n\t\t\t\tconst newCWD = normalizeWorkingDirectory(settings.workingDirectory.directory);\n\t\t\t\tnewOptions.cwd = newCWD;\n\t\t\t\tif (settings.workingDirectory['!cwd'] !== true && fs.existsSync(newCWD)) {\n\t\t\t\t\tprocess.chdir(newCWD);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst eslintClass = await newClass(settings.library, newOptions, settings);\n\t\t\t// We need to await the result to ensure proper execution of the\n\t\t\t// finally block.\n\t\t\treturn await func(eslintClass);\n\t\t} finally {\n\t\t\tif (cwd !== process.cwd()) {\n\t\t\t\tprocess.chdir(cwd);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction normalizeWorkingDirectory(value: string): string {\n\t\tconst result = normalizeDriveLetter(value);\n\t\tif (result.length === 0) {\n\t\t\treturn result;\n\t\t}\n\t\treturn result[result.length - 1] === path.sep\n\t\t\t? result.substring(0, result.length - 1)\n\t\t\t: result;\n\t}\n\n\texport function getFilePath(document: TextDocument | undefined, settings: TextDocumentSettings): string | undefined {\n\t\tif (document === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst uri = URI.parse(document.uri);\n\t\tif (uri.scheme !== 'file') {\n\t\t\tif (settings.workspaceFolder !== undefined) {\n\t\t\t\tconst ext = LanguageDefaults.getExtension(document.languageId);\n\t\t\t\tconst workspacePath = inferFilePath(settings.workspaceFolder.uri);\n\t\t\t\tif (workspacePath !== undefined && ext !== undefined) {\n\t\t\t\t\treturn path.join(workspacePath, `test.${ext}`);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\treturn inferFilePath(uri);\n\t\t}\n\t}\n\n\tconst validFixTypes = new Set<string>(['problem', 'suggestion', 'layout', 'directive']);\n\texport async function validate(document: TextDocument, settings: TextDocumentSettings & { library: ESLintModule }): Promise<Diagnostic[]> {\n\t\tconst newOptions: CLIOptions = Object.assign(Object.create(null), settings.options);\n\t\tlet fixTypes: Set<string> | undefined = undefined;\n\t\tif (Array.isArray(newOptions.fixTypes) && newOptions.fixTypes.length > 0) {\n\t\t\tfixTypes = new Set();\n\t\t\tfor (const item of newOptions.fixTypes) {\n\t\t\t\tif (validFixTypes.has(item)) {\n\t\t\t\t\tfixTypes.add(item);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (fixTypes.size === 0) {\n\t\t\t\tfixTypes = undefined;\n\t\t\t}\n\t\t}\n\n\t\tconst content = document.getText();\n\t\tconst uri = document.uri;\n\t\tconst file = getFilePath(document, settings);\n\n\t\treturn withClass(async (eslintClass) => {\n\t\t\tCodeActions.remove(uri);\n\t\t\tconst reportResults: ESLintDocumentReport[] = await eslintClass.lintText(content, { filePath: file, warnIgnored: settings.onIgnoredFiles !== ESLintSeverity.off });\n\t\t\tRuleMetaData.capture(eslintClass, reportResults);\n\t\t\tconst diagnostics: Diagnostic[] = [];\n\t\t\tif (reportResults && Array.isArray(reportResults) && reportResults.length > 0) {\n\t\t\t\tconst docReport = reportResults[0];\n\t\t\t\tif (docReport.messages && Array.isArray(docReport.messages)) {\n\t\t\t\t\tdocReport.messages.forEach((problem) => {\n\t\t\t\t\t\tif (problem) {\n\t\t\t\t\t\t\tconst [diagnostic, override] = Diagnostics.create(settings, problem, document);\n\t\t\t\t\t\t\tif (!(override === RuleSeverity.off || (settings.quiet && diagnostic.severity === DiagnosticSeverity.Warning))) {\n\t\t\t\t\t\t\t\tdiagnostics.push(diagnostic);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (fixTypes !== undefined && problem.ruleId !== undefined && problem.fix !== undefined) {\n\t\t\t\t\t\t\t\tconst type = RuleMetaData.getType(problem.ruleId);\n\t\t\t\t\t\t\t\tif (type !== undefined && fixTypes.has(type)) {\n\t\t\t\t\t\t\t\t\tCodeActions.record(document, diagnostic, problem);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (RuleMetaData.isUnusedDisableDirectiveProblem(problem)) {\n\t\t\t\t\t\t\t\t\tproblem.ruleId = RuleMetaData.unusedDisableDirectiveId;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tCodeActions.record(document, diagnostic, problem);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn diagnostics;\n\t\t}, settings);\n\t}\n\n\tfunction trace(message: string, verbose?: string): void {\n\t\tconnection.tracer.log(message, verbose);\n\t}\n\n\t/**\n\t * Global paths for the different package managers\n\t */\n\tnamespace GlobalPaths {\n\t\tconst globalPaths: Record<string, { cache: string | undefined; get(): string | undefined }> = {\n\t\t\tyarn: {\n\t\t\t\tcache: undefined,\n\t\t\t\tget(): string | undefined {\n\t\t\t\t\treturn Files.resolveGlobalYarnPath(trace);\n\t\t\t\t}\n\t\t\t},\n\t\t\tnpm: {\n\t\t\t\tcache: undefined,\n\t\t\t\tget(): string | undefined {\n\t\t\t\t\treturn Files.resolveGlobalNodePath(trace);\n\t\t\t\t}\n\t\t\t},\n\t\t\tpnpm: {\n\t\t\t\tcache: undefined,\n\t\t\t\tget(): string {\n\t\t\t\t\tconst pnpmPath = execSync('pnpm root -g').toString().trim();\n\t\t\t\t\treturn pnpmPath;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\texport function get(packageManager: PackageManagers): string | undefined {\n\t\t\tconst pm = globalPaths[packageManager];\n\t\t\tif (pm) {\n\t\t\t\tif (pm.cache === undefined) {\n\t\t\t\t\tpm.cache = pm.get();\n\t\t\t\t}\n\t\t\t\treturn pm.cache;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\texport function findWorkingDirectory(workspaceFolder: string, file: string | undefined): [string, boolean] {\n\t\tif (file === undefined || isUNC(file)) {\n\t\t\treturn [workspaceFolder, false];\n\t\t}\n\t\t// Don't probe for something in node modules folder.\n\t\tif (file.indexOf(`${path.sep}node_modules${path.sep}`) !== -1) {\n\t\t\treturn [workspaceFolder, false];\n\t\t}\n\n\t\tlet result: string = workspaceFolder;\n\t\tlet flatConfig: boolean = false;\n\t\tlet directory: string | undefined = path.dirname(file);\n\t\touter: while (directory !== undefined && directory.startsWith(workspaceFolder)) {\n\t\t\tfor (const { fileName, isRoot, isFlatConfig } of projectFolderIndicators) {\n\t\t\t\tif (fs.existsSync(path.join(directory, fileName))) {\n\t\t\t\t\tresult = directory;\n\t\t\t\t\tflatConfig = isFlatConfig;\n\t\t\t\t\tif (isRoot) {\n\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst parent = path.dirname(directory);\n\t\t\tdirectory = parent !== directory ? parent : undefined;\n\t\t}\n\t\treturn [result, flatConfig];\n\t}\n\n\texport namespace ErrorHandlers {\n\n\t\texport const single: ((error: any, document: TextDocument, library: ESLintModule, settings: TextDocumentSettings) => Status | undefined)[] = [\n\t\t\ttryHandleNoConfig,\n\t\t\ttryHandleConfigError,\n\t\t\ttryHandleMissingModule,\n\t\t\tshowErrorMessage\n\t\t];\n\n\t\texport function getMessage(err: any, document: TextDocument): string {\n\t\t\tlet result: string | undefined = undefined;\n\t\t\tif (typeof err.message === 'string' || err.message instanceof String) {\n\t\t\t\tresult = <string>err.message;\n\t\t\t\tresult = result.replace(/\\r?\\n/g, ' ');\n\t\t\t\tif (/^CLI: /.test(result)) {\n\t\t\t\t\tresult = result.substr(5);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult = `An unknown error occurred while validating document: ${document.uri}`;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tconst noConfigReported: Map<string, ESLintModule> = new Map<string, ESLintModule>();\n\n\t\texport function clearNoConfigReported(): void {\n\t\t\tnoConfigReported.clear();\n\t\t}\n\n\t\tfunction tryHandleNoConfig(error: any, document: TextDocument, library: ESLintModule): Status | undefined {\n\t\t\tif (!ESLintError.isNoConfigFound(error)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tif (!noConfigReported.has(document.uri)) {\n\t\t\t\tconnection.sendRequest(\n\t\t\t\t\tNoConfigRequest.type,\n\t\t\t\t\t{\n\t\t\t\t\t\tmessage: getMessage(error, document),\n\t\t\t\t\t\tdocument: {\n\t\t\t\t\t\t\turi: document.uri\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t).then(undefined, () => { });\n\t\t\t\tnoConfigReported.set(document.uri, library);\n\t\t\t}\n\t\t\treturn Status.warn;\n\t\t}\n\n\t\tconst configErrorReported: Map<string, { library: ESLintModule; settings: TextDocumentSettings }> = new Map();\n\n\t\texport function getConfigErrorReported(key: string): { library: ESLintModule; settings: TextDocumentSettings } | undefined {\n\t\t\treturn configErrorReported.get(key);\n\t\t}\n\n\t\texport function removeConfigErrorReported(key: string): boolean {\n\t\t\treturn configErrorReported.delete(key);\n\t\t}\n\n\t\tfunction tryHandleConfigError(error: any, document: TextDocument, library: ESLintModule, settings: TextDocumentSettings): Status | undefined {\n\t\t\tif (!error.message) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tfunction handleFileName(filename: string): Status {\n\t\t\t\tif (!configErrorReported.has(filename)) {\n\t\t\t\t\tconnection.console.error(getMessage(error, document));\n\t\t\t\t\tif (!documents.get(URI.file(filename).toString())) {\n\t\t\t\t\t\tconnection.window.showInformationMessage(getMessage(error, document));\n\t\t\t\t\t}\n\t\t\t\t\tconfigErrorReported.set(filename, { library, settings });\n\t\t\t\t}\n\t\t\t\treturn Status.warn;\n\t\t\t}\n\n\t\t\tlet matches = /Cannot read config file:\\s+(.*)\\nError:\\s+(.*)/.exec(error.message);\n\t\t\tif (matches && matches.length === 3) {\n\t\t\t\treturn handleFileName(matches[1]);\n\t\t\t}\n\n\t\t\tmatches = /(.*):\\n\\s*Configuration for rule \\\"(.*)\\\" is /.exec(error.message);\n\t\t\tif (matches && matches.length === 3) {\n\t\t\t\treturn handleFileName(matches[1]);\n\t\t\t}\n\n\t\t\tmatches = /Cannot find module '([^']*)'\\nReferenced from:\\s+(.*)/.exec(error.message);\n\t\t\tif (matches && matches.length === 3) {\n\t\t\t\treturn handleFileName(matches[2]);\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst missingModuleReported: Map<string, ESLintModule> = new Map<string, ESLintModule>();\n\n\t\texport function clearMissingModuleReported(): void {\n\t\t\tmissingModuleReported.clear();\n\t\t}\n\n\t\tfunction tryHandleMissingModule(error: any, document: TextDocument, library: ESLintModule): Status | undefined {\n\t\t\tif (!error.message) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tfunction handleMissingModule(plugin: string, module: string, error: ESLintError): Status {\n\t\t\t\tif (!missingModuleReported.has(plugin)) {\n\t\t\t\t\tconst fsPath = inferFilePath(document);\n\t\t\t\t\tmissingModuleReported.set(plugin, library);\n\t\t\t\t\tif (error.messageTemplate === 'plugin-missing') {\n\t\t\t\t\t\tconnection.console.error([\n\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t`${error.message.toString()}`,\n\t\t\t\t\t\t\t`Happened while validating ${fsPath ? fsPath : document.uri}`,\n\t\t\t\t\t\t\t`This can happen for a couple of reasons:`,\n\t\t\t\t\t\t\t`1. The plugin name is spelled incorrectly in an ESLint configuration file (e.g. .eslintrc).`,\n\t\t\t\t\t\t\t`2. If ESLint is installed globally, then make sure ${module} is installed globally as well.`,\n\t\t\t\t\t\t\t`3. If ESLint is installed locally, then ${module} isn't installed correctly.`,\n\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t`Consider running eslint --debug ${fsPath ? fsPath : document.uri} from a terminal to obtain a trace about the configuration files used.`\n\t\t\t\t\t\t].join('\\n'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconnection.console.error([\n\t\t\t\t\t\t\t`${error.message.toString()}`,\n\t\t\t\t\t\t\t`Happened while validating ${fsPath ? fsPath : document.uri}`\n\t\t\t\t\t\t].join('\\n'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn Status.warn;\n\t\t\t}\n\n\t\t\tconst matches = /Failed to load plugin (.*): Cannot find module (.*)/.exec(error.message);\n\t\t\tif (matches && matches.length === 3) {\n\t\t\t\treturn handleMissingModule(matches[1], matches[2], error);\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\n\t\tfunction showErrorMessage(error: any, document: TextDocument): Status {\n\t\t\tif (Is.string(error.stack)) {\n\t\t\t\tconnection.console.error('An unexpected error occurred:');\n\t\t\t\tconnection.console.error(error.stack);\n\t\t\t} else {\n\t\t\t\tconnection.console.error(`An unexpected error occurred: ${getMessage(error, document)}.`);\n\t\t\t}\n\t\t\treturn Status.error;\n\t\t}\n\t}\n}\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nimport * as path from 'path';\r\nimport { EOL } from 'os';\r\n\r\nimport {\r\n\tcreateConnection, Diagnostic, Range, TextDocuments, TextDocumentSyncKind, TextEdit, Command, WorkspaceChange, VersionedTextDocumentIdentifier,\r\n\tDidChangeConfigurationNotification,  CodeAction, CodeActionKind, Position, TextDocumentEdit, Message as LMessage, ResponseMessage as LResponseMessage,\r\n\tuinteger, ServerCapabilities, NotebookDocuments, ProposedFeatures, ClientCapabilities, type FullDocumentDiagnosticReport, DocumentDiagnosticReportKind\r\n} from 'vscode-languageserver/node';\r\n\r\nimport { TextDocument } from 'vscode-languageserver-textdocument';\r\nimport { URI } from 'vscode-uri';\r\n\r\nimport {\r\n\tExitCalled, OpenESLintDocRequest, Status, StatusNotification\r\n} from './shared/customMessages';\r\n\r\nimport { Validate, CodeActionsOnSaveMode } from './shared/settings';\r\n\r\nimport {\r\n\tCodeActions, ConfigData, ESLint, FixableProblem, Fixes, Problem, RuleMetaData, RuleSeverities,\r\n\tSaveRuleConfigs, SuggestionsProblem, TextDocumentSettings,\r\n} from './eslint';\r\n\r\nimport { getFileSystemPath, getUri, isUNC } from './paths';\r\nimport { stringDiff } from './diff';\r\nimport LanguageDefaults from './languageDefaults';\r\n\r\n// The connection to use. Code action requests get removed from the queue if\r\n// canceled.\r\nconst connection: ProposedFeatures.Connection = createConnection(ProposedFeatures.all, {\r\n\tconnectionStrategy: {\r\n\t\tcancelUndispatched: (message: LMessage) => {\r\n\t\t// Code actions can safely be cancel on request.\r\n\t\t\tif (LMessage.isRequest(message) && message.method === 'textDocument/codeAction') {\r\n\t\t\t\tconst response: LResponseMessage = {\r\n\t\t\t\t\tjsonrpc: message.jsonrpc,\r\n\t\t\t\t\tid: message.id,\r\n\t\t\t\t\tresult: null\r\n\t\t\t\t};\r\n\t\t\t\treturn response;\r\n\t\t\t}\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t},\r\n\tmaxParallelism: 1\r\n});\r\n\r\n// Set when handling the initialize request.\r\nlet clientCapabilities: ClientCapabilities;\r\n\r\nconst documents: TextDocuments<TextDocument> = new TextDocuments(TextDocument);\r\n// The notebooks manager is using the normal document manager for the cell documents.\r\n// So all validating will work out of the box since normal document events will fire.\r\nconst notebooks = new NotebookDocuments(documents);\r\n\r\n// This makes loading work in a plain NodeJS and a WebPacked environment\r\ndeclare const __webpack_require__: typeof require;\r\ndeclare const __non_webpack_require__: typeof require;\r\nfunction loadNodeModule<T>(moduleName: string): T | undefined {\r\n\tconst r = typeof __webpack_require__ === 'function' ? __non_webpack_require__ : require;\r\n\ttry {\r\n\t\treturn r(moduleName);\r\n\t} catch (err: any) {\r\n\t\tif (err.stack) {\r\n\t\t\tconnection.console.error(err.stack.toString());\r\n\t\t}\r\n\t}\r\n\treturn undefined;\r\n}\r\n\r\n// Some plugins call exit which will terminate the server.\r\n// To not loose the information we sent such a behavior\r\n// to the client.\r\nconst nodeExit = process.exit;\r\nprocess.exit = ((code?: number): void => {\r\n\tconst stack = new Error('stack');\r\n\tvoid connection.sendNotification(ExitCalled.type, [code ? code : 0, stack.stack]);\r\n\tsetTimeout(() => {\r\n\t\tnodeExit(code);\r\n\t}, 1000);\r\n}) as any;\r\n\r\n// Handling of uncaught exceptions hitting the event loop.\r\nprocess.on('uncaughtException', (error: any) => {\r\n\tlet message: string | undefined;\r\n\tif (error) {\r\n\t\tif (typeof error.stack === 'string') {\r\n\t\t\tmessage = error.stack;\r\n\t\t} else if (typeof error.message === 'string') {\r\n\t\t\tmessage = error.message;\r\n\t\t} else if (typeof error === 'string') {\r\n\t\t\tmessage = error;\r\n\t\t}\r\n\t\tif (message === undefined || message.length === 0) {\r\n\t\t\ttry {\r\n\t\t\t\tmessage = JSON.stringify(error, undefined, 4);\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// Should not happen.\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// eslint-disable-next-line no-console\r\n\tconsole.error('Uncaught exception received.');\r\n\tif (message) {\r\n\t\t// eslint-disable-next-line no-console\r\n\t\tconsole.error(message);\r\n\t}\r\n});\r\n\r\n/**\r\n * Infers a file path for a given URI / TextDocument. If the document is a notebook\r\n * cell document it uses the file path from the notebook with a corresponding\r\n * extension (e.g. TypeScript -> ts)\r\n */\r\nfunction inferFilePath(documentOrUri: string | TextDocument | URI | undefined): string | undefined {\r\n\tif (!documentOrUri) {\r\n\t\treturn undefined;\r\n\t}\r\n\tconst uri = getUri(documentOrUri);\r\n\tif (uri.scheme === 'file') {\r\n\t\treturn getFileSystemPath(uri);\r\n\t}\r\n\r\n\tconst notebookDocument = notebooks.findNotebookDocumentForCell(uri.toString());\r\n\tif (notebookDocument !== undefined ) {\r\n\t\tconst notebookUri = URI.parse(notebookDocument.uri);\r\n\t\tif (notebookUri.scheme === 'file') {\r\n\t\t\tconst filePath = getFileSystemPath(uri);\r\n\t\t\tif (filePath !== undefined) {\r\n\t\t\t\tconst textDocument = documents.get(uri.toString());\r\n\t\t\t\tif (textDocument !== undefined) {\r\n\t\t\t\t\tconst extension = LanguageDefaults.getExtension(textDocument.languageId);\r\n\t\t\t\t\tif (extension !== undefined) {\r\n\t\t\t\t\t\tconst extname = path.extname(filePath);\r\n\t\t\t\t\t\tif (extname.length === 0 && filePath[0] === '.') {\r\n\t\t\t\t\t\t\treturn `${filePath}.${extension}`;\r\n\t\t\t\t\t\t} else if (extname.length > 0 && extname !== extension) {\r\n\t\t\t\t\t\t\treturn `${filePath.substring(0, filePath.length - extname.length)}.${extension}`;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn undefined;\r\n}\r\n\r\nESLint.initialize(connection, documents, inferFilePath, loadNodeModule);\r\nSaveRuleConfigs.inferFilePath = inferFilePath;\r\n\r\ndocuments.onDidClose(async (event) => {\r\n\tconst document = event.document;\r\n\tconst uri = document.uri;\r\n\tESLint.removeSettings(uri);\r\n\tSaveRuleConfigs.remove(uri);\r\n\tCodeActions.remove(uri);\r\n\tESLint.unregisterAsFormatter(document);\r\n});\r\n\r\nfunction environmentChanged() {\r\n\tESLint.clearSettings();\r\n\tRuleSeverities.clear();\r\n\tSaveRuleConfigs.clear();\r\n\tESLint.clearFormatters();\r\n\tconnection.languages.diagnostics.refresh().catch(() => {\r\n\t\tconnection.console.error('Failed to refresh diagnostics');\r\n\t});\r\n}\r\n\r\nnamespace CommandIds {\r\n\texport const applySingleFix: string = 'eslint.applySingleFix';\r\n\texport const applySuggestion: string = 'eslint.applySuggestion';\r\n\texport const applySameFixes: string = 'eslint.applySameFixes';\r\n\texport const applyAllFixes: string = 'eslint.applyAllFixes';\r\n\texport const applyDisableLine: string = 'eslint.applyDisableLine';\r\n\texport const applyDisableFile: string = 'eslint.applyDisableFile';\r\n\texport const openRuleDoc: string = 'eslint.openRuleDoc';\r\n}\r\n\r\nconnection.onInitialize((params, _cancel, progress) => {\r\n\tprogress.begin('Initializing ESLint Server');\r\n\tconst syncKind: TextDocumentSyncKind = TextDocumentSyncKind.Incremental;\r\n\tclientCapabilities = params.capabilities;\r\n\tprogress.done();\r\n\tconst capabilities: ServerCapabilities = {\r\n\t\ttextDocumentSync: {\r\n\t\t\topenClose: true,\r\n\t\t\tchange: syncKind,\r\n\t\t\twillSaveWaitUntil: false,\r\n\t\t\tsave: {\r\n\t\t\t\tincludeText: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tworkspace: {\r\n\t\t\tworkspaceFolders: {\r\n\t\t\t\tsupported: true\r\n\t\t\t}\r\n\t\t},\r\n\t\texecuteCommandProvider: {\r\n\t\t\tcommands: [\r\n\t\t\t\tCommandIds.applySingleFix,\r\n\t\t\t\tCommandIds.applySuggestion,\r\n\t\t\t\tCommandIds.applySameFixes,\r\n\t\t\t\tCommandIds.applyAllFixes,\r\n\t\t\t\tCommandIds.applyDisableLine,\r\n\t\t\t\tCommandIds.applyDisableFile,\r\n\t\t\t\tCommandIds.openRuleDoc,\r\n\t\t\t]\r\n\t\t},\r\n\t\tdiagnosticProvider: {\r\n\t\t\tidentifier: 'eslint',\r\n\t\t\tinterFileDependencies: false,\r\n\t\t\tworkspaceDiagnostics: false\r\n\t\t}\r\n\t};\r\n\r\n\tif (clientCapabilities.textDocument?.codeAction?.codeActionLiteralSupport?.codeActionKind.valueSet !== undefined) {\r\n\t\tcapabilities.codeActionProvider = {\r\n\t\t\tcodeActionKinds: [CodeActionKind.QuickFix, `${CodeActionKind.SourceFixAll}.eslint`]\r\n\t\t};\r\n\t}\r\n\r\n\treturn { capabilities };\r\n});\r\n\r\nconnection.onInitialized(() => {\r\n\tif (clientCapabilities.workspace?.didChangeConfiguration?.dynamicRegistration === true) {\r\n\t\tconnection.onDidChangeConfiguration((_params) => {\r\n\t\t\tenvironmentChanged();\r\n\t\t});\r\n\t\tvoid connection.client.register(DidChangeConfigurationNotification.type, undefined);\r\n\t}\r\n\r\n\tif (clientCapabilities.workspace?.workspaceFolders === true) {\r\n\t\tconnection.workspace.onDidChangeWorkspaceFolders((_params) => {\r\n\t\t\tenvironmentChanged();\r\n\t\t});\r\n\t}\r\n});\r\n\r\n\r\nconst emptyDiagnosticResult: FullDocumentDiagnosticReport = {\r\n\tkind: DocumentDiagnosticReportKind.Full,\r\n\titems: []\r\n};\r\n\r\nconnection.languages.diagnostics.on(async (params) => {\r\n\tconst document = documents.get(params.textDocument.uri);\r\n\tif (document === undefined) {\r\n\t\treturn emptyDiagnosticResult;\r\n\t}\r\n\r\n\tconst settings = await ESLint.resolveSettings(document);\r\n\tif (settings.validate !== Validate.on || !TextDocumentSettings.hasLibrary(settings)) {\r\n\t\treturn emptyDiagnosticResult;\r\n\t}\r\n\ttry {\r\n\t\tconst start = Date.now();\r\n\t\tconst diagnostics = await ESLint.validate(document, settings);\r\n\t\tconst timeTaken = Date.now() - start;\r\n\t\tvoid connection.sendNotification(StatusNotification.type, { uri: document.uri, state: Status.ok, validationTime: timeTaken });\r\n\t\treturn {\r\n\t\t\tkind: DocumentDiagnosticReportKind.Full,\r\n\t\t\titems: diagnostics\r\n\t\t};\r\n\t} catch (err) {\r\n\t\t// if an exception has occurred while validating clear all errors to ensure\r\n\t\t// we are not showing any stale once\r\n\t\tif (!settings.silent) {\r\n\t\t\tlet status: Status | undefined = undefined;\r\n\t\t\tfor (const handler of ESLint.ErrorHandlers.single) {\r\n\t\t\t\tstatus = handler(err, document, settings.library, settings);\r\n\t\t\t\tif (status) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstatus = status || Status.error;\r\n\t\t\tvoid connection.sendNotification(StatusNotification.type, { uri: document.uri, state: status });\r\n\t\t} else {\r\n\t\t\tconnection.console.info(ESLint.ErrorHandlers.getMessage(err, document));\r\n\t\t\tvoid connection.sendNotification(StatusNotification.type, { uri: document.uri, state: Status.ok });\r\n\t\t}\r\n\t\treturn emptyDiagnosticResult;\r\n\t}\r\n});\r\n\r\nconnection.onDidChangeWatchedFiles(async (params) => {\r\n\t// A .eslintrc has change. No smartness here.\r\n\t// Simply revalidate all file.\r\n\tRuleMetaData.clear();\r\n\tESLint.ErrorHandlers.clearNoConfigReported();\r\n\tESLint.ErrorHandlers.clearMissingModuleReported();\r\n\tESLint.clearSettings(); // config files can change plugins and parser.\r\n\tRuleSeverities.clear();\r\n\tSaveRuleConfigs.clear();\r\n\r\n\tawait Promise.all(params.changes.map(async (change) => {\r\n\t\tconst fsPath = inferFilePath(change.uri);\r\n\t\tif (fsPath === undefined || fsPath.length === 0 || isUNC(fsPath)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst dirname = path.dirname(fsPath);\r\n\t\tif (dirname) {\r\n\t\t\tconst data = ESLint.ErrorHandlers.getConfigErrorReported(fsPath);\r\n\t\t\tif (data !== undefined) {\r\n\t\t\t\tconst eslintClass = await ESLint.newClass(data.library, {}, data.settings);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait eslintClass.lintText('', { filePath: path.join(dirname, '___test___.js') });\r\n\t\t\t\t\tESLint.ErrorHandlers.removeConfigErrorReported(fsPath);\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}));\r\n\tconnection.languages.diagnostics.refresh().catch(() => {\r\n\t\tconnection.console.error('Failed to refresh diagnostics');\r\n\t});\r\n});\r\n\r\ntype RuleCodeActions = {\r\n\tfixes: CodeAction[];\r\n\tsuggestions: CodeAction[];\r\n\tdisable?: CodeAction;\r\n\tfixAll?: CodeAction;\r\n\tdisableFile?: CodeAction;\r\n\tshowDocumentation?: CodeAction;\r\n};\r\n\r\nclass CodeActionResult {\r\n\tprivate _actions: Map<string, RuleCodeActions>;\r\n\tprivate _fixAll: CodeAction[] | undefined;\r\n\r\n\tpublic constructor() {\r\n\t\tthis._actions = new Map();\r\n\t}\r\n\r\n\tpublic get(ruleId: string): RuleCodeActions {\r\n\t\tlet result: RuleCodeActions | undefined = this._actions.get(ruleId);\r\n\t\tif (result === undefined) {\r\n\t\t\tresult = { fixes: [], suggestions: [] };\r\n\t\t\tthis._actions.set(ruleId, result);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic get fixAll() {\r\n\t\tif (this._fixAll === undefined) {\r\n\t\t\tthis._fixAll = [];\r\n\t\t}\r\n\t\treturn this._fixAll;\r\n\t}\r\n\r\n\tpublic all(): CodeAction[] {\r\n\t\tconst result: CodeAction[] = [];\r\n\t\tfor (const actions of this._actions.values()) {\r\n\t\t\tresult.push(...actions.fixes);\r\n\t\t\tresult.push(...actions.suggestions);\r\n\t\t\tif (actions.disable) {\r\n\t\t\t\tresult.push(actions.disable);\r\n\t\t\t}\r\n\t\t\tif (actions.fixAll) {\r\n\t\t\t\tresult.push(actions.fixAll);\r\n\t\t\t}\r\n\t\t\tif (actions.disableFile) {\r\n\t\t\t\tresult.push(actions.disableFile);\r\n\t\t\t}\r\n\t\t\tif (actions.showDocumentation) {\r\n\t\t\t\tresult.push(actions.showDocumentation);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this._fixAll !== undefined) {\r\n\t\t\tresult.push(...this._fixAll);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic get length(): number {\r\n\t\tlet result: number = 0;\r\n\t\tfor (const actions of this._actions.values()) {\r\n\t\t\tresult += actions.fixes.length;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n\r\nclass Changes {\r\n\r\n\tprivate readonly values: Map<string, WorkspaceChange>;\r\n\tprivate uri: string | undefined;\r\n\tprivate version: number | undefined;\r\n\r\n\tconstructor() {\r\n\t\tthis.values = new Map();\r\n\t\tthis.uri = undefined;\r\n\t\tthis.version = undefined;\r\n\t}\r\n\r\n\tpublic clear(textDocument?: TextDocument): void {\r\n\t\tif (textDocument === undefined) {\r\n\t\t\tthis.uri = undefined;\r\n\t\t\tthis.version = undefined;\r\n\t\t} else {\r\n\t\t\tthis.uri = textDocument.uri;\r\n\t\t\tthis.version = textDocument.version;\r\n\t\t}\r\n\t\tthis.values.clear();\r\n\t}\r\n\r\n\tpublic isUsable(uri: string, version: number): boolean {\r\n\t\treturn this.uri === uri && this.version === version;\r\n\t}\r\n\r\n\tpublic set(key: string, change: WorkspaceChange): void {\r\n\t\tthis.values.set(key, change);\r\n\t}\r\n\r\n\tpublic get(key: string): WorkspaceChange | undefined {\r\n\t\treturn this.values.get(key);\r\n\t}\r\n}\r\n\r\ninterface CommandParams extends VersionedTextDocumentIdentifier {\r\n\tversion: number;\r\n\truleId?: string;\r\n\tsequence?: number;\r\n}\r\n\r\nnamespace CommandParams {\r\n\texport function create(textDocument: TextDocument, ruleId?: string, sequence?: number): CommandParams {\r\n\t\treturn { uri: textDocument.uri, version: textDocument.version, ruleId, sequence };\r\n\t}\r\n\texport function hasRuleId(value: CommandParams): value is CommandParams & { ruleId: string } {\r\n\t\treturn value.ruleId !== undefined;\r\n\t}\r\n}\r\n\r\nconst changes = new Changes();\r\nconst ESLintSourceFixAll: string = `${CodeActionKind.SourceFixAll}.eslint`;\r\n\r\nconnection.onCodeAction(async (params) => {\r\n\tconst result: CodeActionResult = new CodeActionResult();\r\n\tconst uri = params.textDocument.uri;\r\n\tconst textDocument = documents.get(uri);\r\n\tif (textDocument === undefined) {\r\n\t\tchanges.clear(textDocument);\r\n\t\treturn result.all();\r\n\t}\r\n\r\n\tfunction createCodeAction(title: string, kind: string, commandId: string, arg: CommandParams, diagnostic?: Diagnostic): CodeAction {\r\n\t\tconst command = Command.create(title, commandId, arg);\r\n\t\tconst action = CodeAction.create(\r\n\t\t\ttitle,\r\n\t\t\tcommand,\r\n\t\t\tkind\r\n\t\t);\r\n\t\tif (diagnostic !== undefined) {\r\n\t\t\taction.diagnostics = [diagnostic];\r\n\t\t}\r\n\t\treturn action;\r\n\t}\r\n\r\n\tfunction getDisableRuleEditInsertionIndex(line: string, commentTags: string | [string, string]): number {\r\n\t\tlet charIndex = line.indexOf('--');\r\n\r\n\t\tif (charIndex < 0) {\r\n\t\t\tif (typeof commentTags === 'string') {\r\n\t\t\t\treturn line.length;\r\n\t\t\t} else { // commentTags is an array containing the block comment closing and opening tags\r\n\t\t\t\tcharIndex = line.indexOf(commentTags[1]);\r\n\t\t\t\twhile (charIndex > 0 && line[charIndex - 1] === ' ') {\r\n\t\t\t\t\tcharIndex--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\twhile (charIndex > 1 && line[charIndex - 1] === ' ') {\r\n\t\t\t\tcharIndex--;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn charIndex;\r\n\t}\r\n\r\n\t/**\r\n\t * Prefix characters with special meaning in comment markers with a backslash\r\n\t * See also: https://github.com/microsoft/vscode-eslint/issues/1610\r\n\t */\r\n\tfunction escapeStringRegexp(value: string) {\r\n\t\treturn value.replace(/[|{}\\\\()[\\]^$+*?.]/g, '\\\\$&');\r\n\t}\r\n\r\n\tfunction createDisableLineTextEdit(textDocument: TextDocument, editInfo: Problem, indentationText: string): TextEdit {\r\n\t\tconst lineComment = LanguageDefaults.getLineComment(textDocument.languageId);\r\n\t\tconst blockComment = LanguageDefaults.getBlockComment(textDocument.languageId);\r\n\r\n\t\t// If the concerned line is not the first line of the file\r\n\t\tif (editInfo.line - 1 > 0) {\r\n\t\t\t// Check previous line if there is a eslint-disable-next-line comment already present.\r\n\t\t\tconst prevLine = textDocument.getText(Range.create(Position.create(editInfo.line - 2, 0), Position.create(editInfo.line - 2, uinteger.MAX_VALUE)));\r\n\r\n\t\t\t// For consistency, we ignore the settings here and use the comment style from that\r\n\t\t\t// specific line.\r\n\t\t\tconst matchedLineDisable = new RegExp(`${escapeStringRegexp(lineComment)} eslint-disable-next-line`).test(prevLine);\r\n\t\t\tif (matchedLineDisable) {\r\n\t\t\t\tconst insertionIndex = getDisableRuleEditInsertionIndex(prevLine, lineComment);\r\n\t\t\t\treturn TextEdit.insert(Position.create(editInfo.line - 2, insertionIndex), `, ${editInfo.ruleId}`);\r\n\t\t\t}\r\n\r\n\t\t\tconst matchedBlockDisable = new RegExp(`${escapeStringRegexp(blockComment[0])} eslint-disable-next-line`).test(prevLine);\r\n\t\t\tif (matchedBlockDisable) {\r\n\t\t\t\tconst insertionIndex = getDisableRuleEditInsertionIndex(prevLine, blockComment);\r\n\t\t\t\treturn TextEdit.insert(Position.create(editInfo.line - 2, insertionIndex), `, ${editInfo.ruleId}`);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// We're creating a new disabling comment. Use the comment style given in settings.\r\n\t\tconst commentStyle = settings.codeAction.disableRuleComment.commentStyle;\r\n\t\tlet disableRuleContent: string;\r\n\t\tif (commentStyle === 'block') {\r\n\t\t\tdisableRuleContent = `${indentationText}${blockComment[0]} eslint-disable-next-line ${editInfo.ruleId} ${blockComment[1]}${EOL}`;\r\n\t\t} else { // commentStyle === 'line'\r\n\t\t\tdisableRuleContent = `${indentationText}${lineComment} eslint-disable-next-line ${editInfo.ruleId}${EOL}`;\r\n\t\t}\r\n\r\n\t\treturn TextEdit.insert(Position.create(editInfo.line - 1, 0), disableRuleContent);\r\n\t}\r\n\r\n\tfunction createDisableSameLineTextEdit(textDocument: TextDocument, editInfo: Problem): TextEdit {\r\n\t\tconst lineComment = LanguageDefaults.getLineComment(textDocument.languageId);\r\n\t\tconst blockComment = LanguageDefaults.getBlockComment(textDocument.languageId);\r\n\t\tconst currentLine = textDocument.getText(Range.create(Position.create(editInfo.line - 1, 0), Position.create(editInfo.line - 1, uinteger.MAX_VALUE)));\r\n\t\tlet disableRuleContent: string;\r\n\t\tlet insertionIndex: number;\r\n\r\n\t\t// Check if there's already a disabling comment. If so, we ignore the settings here\r\n\t\t// and use the comment style from that specific line.\r\n\t\tconst matchedLineDisable = new RegExp(`${lineComment} eslint-disable-line`).test(currentLine);\r\n\t\tconst matchedBlockDisable = new RegExp(`${blockComment[0]} eslint-disable-line`).test(currentLine);\r\n\t\tif (matchedLineDisable) {\r\n\t\t\tdisableRuleContent = `, ${editInfo.ruleId}`;\r\n\t\t\tinsertionIndex = getDisableRuleEditInsertionIndex(currentLine, lineComment);\r\n\t\t} else if (matchedBlockDisable) {\r\n\t\t\tdisableRuleContent = `, ${editInfo.ruleId}`;\r\n\t\t\tinsertionIndex = getDisableRuleEditInsertionIndex(currentLine, blockComment);\r\n\t\t} else {\r\n\t\t\t// We're creating a new disabling comment.\r\n\t\t\tconst commentStyle = settings.codeAction.disableRuleComment.commentStyle;\r\n\t\t\tdisableRuleContent = commentStyle === 'line' ? ` ${lineComment} eslint-disable-line ${editInfo.ruleId}` : ` ${blockComment[0]} eslint-disable-line ${editInfo.ruleId} ${blockComment[1]}`;\r\n\t\t\tinsertionIndex = uinteger.MAX_VALUE;\r\n\t\t}\r\n\r\n\t\treturn TextEdit.insert(Position.create(editInfo.line - 1, insertionIndex), disableRuleContent);\r\n\t}\r\n\r\n\tfunction createDisableFileTextEdit(textDocument: TextDocument, editInfo: Problem): TextEdit {\r\n\t\t// If first line contains a shebang, insert on the next line instead.\r\n\t\tconst shebang = textDocument.getText(Range.create(Position.create(0, 0), Position.create(0, 2)));\r\n\t\tconst line = shebang === '#!' ? 1 : 0;\r\n\t\tconst block = LanguageDefaults.getBlockComment(textDocument.languageId);\r\n\t\treturn TextEdit.insert(Position.create(line, 0), `${block[0]} eslint-disable ${editInfo.ruleId} ${block[1]}${EOL}`);\r\n\t}\r\n\r\n\tfunction getLastEdit(array: FixableProblem[]): FixableProblem | undefined {\r\n\t\tconst length = array.length;\r\n\t\tif (length === 0) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\treturn array[length - 1];\r\n\t}\r\n\r\n\tconst settings = await ESLint.resolveSettings(textDocument);\r\n\r\n\t// The file is not validated at all or we couldn't load an eslint library for it.\r\n\tif (settings.validate !== Validate.on || !TextDocumentSettings.hasLibrary(settings)) {\r\n\t\treturn result.all();\r\n\t}\r\n\r\n\tconst problems = CodeActions.get(uri);\r\n\t// We validate on type and have no problems ==> nothing to fix.\r\n\tif (problems === undefined && settings.run === 'onType') {\r\n\t\treturn result.all();\r\n\t}\r\n\r\n\tconst only: string | undefined = params.context.only !== undefined && params.context.only.length > 0 ? params.context.only[0] : undefined;\r\n\tconst isSource = only === CodeActionKind.Source;\r\n\tconst isSourceFixAll = (only === ESLintSourceFixAll || only === CodeActionKind.SourceFixAll);\r\n\tif (isSourceFixAll || isSource) {\r\n\t\tif (isSourceFixAll) {\r\n\t\t\tconst textDocumentIdentifier: VersionedTextDocumentIdentifier = { uri: textDocument.uri, version: textDocument.version };\r\n\t\t\tconst edits = await computeAllFixes(textDocumentIdentifier, AllFixesMode.onSave);\r\n\t\t\tif (edits !== undefined) {\r\n\t\t\t\tresult.fixAll.push(CodeAction.create(\r\n\t\t\t\t\t`Fix all fixable ESLint issues`,\r\n\t\t\t\t\t{ documentChanges: [ TextDocumentEdit.create(textDocumentIdentifier, edits )]},\r\n\t\t\t\t\tESLintSourceFixAll\r\n\t\t\t\t));\r\n\t\t\t}\r\n\t\t} else if (isSource) {\r\n\t\t\tresult.fixAll.push(createCodeAction(\r\n\t\t\t\t`Fix all fixable ESLint issues`,\r\n\t\t\t\tCodeActionKind.Source,\r\n\t\t\t\tCommandIds.applyAllFixes,\r\n\t\t\t\tCommandParams.create(textDocument)\r\n\t\t\t));\r\n\t\t}\r\n\t\treturn result.all();\r\n\t}\r\n\r\n\tif (problems === undefined) {\r\n\t\treturn result.all();\r\n\t}\r\n\r\n\tconst fixes = new Fixes(problems);\r\n\tif (fixes.isEmpty()) {\r\n\t\treturn result.all();\r\n\t}\r\n\r\n\tlet documentVersion: number = -1;\r\n\tconst allFixableRuleIds: string[] = [];\r\n\tconst kind: CodeActionKind = only ?? CodeActionKind.QuickFix;\r\n\r\n\tfor (const editInfo of fixes.getScoped(params.context.diagnostics)) {\r\n\t\tdocumentVersion = editInfo.documentVersion;\r\n\t\tconst ruleId = editInfo.ruleId;\r\n\t\tallFixableRuleIds.push(ruleId);\r\n\r\n\t\tif (Problem.isFixable(editInfo)) {\r\n\t\t\tconst workspaceChange = new WorkspaceChange();\r\n\t\t\tworkspaceChange.getTextEditChange({ uri, version: documentVersion }).add(FixableProblem.createTextEdit(textDocument, editInfo));\r\n\t\t\tchanges.set(`${CommandIds.applySingleFix}:${ruleId}`, workspaceChange);\r\n\t\t\tconst action = createCodeAction(\r\n\t\t\t\teditInfo.label,\r\n\t\t\t\tkind,\r\n\t\t\t\tCommandIds.applySingleFix,\r\n\t\t\t\tCommandParams.create(textDocument, ruleId),\r\n\t\t\t\teditInfo.diagnostic\r\n\t\t\t);\r\n\t\t\taction.isPreferred = true;\r\n\t\t\tresult.get(ruleId).fixes.push(action);\r\n\t\t}\r\n\t\tif (Problem.hasSuggestions(editInfo)) {\r\n\t\t\teditInfo.suggestions.forEach((suggestion, suggestionSequence) => {\r\n\t\t\t\tconst workspaceChange = new WorkspaceChange();\r\n\t\t\t\tworkspaceChange.getTextEditChange({ uri, version: documentVersion }).add(SuggestionsProblem.createTextEdit(textDocument, suggestion));\r\n\t\t\t\tchanges.set(`${CommandIds.applySuggestion}:${ruleId}:${suggestionSequence}`, workspaceChange);\r\n\t\t\t\tconst action = createCodeAction(\r\n\t\t\t\t\t`${suggestion.desc} (${editInfo.ruleId})`,\r\n\t\t\t\t\tCodeActionKind.QuickFix,\r\n\t\t\t\t\tCommandIds.applySuggestion,\r\n\t\t\t\t\tCommandParams.create(textDocument, ruleId, suggestionSequence),\r\n\t\t\t\t\teditInfo.diagnostic\r\n\t\t\t\t);\r\n\t\t\t\tresult.get(ruleId).suggestions.push(action);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (settings.codeAction.disableRuleComment.enable && ruleId !== RuleMetaData.unusedDisableDirectiveId) {\r\n\t\t\tlet workspaceChange = new WorkspaceChange();\r\n\t\t\tif (settings.codeAction.disableRuleComment.location === 'sameLine') {\r\n\t\t\t\tworkspaceChange.getTextEditChange({ uri, version: documentVersion }).add(createDisableSameLineTextEdit(textDocument, editInfo));\r\n\t\t\t} else {\r\n\t\t\t\tconst lineText = textDocument.getText(Range.create(Position.create(editInfo.line - 1, 0), Position.create(editInfo.line - 1, uinteger.MAX_VALUE)));\r\n\t\t\t\tconst matches = /^([ \\t]*)/.exec(lineText);\r\n\t\t\t\tconst indentationText = matches !== null && matches.length > 0 ? matches[1] : '';\r\n\t\t\t\tworkspaceChange.getTextEditChange({ uri, version: documentVersion }).add(createDisableLineTextEdit(textDocument, editInfo, indentationText));\r\n\t\t\t}\r\n\t\t\tchanges.set(`${CommandIds.applyDisableLine}:${ruleId}`, workspaceChange);\r\n\t\t\tresult.get(ruleId).disable = createCodeAction(\r\n\t\t\t\t`Disable ${ruleId} for this line`,\r\n\t\t\t\tkind,\r\n\t\t\t\tCommandIds.applyDisableLine,\r\n\t\t\t\tCommandParams.create(textDocument, ruleId)\r\n\t\t\t);\r\n\r\n\t\t\tif (result.get(ruleId).disableFile === undefined) {\r\n\t\t\t\tworkspaceChange = new WorkspaceChange();\r\n\t\t\t\tworkspaceChange.getTextEditChange({ uri, version: documentVersion }).add(createDisableFileTextEdit(textDocument, editInfo));\r\n\t\t\t\tchanges.set(`${CommandIds.applyDisableFile}:${ruleId}`, workspaceChange);\r\n\t\t\t\tresult.get(ruleId).disableFile = createCodeAction(\r\n\t\t\t\t\t`Disable ${ruleId} for the entire file`,\r\n\t\t\t\t\tkind,\r\n\t\t\t\t\tCommandIds.applyDisableFile,\r\n\t\t\t\t\tCommandParams.create(textDocument, ruleId)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (settings.codeAction.showDocumentation.enable && result.get(ruleId).showDocumentation === undefined) {\r\n\t\t\tif (RuleMetaData.hasRuleId(ruleId)) {\r\n\t\t\t\tresult.get(ruleId).showDocumentation = createCodeAction(\r\n\t\t\t\t\t`Show documentation for ${ruleId}`,\r\n\t\t\t\t\tkind,\r\n\t\t\t\t\tCommandIds.openRuleDoc,\r\n\t\t\t\t\tCommandParams.create(textDocument, ruleId)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (result.length > 0) {\r\n\t\tconst sameProblems: Map<string, FixableProblem[]> = new Map<string, FixableProblem[]>(allFixableRuleIds.map<[string, FixableProblem[]]>(s => [s, []]));\r\n\r\n\t\tfor (const editInfo of fixes.getAllSorted()) {\r\n\t\t\tif (documentVersion === -1) {\r\n\t\t\t\tdocumentVersion = editInfo.documentVersion;\r\n\t\t\t}\r\n\t\t\tif (sameProblems.has(editInfo.ruleId)) {\r\n\t\t\t\tconst same = sameProblems.get(editInfo.ruleId)!;\r\n\t\t\t\tif (!Fixes.overlaps(getLastEdit(same), editInfo)) {\r\n\t\t\t\t\tsame.push(editInfo);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsameProblems.forEach((same, ruleId) => {\r\n\t\t\tif (same.length > 1) {\r\n\t\t\t\tconst sameFixes: WorkspaceChange = new WorkspaceChange();\r\n\t\t\t\tconst sameTextChange = sameFixes.getTextEditChange({ uri, version: documentVersion });\r\n\t\t\t\tsame.map(fix => FixableProblem.createTextEdit(textDocument, fix)).forEach(edit => sameTextChange.add(edit));\r\n\t\t\t\tchanges.set(CommandIds.applySameFixes, sameFixes);\r\n\t\t\t\tresult.get(ruleId).fixAll = createCodeAction(\r\n\t\t\t\t\t`Fix all ${ruleId} problems`,\r\n\t\t\t\t\tkind,\r\n\t\t\t\t\tCommandIds.applySameFixes,\r\n\t\t\t\t\tCommandParams.create(textDocument)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t\tresult.fixAll.push(createCodeAction(\r\n\t\t\t`Fix all auto-fixable problems`,\r\n\t\t\tkind,\r\n\t\t\tCommandIds.applyAllFixes,\r\n\t\t\tCommandParams.create(textDocument)\r\n\t\t));\r\n\t}\r\n\treturn result.all();\r\n});\r\n\r\nenum AllFixesMode {\r\n\tonSave = 'onsave',\r\n\tformat = 'format',\r\n\tcommand = 'command'\r\n}\r\n\r\nasync function computeAllFixes(identifier: VersionedTextDocumentIdentifier, mode: AllFixesMode): Promise<TextEdit[] | undefined> {\r\n\tconst uri = identifier.uri;\r\n\tconst textDocument = documents.get(uri)!;\r\n\tif (textDocument === undefined || identifier.version !== textDocument.version) {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tconst settings = await ESLint.resolveSettings(textDocument);\r\n\r\n\tif (settings.validate !== Validate.on || !TextDocumentSettings.hasLibrary(settings) || (mode === AllFixesMode.format && !settings.format)) {\r\n\t\treturn [];\r\n\t}\r\n\tconst filePath = inferFilePath(textDocument);\r\n\tconst problems = CodeActions.get(uri);\r\n\tconst originalContent = textDocument.getText();\r\n\tlet start = Date.now();\r\n\t// Only use known fixes when running in onSave mode. See https://github.com/microsoft/vscode-eslint/issues/871\r\n\t// for details\r\n\tif (mode === AllFixesMode.onSave && settings.codeActionOnSave.mode === CodeActionsOnSaveMode.problems) {\r\n\t\tconst result = problems !== undefined && problems.size > 0\r\n\t\t\t? new Fixes(problems).getApplicable().map(fix => FixableProblem.createTextEdit(textDocument, fix))\r\n\t\t\t: [];\r\n\t\tconnection.tracer.log(`Computing all fixes took: ${Date.now() - start} ms.`);\r\n\t\treturn result;\r\n\t} else {\r\n\t\tconst saveConfig = filePath !== undefined && mode === AllFixesMode.onSave ? await SaveRuleConfigs.get(uri, settings) : undefined;\r\n\t\tconst offRules = saveConfig?.offRules;\r\n\t\tlet overrideConfig: Required<ConfigData> | undefined;\r\n\t\tif (offRules !== undefined) {\r\n\t\t\toverrideConfig = { rules: Object.create(null) };\r\n\t\t\tfor (const ruleId of offRules) {\r\n\t\t\t\toverrideConfig.rules[ruleId] = 'off';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ESLint.withClass(async (eslintClass) => {\r\n\t\t\t// Don't use any precomputed fixes since neighbour fixes can produce incorrect results.\r\n\t\t\t// See https://github.com/microsoft/vscode-eslint/issues/1745\r\n\t\t\tconst result: TextEdit[] = [];\r\n\t\t\tconst reportResults = await eslintClass.lintText(originalContent, { filePath });\r\n\t\t\tconnection.tracer.log(`Computing all fixes took: ${Date.now() - start} ms.`);\r\n\t\t\tif (Array.isArray(reportResults) && reportResults.length === 1 && reportResults[0].output !== undefined) {\r\n\t\t\t\tconst fixedContent = reportResults[0].output;\r\n\t\t\t\tstart = Date.now();\r\n\t\t\t\tconst diffs = stringDiff(originalContent, fixedContent, false);\r\n\t\t\t\tconnection.tracer.log(`Computing minimal edits took: ${Date.now() - start} ms.`);\r\n\t\t\t\tfor (const diff of diffs) {\r\n\t\t\t\t\tresult.push({\r\n\t\t\t\t\t\trange: {\r\n\t\t\t\t\t\t\tstart: textDocument.positionAt(diff.originalStart),\r\n\t\t\t\t\t\t\tend: textDocument.positionAt(diff.originalStart + diff.originalLength)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tnewText: fixedContent.substr(diff.modifiedStart, diff.modifiedLength)\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}, settings, overrideConfig !== undefined ? { fix: true, overrideConfig } : { fix: true });\r\n\t}\r\n}\r\n\r\nconnection.onExecuteCommand(async (params) => {\r\n\tlet workspaceChange: WorkspaceChange | undefined;\r\n\tconst commandParams: CommandParams = params.arguments![0] as CommandParams;\r\n\tif (params.command === CommandIds.applyAllFixes) {\r\n\t\tconst edits = await computeAllFixes(commandParams, AllFixesMode.command);\r\n\t\tif (edits !== undefined && edits.length > 0) {\r\n\t\t\tworkspaceChange = new WorkspaceChange();\r\n\t\t\tconst textChange = workspaceChange.getTextEditChange(commandParams);\r\n\t\t\tedits.forEach(edit => textChange.add(edit));\r\n\t\t}\r\n\t} else {\r\n\t\tif ([CommandIds.applySingleFix, CommandIds.applyDisableLine, CommandIds.applyDisableFile].indexOf(params.command) !== -1) {\r\n\t\t\tworkspaceChange = changes.get(`${params.command}:${commandParams.ruleId}`);\r\n\t\t} else if ([CommandIds.applySuggestion].indexOf(params.command) !== -1) {\r\n\t\t\tworkspaceChange = changes.get(`${params.command}:${commandParams.ruleId}:${commandParams.sequence}`);\r\n\t\t} else if (params.command === CommandIds.openRuleDoc && CommandParams.hasRuleId(commandParams)) {\r\n\t\t\tconst url = RuleMetaData.getUrl(commandParams.ruleId);\r\n\t\t\tif (url) {\r\n\t\t\t\tvoid connection.sendRequest(OpenESLintDocRequest.type, { url });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tworkspaceChange = changes.get(params.command);\r\n\t\t}\r\n\t}\r\n\r\n\tif (workspaceChange === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\treturn connection.workspace.applyEdit(workspaceChange.edit).then((response) => {\r\n\t\tif (!response.applied) {\r\n\t\t\tconnection.console.error(`Failed to apply command: ${params.command}`);\r\n\t\t}\r\n\t\treturn null;\r\n\t}, () => {\r\n\t\tconnection.console.error(`Failed to apply command: ${params.command}`);\r\n\t\treturn null;\r\n\t});\r\n});\r\n\r\nconnection.onDocumentFormatting((params) => {\r\n\tconst textDocument = documents.get(params.textDocument.uri);\r\n\tif (textDocument === undefined) {\r\n\t\treturn [];\r\n\t}\r\n\treturn computeAllFixes({ uri: textDocument.uri, version: textDocument.version }, AllFixesMode.format);\r\n});\r\n\r\n\r\ndocuments.listen(connection);\r\nnotebooks.listen(connection);\r\nconnection.listen();\r\nconnection.console.info(`ESLint server running in node ${process.version}`);\r\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nconst toString = Object.prototype.toString;\n\nexport function boolean(value: any): value is boolean {\n\treturn value === true || value === false;\n}\n\nexport function nullOrUndefined(value: any): value is null | undefined {\n\treturn value === null || value === undefined;\n}\n\nexport function string(value: any): value is string {\n\treturn toString.call(value) === '[object String]';\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\n// This should either come from LSP or VS Code. That we repeat this is bogus.\n\ntype LanguageConfig = {\n\text: string;\n\tlineComment: string;\n\tblockComment: [string, string];\n};\n\nconst languageId2Config: Map<string, LanguageConfig> = new Map([\n\t['javascript', { ext: 'js', lineComment: '//', blockComment: ['/*', '*/'] }],\n\t['javascriptreact', { ext: 'jsx', lineComment: '//', blockComment: ['/*', '*/'] }],\n\t['typescript', { ext: 'ts', lineComment: '//', blockComment: ['/*', '*/'] } ],\n\t['typescriptreact', { ext: 'tsx', lineComment: '//', blockComment: ['/*', '*/'] } ],\n\t['html', { ext: 'html', lineComment: '//', blockComment: ['<!--', '-->'] }],\n\t['vue', { ext: 'vue', lineComment: '//', blockComment: ['<!--', '-->'] }],\n\t['coffeescript', { ext: 'coffee', lineComment: '#', blockComment: ['###', '###'] }],\n\t['yaml', { ext: 'yaml', lineComment: '#', blockComment: ['#', ''] }],\n\t['graphql', { ext: 'graphql', lineComment: '#', blockComment: ['#', ''] }]\n]);\n\nnamespace LanguageDefaults {\n\texport function getLineComment(languageId: string): string {\n\t\treturn languageId2Config.get(languageId)?.lineComment ?? '//';\n\t}\n\n\texport function getBlockComment(languageId: string): [string, string] {\n\t\treturn languageId2Config.get(languageId)?.blockComment ?? ['/**', '*/'];\n\t}\n\n\texport function getExtension(languageId: string): string | undefined {\n\t\treturn languageId2Config.get(languageId)?.ext;\n\t}\n}\n\nexport default LanguageDefaults;","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\ninterface Item<K, V> {\n\tprevious: Item<K, V> | undefined;\n\tnext: Item<K, V> | undefined;\n\tkey: K;\n\tvalue: V;\n}\n\nexport namespace Touch {\n\texport const None: 0 = 0;\n\texport const First: 1 = 1;\n\texport const AsOld: 1 = Touch.First;\n\texport const Last: 2 = 2;\n\texport const AsNew: 2 = Touch.Last;\n}\n\nexport type Touch = 0 | 1 | 2;\n\nexport class LinkedMap<K, V> implements Map<K, V> {\n\n\treadonly [Symbol.toStringTag] = 'LinkedMap';\n\n\tprivate _map: Map<K, Item<K, V>>;\n\tprivate _head: Item<K, V> | undefined;\n\tprivate _tail: Item<K, V> | undefined;\n\tprivate _size: number;\n\n\tprivate _state: number;\n\n\tpublic constructor() {\n\t\tthis._map = new Map<K, Item<K, V>>();\n\t\tthis._head = undefined;\n\t\tthis._tail = undefined;\n\t\tthis._size = 0;\n\t\tthis._state = 0;\n\t}\n\n\tpublic clear(): void {\n\t\tthis._map.clear();\n\t\tthis._head = undefined;\n\t\tthis._tail = undefined;\n\t\tthis._size = 0;\n\t\tthis._state++;\n\t}\n\n\tpublic isEmpty(): boolean {\n\t\treturn !this._head && !this._tail;\n\t}\n\n\tpublic get size(): number {\n\t\treturn this._size;\n\t}\n\n\tpublic get first(): V | undefined {\n\t\treturn this._head?.value;\n\t}\n\n\tpublic get last(): V | undefined {\n\t\treturn this._tail?.value;\n\t}\n\n\tpublic has(key: K): boolean {\n\t\treturn this._map.has(key);\n\t}\n\n\tpublic get(key: K, touch: Touch = Touch.None): V | undefined {\n\t\tconst item = this._map.get(key);\n\t\tif (!item) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (touch !== Touch.None) {\n\t\t\tthis.touch(item, touch);\n\t\t}\n\t\treturn item.value;\n\t}\n\n\tpublic set(key: K, value: V, touch: Touch = Touch.None): this {\n\t\tlet item = this._map.get(key);\n\t\tif (item) {\n\t\t\titem.value = value;\n\t\t\tif (touch !== Touch.None) {\n\t\t\t\tthis.touch(item, touch);\n\t\t\t}\n\t\t} else {\n\t\t\titem = { key, value, next: undefined, previous: undefined };\n\t\t\tswitch (touch) {\n\t\t\t\tcase Touch.None:\n\t\t\t\t\tthis.addItemLast(item);\n\t\t\t\t\tbreak;\n\t\t\t\tcase Touch.First:\n\t\t\t\t\tthis.addItemFirst(item);\n\t\t\t\t\tbreak;\n\t\t\t\tcase Touch.Last:\n\t\t\t\t\tthis.addItemLast(item);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.addItemLast(item);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._map.set(key, item);\n\t\t\tthis._size++;\n\t\t}\n\t\treturn this;\n\t}\n\n\tpublic delete(key: K): boolean {\n\t\treturn !!this.remove(key);\n\t}\n\n\tpublic remove(key: K): V | undefined {\n\t\tconst item = this._map.get(key);\n\t\tif (!item) {\n\t\t\treturn undefined;\n\t\t}\n\t\tthis._map.delete(key);\n\t\tthis.removeItem(item);\n\t\tthis._size--;\n\t\treturn item.value;\n\t}\n\n\tpublic shift(): V | undefined {\n\t\tif (!this._head && !this._tail) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (!this._head || !this._tail) {\n\t\t\tthrow new Error('Invalid list');\n\t\t}\n\t\tconst item = this._head;\n\t\tthis._map.delete(item.key);\n\t\tthis.removeItem(item);\n\t\tthis._size--;\n\t\treturn item.value;\n\t}\n\n\tpublic forEach(callbackfn: (value: V, key: K, map: LinkedMap<K, V>) => void, thisArg?: any): void {\n\t\tconst state = this._state;\n\t\tlet current = this._head;\n\t\twhile (current) {\n\t\t\tif (thisArg) {\n\t\t\t\tcallbackfn.bind(thisArg)(current.value, current.key, this);\n\t\t\t} else {\n\t\t\t\tcallbackfn(current.value, current.key, this);\n\t\t\t}\n\t\t\tif (this._state !== state) {\n\t\t\t\tthrow new Error(`LinkedMap got modified during iteration.`);\n\t\t\t}\n\t\t\tcurrent = current.next;\n\t\t}\n\t}\n\n\tpublic keys(): IterableIterator<K> {\n\t\tconst map = this;\n\t\tconst state = this._state;\n\t\tlet current = this._head;\n\t\tconst iterator: IterableIterator<K> = {\n\t\t\t[Symbol.iterator]() {\n\t\t\t\treturn iterator;\n\t\t\t},\n\t\t\tnext(): IteratorResult<K> {\n\t\t\t\tif (map._state !== state) {\n\t\t\t\t\tthrow new Error(`LinkedMap got modified during iteration.`);\n\t\t\t\t}\n\t\t\t\tif (current) {\n\t\t\t\t\tconst result = { value: current.key, done: false };\n\t\t\t\t\tcurrent = current.next;\n\t\t\t\t\treturn result;\n\t\t\t\t} else {\n\t\t\t\t\treturn { value: undefined, done: true };\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn iterator;\n\t}\n\n\tpublic values(): IterableIterator<V> {\n\t\tconst map = this;\n\t\tconst state = this._state;\n\t\tlet current = this._head;\n\t\tconst iterator: IterableIterator<V> = {\n\t\t\t[Symbol.iterator]() {\n\t\t\t\treturn iterator;\n\t\t\t},\n\t\t\tnext(): IteratorResult<V> {\n\t\t\t\tif (map._state !== state) {\n\t\t\t\t\tthrow new Error(`LinkedMap got modified during iteration.`);\n\t\t\t\t}\n\t\t\t\tif (current) {\n\t\t\t\t\tconst result = { value: current.value, done: false };\n\t\t\t\t\tcurrent = current.next;\n\t\t\t\t\treturn result;\n\t\t\t\t} else {\n\t\t\t\t\treturn { value: undefined, done: true };\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn iterator;\n\t}\n\n\tpublic entries(): IterableIterator<[K, V]> {\n\t\tconst map = this;\n\t\tconst state = this._state;\n\t\tlet current = this._head;\n\t\tconst iterator: IterableIterator<[K, V]> = {\n\t\t\t[Symbol.iterator]() {\n\t\t\t\treturn iterator;\n\t\t\t},\n\t\t\tnext(): IteratorResult<[K, V]> {\n\t\t\t\tif (map._state !== state) {\n\t\t\t\t\tthrow new Error(`LinkedMap got modified during iteration.`);\n\t\t\t\t}\n\t\t\t\tif (current) {\n\t\t\t\t\tconst result: IteratorResult<[K, V]> = { value: [current.key, current.value], done: false };\n\t\t\t\t\tcurrent = current.next;\n\t\t\t\t\treturn result;\n\t\t\t\t} else {\n\t\t\t\t\treturn { value: undefined, done: true };\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn iterator;\n\t}\n\n\tpublic [Symbol.iterator](): IterableIterator<[K, V]> {\n\t\treturn this.entries();\n\t}\n\n\tprotected trimOld(newSize: number) {\n\t\tif (newSize >= this.size) {\n\t\t\treturn;\n\t\t}\n\t\tif (newSize === 0) {\n\t\t\tthis.clear();\n\t\t\treturn;\n\t\t}\n\t\tlet current = this._head;\n\t\tlet currentSize = this.size;\n\t\twhile (current && currentSize > newSize) {\n\t\t\tthis._map.delete(current.key);\n\t\t\tcurrent = current.next;\n\t\t\tcurrentSize--;\n\t\t}\n\t\tthis._head = current;\n\t\tthis._size = currentSize;\n\t\tif (current) {\n\t\t\tcurrent.previous = undefined;\n\t\t}\n\t\tthis._state++;\n\t}\n\n\tprivate addItemFirst(item: Item<K, V>): void {\n\t\t// First time Insert\n\t\tif (!this._head && !this._tail) {\n\t\t\tthis._tail = item;\n\t\t} else if (!this._head) {\n\t\t\tthrow new Error('Invalid list');\n\t\t} else {\n\t\t\titem.next = this._head;\n\t\t\tthis._head.previous = item;\n\t\t}\n\t\tthis._head = item;\n\t\tthis._state++;\n\t}\n\n\tprivate addItemLast(item: Item<K, V>): void {\n\t\t// First time Insert\n\t\tif (!this._head && !this._tail) {\n\t\t\tthis._head = item;\n\t\t} else if (!this._tail) {\n\t\t\tthrow new Error('Invalid list');\n\t\t} else {\n\t\t\titem.previous = this._tail;\n\t\t\tthis._tail.next = item;\n\t\t}\n\t\tthis._tail = item;\n\t\tthis._state++;\n\t}\n\n\tprivate removeItem(item: Item<K, V>): void {\n\t\tif (item === this._head && item === this._tail) {\n\t\t\tthis._head = undefined;\n\t\t\tthis._tail = undefined;\n\t\t}\n\t\telse if (item === this._head) {\n\t\t\t// This can only happend if size === 1 which is handle\n\t\t\t// by the case above.\n\t\t\tif (!item.next) {\n\t\t\t\tthrow new Error('Invalid list');\n\t\t\t}\n\t\t\titem.next.previous = undefined;\n\t\t\tthis._head = item.next;\n\t\t}\n\t\telse if (item === this._tail) {\n\t\t\t// This can only happend if size === 1 which is handle\n\t\t\t// by the case above.\n\t\t\tif (!item.previous) {\n\t\t\t\tthrow new Error('Invalid list');\n\t\t\t}\n\t\t\titem.previous.next = undefined;\n\t\t\tthis._tail = item.previous;\n\t\t}\n\t\telse {\n\t\t\tconst next = item.next;\n\t\t\tconst previous = item.previous;\n\t\t\tif (!next || !previous) {\n\t\t\t\tthrow new Error('Invalid list');\n\t\t\t}\n\t\t\tnext.previous = previous;\n\t\t\tprevious.next = next;\n\t\t}\n\t\titem.next = undefined;\n\t\titem.previous = undefined;\n\t\tthis._state++;\n\t}\n\n\tprivate touch(item: Item<K, V>, touch: Touch): void {\n\t\tif (!this._head || !this._tail) {\n\t\t\tthrow new Error('Invalid list');\n\t\t}\n\t\tif ((touch !== Touch.First && touch !== Touch.Last)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (touch === Touch.First) {\n\t\t\tif (item === this._head) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst next = item.next;\n\t\t\tconst previous = item.previous;\n\n\t\t\t// Unlink the item\n\t\t\tif (item === this._tail) {\n\t\t\t\t// previous must be defined since item was not head but is tail\n\t\t\t\t// So there are more than on item in the map\n\t\t\t\tprevious!.next = undefined;\n\t\t\t\tthis._tail = previous;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Both next and previous are not undefined since item was neither head nor tail.\n\t\t\t\tnext!.previous = previous;\n\t\t\t\tprevious!.next = next;\n\t\t\t}\n\n\t\t\t// Insert the node at head\n\t\t\titem.previous = undefined;\n\t\t\titem.next = this._head;\n\t\t\tthis._head.previous = item;\n\t\t\tthis._head = item;\n\t\t\tthis._state++;\n\t\t} else if (touch === Touch.Last) {\n\t\t\tif (item === this._tail) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst next = item.next;\n\t\t\tconst previous = item.previous;\n\n\t\t\t// Unlink the item.\n\t\t\tif (item === this._head) {\n\t\t\t\t// next must be defined since item was not tail but is head\n\t\t\t\t// So there are more than on item in the map\n\t\t\t\tnext!.previous = undefined;\n\t\t\t\tthis._head = next;\n\t\t\t} else {\n\t\t\t\t// Both next and previous are not undefined since item was neither head nor tail.\n\t\t\t\tnext!.previous = previous;\n\t\t\t\tprevious!.next = next;\n\t\t\t}\n\t\t\titem.next = undefined;\n\t\t\titem.previous = this._tail;\n\t\t\tthis._tail.next = item;\n\t\t\tthis._tail = item;\n\t\t\tthis._state++;\n\t\t}\n\t}\n\n\tpublic toJSON(): [K, V][] {\n\t\tconst data: [K, V][] = [];\n\n\t\tthis.forEach((value, key) => {\n\t\t\tdata.push([key, value]);\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tpublic fromJSON(data: [K, V][]): void {\n\t\tthis.clear();\n\n\t\tfor (const [key, value] of data) {\n\t\t\tthis.set(key, value);\n\t\t}\n\t}\n}\n\nexport class LRUCache<K, V> extends LinkedMap<K, V> {\n\n\tprivate _limit: number;\n\tprivate _ratio: number;\n\n\tpublic constructor(limit: number, ratio: number = 1) {\n\t\tsuper();\n\t\tthis._limit = limit;\n\t\tthis._ratio = Math.min(Math.max(0, ratio), 1);\n\t}\n\n\tpublic get limit(): number {\n\t\treturn this._limit;\n\t}\n\n\tpublic set limit(limit: number) {\n\t\tthis._limit = limit;\n\t\tthis.checkTrim();\n\t}\n\n\tpublic get ratio(): number {\n\t\treturn this._ratio;\n\t}\n\n\tpublic set ratio(ratio: number) {\n\t\tthis._ratio = Math.min(Math.max(0, ratio), 1);\n\t\tthis.checkTrim();\n\t}\n\n\tpublic get(key: K, touch: Touch = Touch.AsNew): V | undefined {\n\t\treturn super.get(key, touch);\n\t}\n\n\tpublic peek(key: K): V | undefined {\n\t\treturn super.get(key, Touch.None);\n\t}\n\n\tpublic set(key: K, value: V): this {\n\t\tsuper.set(key, value, Touch.Last);\n\t\tthis.checkTrim();\n\t\treturn this;\n\t}\n\n\tprivate checkTrim() {\n\t\tif (this.size > this._limit) {\n\t\t\tthis.trimOld(Math.round(this._limit * this._ratio));\n\t\t}\n\t}\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport * as fs from 'fs';\n\nimport { URI } from 'vscode-uri';\nimport { TextDocument } from 'vscode-languageserver-textdocument';\n\nimport * as Is from './is';\n\n/**\n * Special functions to deal with path conversions in the context of ESLint\n */\n\n/**\n * Normalizes the drive letter to upper case which is the default in Node but not in\n * VS Code.\n */\nexport function normalizeDriveLetter(path: string): string {\n\tif (process.platform !== 'win32' || path.length < 2 || path[1] !== ':') {\n\t\treturn path;\n\t}\n\treturn path[0].toUpperCase() + path.substring(1);\n}\n\nconst enum CharCode {\n\t/**\n\t * The `\\` character.\n\t */\n\tBackslash = 92,\n}\n\n/**\n * Check if the path follows this pattern: `\\\\hostname\\sharename`.\n *\n * @see https://msdn.microsoft.com/en-us/library/gg465305.aspx\n * @return A boolean indication if the path is a UNC path, on none-windows\n * always false.\n */\nexport function isUNC(path: string): boolean {\n\tif (process.platform !== 'win32') {\n\t\t// UNC is a windows concept\n\t\treturn false;\n\t}\n\n\tif (!path || path.length < 5) {\n\t\t// at least \\\\a\\b\n\t\treturn false;\n\t}\n\n\tlet code = path.charCodeAt(0);\n\tif (code !== CharCode.Backslash) {\n\t\treturn false;\n\t}\n\tcode = path.charCodeAt(1);\n\tif (code !== CharCode.Backslash) {\n\t\treturn false;\n\t}\n\tlet pos = 2;\n\tconst start = pos;\n\tfor (; pos < path.length; pos++) {\n\t\tcode = path.charCodeAt(pos);\n\t\tif (code === CharCode.Backslash) {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (start === pos) {\n\t\treturn false;\n\t}\n\tcode = path.charCodeAt(pos + 1);\n\tif (isNaN(code) || code === CharCode.Backslash) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\nexport function getFileSystemPath(uri: URI): string {\n\tlet result = uri.fsPath;\n\tif (process.platform === 'win32' && result.length >= 2 && result[1] === ':') {\n\t\t// Node by default uses an upper case drive letter and ESLint uses\n\t\t// === to compare paths which results in the equal check failing\n\t\t// if the drive letter is lower case in th URI. Ensure upper case.\n\t\tresult = result[0].toUpperCase() + result.substr(1);\n\t}\n\tif (process.platform === 'win32' || process.platform === 'darwin') {\n\t\ttry {\n\t\t\tconst realpath = fs.realpathSync.native(result);\n\t\t\t// Only use the real path if only the casing has changed.\n\t\t\tif (realpath.toLowerCase() === result.toLowerCase()) {\n\t\t\t\tresult = realpath;\n\t\t\t}\n\t\t} catch {\n\t\t\t// Silently ignore errors from `fs.realpathSync` to handle scenarios where\n\t\t\t// the file being linted is not yet written to disk. This occurs in editors\n\t\t\t// such as Neovim for non-written buffers.\n\t\t}\n\t}\n\treturn result;\n}\n\nexport function normalizePath(path: string): string;\nexport function normalizePath(path: undefined): undefined;\nexport function normalizePath(path: string | undefined): string | undefined {\n\tif (path === undefined) {\n\t\treturn undefined;\n\t}\n\tif (process.platform === 'win32') {\n\t\treturn path.replace(/\\\\/g, '/');\n\t}\n\treturn path;\n}\n\nexport function getUri(documentOrUri: string | TextDocument | URI): URI {\n\treturn Is.string(documentOrUri)\n\t\t? URI.parse(documentOrUri)\n\t\t: documentOrUri instanceof URI\n\t\t\t? documentOrUri\n\t\t\t: URI.parse(documentOrUri.uri);\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport { NotificationType, NotificationType0, RequestType, TextDocumentIdentifier } from 'vscode-languageserver-protocol';\n\nexport enum Status {\n\tok = 1,\n\twarn = 2,\n\terror = 3\n}\n\nexport type StatusParams = {\n\turi: string;\n\tstate: Status;\n\tvalidationTime?: number;\n};\n\n/**\n * The status notification is sent from the server to the client to\n * inform the client about server status changes.\n */\nexport namespace StatusNotification {\n\texport const method: 'eslint/status' = 'eslint/status';\n\texport const type = new NotificationType<StatusParams>(method);\n}\n\nexport type NoConfigParams = {\n\tmessage: string;\n\tdocument: TextDocumentIdentifier;\n};\n\nexport type NoConfigResult = {\n};\n\n/**\n * The NoConfigRequest is sent from the server to the client to inform\n * the client that no eslint configuration file could be found when\n * trying to lint a file.\n */\nexport namespace NoConfigRequest {\n\texport const method: 'eslint/noConfig' = 'eslint/noConfig';\n\texport const type = new RequestType<NoConfigParams, NoConfigResult, void>(method);\n}\n\nexport type NoESLintLibraryParams = {\n\tsource: TextDocumentIdentifier;\n};\n\nexport type NoESLintLibraryResult = {\n};\n\n/**\n * The NoESLintLibraryRequest is sent from the server to the client to\n * inform the client that no eslint library could be found when trying\n * to lint a file.\n */\nexport namespace NoESLintLibraryRequest {\n\texport const method: 'eslint/noLibrary' = 'eslint/noLibrary';\n\texport const type = new RequestType<NoESLintLibraryParams, NoESLintLibraryResult, void>(method);\n}\n\nexport type OpenESLintDocParams = {\n\turl: string;\n};\n\nexport type OpenESLintDocResult = {\n};\n\n/**\n * The eslint/openDoc request is sent from the server to the client to\n * ask the client to open the documentation URI for a given\n * ESLint rule.\n */\nexport namespace OpenESLintDocRequest {\n\texport const method: 'eslint/openDoc' = 'eslint/openDoc';\n\texport const type = new RequestType<OpenESLintDocParams, OpenESLintDocResult, void>(method);\n}\n\nexport type ProbeFailedParams = {\n\ttextDocument: TextDocumentIdentifier;\n};\n\n/**\n * The eslint/probeFailed request is sent from the server to the client\n * to tell the client the the lint probing for a certain document has\n * failed and that there is no need to sync that document to the server\n * anymore.\n */\nexport namespace ProbeFailedRequest {\n\texport const method: 'eslint/probeFailed' = 'eslint/probeFailed';\n\texport const type = new RequestType<ProbeFailedParams, void, void>(method);\n}\n\n/**\n * The eslint/showOutputChannel notification is sent from the server to\n * the client to ask the client to reveal it's output channel.\n */\nexport namespace ShowOutputChannel {\n\texport const method: 'eslint/showOutputChannel' = 'eslint/showOutputChannel';\n\texport const type = new NotificationType0('eslint/showOutputChannel');\n}\n\n/**\n * The eslint/exitCalled notification is sent from the server to the client\n * to inform the client that a process.exit call on the server got intercepted.\n * The call was very likely made by an ESLint plugin.\n */\nexport namespace ExitCalled {\n\texport const method: 'eslint/exitCalled' = 'eslint/exitCalled';\n\texport const type = new NotificationType<[number, string]>(method);\n}","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n\nimport {\n\tWorkspaceFolder\n} from 'vscode-languageserver-protocol';\n\nnamespace Is {\n\tconst toString = Object.prototype.toString;\n\n\texport function boolean(value: any): value is boolean {\n\t\treturn value === true || value === false;\n\t}\n\n\texport function string(value: any): value is string {\n\t\treturn toString.call(value) === '[object String]';\n\t}\n}\n\nexport enum Validate {\n\ton = 'on',\n\toff = 'off',\n\tprobe = 'probe'\n}\n\nexport type CodeActionSettings = {\n\tdisableRuleComment: {\n\t\tenable: boolean;\n\t\tlocation: 'separateLine' | 'sameLine';\n\t\tcommentStyle: 'line' | 'block';\n\t};\n\tshowDocumentation: {\n\t\tenable: boolean;\n\t};\n};\n\nexport enum CodeActionsOnSaveMode {\n\tall = 'all',\n\tproblems = 'problems'\n}\n\nexport namespace CodeActionsOnSaveMode {\n\texport function from(value: string | undefined | null): CodeActionsOnSaveMode {\n\t\tif (value === undefined || value === null || !Is.string(value)) {\n\t\t\treturn CodeActionsOnSaveMode.all;\n\t\t}\n\t\tswitch(value.toLowerCase()) {\n\t\t\tcase CodeActionsOnSaveMode.problems:\n\t\t\t\treturn CodeActionsOnSaveMode.problems;\n\t\t\tdefault:\n\t\t\t\treturn CodeActionsOnSaveMode.all;\n\t\t}\n\t}\n}\n\nexport namespace CodeActionsOnSaveRules {\n\texport function from(value: string[] | undefined | null): string[] | undefined {\n\t\tif (value === undefined || value === null || !Array.isArray(value)) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn value.filter(item => Is.string(item));\n\t}\n}\n\nexport type CodeActionsOnSaveSettings = {\n\tmode: CodeActionsOnSaveMode;\n\trules?: string[];\n};\n\nexport enum ESLintSeverity {\n\toff = 'off',\n\twarn = 'warn',\n\terror = 'error'\n}\n\nexport namespace ESLintSeverity {\n\texport function from(value: string | undefined | null): ESLintSeverity {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn ESLintSeverity.off;\n\t\t}\n\t\tswitch (value.toLowerCase()) {\n\t\t\tcase ESLintSeverity.off:\n\t\t\t\treturn ESLintSeverity.off;\n\t\t\tcase ESLintSeverity.warn:\n\t\t\t\treturn ESLintSeverity.warn;\n\t\t\tcase ESLintSeverity.error:\n\t\t\t\treturn ESLintSeverity.error;\n\t\t\tdefault:\n\t\t\t\treturn ESLintSeverity.off;\n\t\t}\n\t}\n}\n\nexport enum RuleSeverity {\n\t// Original ESLint values\n\tinfo = 'info',\n\twarn = 'warn',\n\terror = 'error',\n\toff = 'off',\n\n\t// Added severity override changes\n\tdefault = 'default',\n\tdowngrade = 'downgrade',\n\tupgrade = 'upgrade'\n}\n\nexport type RuleCustomization = {\n\trule: string;\n\tseverity: RuleSeverity;\n\t/** Only apply to autofixable rules */\n\tfixable?: boolean;\n};\n\nexport type RunValues = 'onType' | 'onSave';\n\nexport enum ModeEnum {\n\tauto = 'auto',\n\tlocation = 'location'\n}\n\nexport namespace ModeEnum {\n\texport function is(value: string): value is ModeEnum {\n\t\treturn value === ModeEnum.auto || value === ModeEnum.location;\n\t}\n}\n\nexport type ModeItem = {\n\tmode: ModeEnum;\n};\n\nexport namespace ModeItem {\n\texport function is(item: any): item is ModeItem {\n\t\tconst candidate = item as ModeItem;\n\t\treturn candidate && ModeEnum.is(candidate.mode);\n\t}\n}\n\nexport type DirectoryItem = {\n\tdirectory: string;\n\t'!cwd'?: boolean;\n};\n\nexport namespace DirectoryItem {\n\texport function is(item: any): item is DirectoryItem {\n\t\tconst candidate = item as DirectoryItem;\n\t\treturn candidate && Is.string(candidate.directory) && (Is.boolean(candidate['!cwd']) || candidate['!cwd'] === undefined);\n\t}\n}\n\nexport type PackageManagers = 'npm' | 'yarn' | 'pnpm';\n\nexport type ESLintOptions = object & { fixTypes?: string[] };\n\nexport type ConfigurationSettings = {\n\tvalidate: Validate;\n\tpackageManager: PackageManagers;\n\tuseESLintClass: boolean;\n\tuseFlatConfig?: boolean | undefined;\n\texperimental?: {\n\t\tuseFlatConfig: boolean;\n\t};\n\tcodeAction: CodeActionSettings;\n\tcodeActionOnSave: CodeActionsOnSaveSettings;\n\tformat: boolean;\n\tquiet: boolean;\n\tonIgnoredFiles: ESLintSeverity;\n\toptions: ESLintOptions | undefined;\n\trulesCustomizations: RuleCustomization[];\n\trun: RunValues;\n\tproblems: {\n\t\tshortenToSingleLine: boolean;\n\t};\n\tnodePath: string | null;\n\tworkspaceFolder: WorkspaceFolder | undefined;\n\tworkingDirectory: ModeItem | DirectoryItem | undefined;\n};\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (!identifier && identifierBase === false) {\n          throw new Error('invalid increment argument: identifier is empty')\n        }\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","const {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.AbstractMessageBuffer = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.TraceValue = exports.Trace = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst sharedArrayCancellation_1 = require(\"./sharedArrayCancellation\");\nObject.defineProperty(exports, \"SharedArraySenderStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArraySenderStrategy; } });\nObject.defineProperty(exports, \"SharedArrayReceiverStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArrayReceiverStrategy; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst messageBuffer_1 = require(\"./messageBuffer\");\nObject.defineProperty(exports, \"AbstractMessageBuffer\", { enumerable: true, get: function () { return messageBuffer_1.AbstractMessageBuffer; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValue\", { enumerable: true, get: function () { return connection_1.TraceValue; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nObject.defineProperty(exports, \"MessageStrategy\", { enumerable: true, get: function () { return connection_1.MessageStrategy; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nconst ral_1 = __importDefault(require(\"./ral\"));\nexports.RAL = ral_1.default;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = __importDefault(require(\"./ral\"));\nconst Is = __importStar(require(\"./is\"));\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken || (exports.CancellationToken = CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    _isCancelled = false;\n    _emitter;\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    _token;\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.RequestCancellationReceiverStrategy = exports.IdCancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.TraceValue = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = __importDefault(require(\"./ral\"));\nconst Is = __importStar(require(\"./is\"));\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken || (exports.ProgressToken = ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    /**\n     * Clients must not use these properties. They are here to ensure correct typing.\n     * in TypeScript\n     */\n    __;\n    _pr;\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace || (exports.Trace = Trace = {}));\nvar TraceValue;\n(function (TraceValue) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValue.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValue.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValue.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValue.Verbose = 'verbose';\n})(TraceValue || (exports.TraceValue = TraceValue = {}));\n/**\n * @deprecated Use TraceValue instead\n */\nexports.TraceValues = TraceValue;\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace || (exports.Trace = Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat || (exports.TraceFormat = TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat || (exports.TraceFormat = TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification || (exports.SetTraceNotification = SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification || (exports.LogTraceNotification = LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors || (exports.ConnectionErrors = ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    code;\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy || (exports.ConnectionStrategy = ConnectionStrategy = {}));\nvar IdCancellationReceiverStrategy;\n(function (IdCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.kind === undefined || candidate.kind === 'id') && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    IdCancellationReceiverStrategy.is = is;\n})(IdCancellationReceiverStrategy || (exports.IdCancellationReceiverStrategy = IdCancellationReceiverStrategy = {}));\nvar RequestCancellationReceiverStrategy;\n(function (RequestCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'request' && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    RequestCancellationReceiverStrategy.is = is;\n})(RequestCancellationReceiverStrategy || (exports.RequestCancellationReceiverStrategy = RequestCancellationReceiverStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        return IdCancellationReceiverStrategy.is(value) || RequestCancellationReceiverStrategy.is(value);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy || (exports.CancellationSenderStrategy = CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy || (exports.CancellationStrategy = CancellationStrategy = {}));\nvar MessageStrategy;\n(function (MessageStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.handleMessage);\n    }\n    MessageStrategy.is = is;\n})(MessageStrategy || (exports.MessageStrategy = MessageStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate\n            && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy) || MessageStrategy.is(candidate.messageStrategy) || Is.number(candidate.maxParallelism));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions || (exports.ConnectionOptions = ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    const maxParallelism = options?.maxParallelism ?? -1;\n    let inFlight = 0;\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            // If we have unlimited parallelism we queue the response to keep\n            // the previous semantics.\n            if (maxParallelism === -1) {\n                queue.set(createResponseQueueKey(message.id), message);\n            }\n            else {\n                // If we have limited parallelism we resolve responses to avoid\n                // dead locks.\n                handleResponse(message);\n            }\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        if (maxParallelism !== -1 && inFlight >= maxParallelism) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(async () => {\n            timer = undefined;\n            if (messageQueue.size === 0) {\n                return;\n            }\n            if (maxParallelism !== -1 && inFlight >= maxParallelism) {\n                return;\n            }\n            const message = messageQueue.shift();\n            let result;\n            try {\n                inFlight++;\n                const messageStrategy = options?.messageStrategy;\n                if (MessageStrategy.is(messageStrategy)) {\n                    result = messageStrategy.handleMessage(message, handleMessage);\n                }\n                else {\n                    result = handleMessage(message);\n                }\n            }\n            catch (error) {\n                logger.error(`Processing message queue failed: ${error.toString()}`);\n            }\n            finally {\n                if (result instanceof Promise) {\n                    result.then(() => {\n                        inFlight--;\n                        triggerMessageQueue();\n                    }).catch((error) => {\n                        logger.error(`Processing message queue failed: ${error.toString()}`);\n                    });\n                }\n                else {\n                    inFlight--;\n                }\n                triggerMessageQueue();\n            }\n        });\n    }\n    async function handleMessage(message) {\n        if (messages_1.Message.isRequest(message)) {\n            return handleRequest(message);\n        }\n        else if (messages_1.Message.isNotification(message)) {\n            return handleNotification(message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            return handleResponse(message);\n        }\n        else {\n            return handleInvalidMessage(message);\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    async function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return Promise.resolve();\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            return messageWriter.write(message);\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            return messageWriter.write(message);\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = IdCancellationReceiverStrategy.is(cancellationStrategy.receiver)\n                ? cancellationStrategy.receiver.createCancellationTokenSource(tokenKey)\n                : cancellationStrategy.receiver.createCancellationTokenSource(requestMessage);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            return replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            return replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            return replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const resultOrError = await handlerResult;\n                await reply(resultOrError, requestMessage.method, startTime);\n            }\n            catch (error) {\n                if (error instanceof messages_1.ResponseError) {\n                    await reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    await replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    await replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n            finally {\n                requestTokens.delete(tokenKey);\n            }\n        }\n        else {\n            await replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    async function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        await notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            await notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            await notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        await notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    await starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                const paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch((error) => {\n                logger.error(`Sending notification failed.`);\n                throw error;\n            });\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            // This should not await but simple return to ensure that we don't have another\n            // async scheduling. Otherwise one send could overtake another send.\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            function sendCancellation(connection, id) {\n                const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                if (p === undefined) {\n                    logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                }\n                else {\n                    p.catch(() => {\n                        logger.log(`Sending cancellation messages for id ${id} failed.`);\n                    });\n                }\n            }\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            let tokenWasCancelled = false;\n            if (token !== undefined) {\n                if (token.isCancellationRequested) {\n                    tokenWasCancelled = true;\n                }\n                else {\n                    disposable = token.onCancellationRequested(() => {\n                        sendCancellation(connection, id);\n                    });\n                }\n            }\n            const requestMessage = {\n                jsonrpc: version,\n                id: id,\n                method: method,\n                params: messageParams\n            };\n            traceSendingRequest(requestMessage);\n            if (typeof cancellationStrategy.sender.enableCancellation === 'function') {\n                cancellationStrategy.sender.enableCancellation(requestMessage);\n            }\n            // eslint-disable-next-line no-async-promise-executor\n            return new Promise(async (resolve, reject) => {\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                try {\n                    responsePromises.set(id, responsePromise);\n                    await messageWriter.write(requestMessage);\n                    if (tokenWasCancelled) {\n                        sendCancellation(connection, id);\n                    }\n                }\n                catch (error) {\n                    // Writing the message failed. So we need to delete it from the response promises and\n                    // reject it.\n                    responsePromises.delete(id);\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, error.message ? error.message : 'Unknown reason'));\n                    logger.error(`Sending request failed.`);\n                    throw error;\n                }\n            });\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, async (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            await handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable || (exports.Disposable = Disposable = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = __importDefault(require(\"./ral\"));\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event || (exports.Event = Event = {}));\nclass CallbackList {\n    _callbacks;\n    _contexts;\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    _options;\n    static _noop = function () { };\n    _event;\n    _callbacks;\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch || (exports.Touch = Touch = {}));\nclass LinkedMap {\n    [Symbol.toStringTag] = 'LinkedMap';\n    _map;\n    _head;\n    _tail;\n    _size;\n    _state;\n    constructor() {\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    before(key) {\n        const item = this._map.get(key);\n        return item ? item.previous?.value : undefined;\n    }\n    after(key) {\n        const item = this._map.get(key);\n        return item ? item.next?.value : undefined;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    _limit;\n    _ratio;\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    _encoding;\n    _chunks;\n    _totalLength;\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders(lowerCaseKeys = false) {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error(`Message header must separate key and value using ':'\\n${header}`);\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(lowerCaseKeys ? key.toLowerCase() : key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        const chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = __importDefault(require(\"./ral\"));\nconst Is = __importStar(require(\"./is\"));\nconst events_1 = require(\"./events\");\nconst semaphore_1 = require(\"./semaphore\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader || (exports.MessageReader = MessageReader = {}));\nclass AbstractMessageReader {\n    errorEmitter;\n    closeEmitter;\n    partialMessageEmitter;\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    readable;\n    options;\n    callback;\n    nextMessageLength;\n    messageToken;\n    buffer;\n    partialMessageTimer;\n    _partialMessageTimeout;\n    readSemaphore;\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.readSemaphore = new semaphore_1.Semaphore(1);\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        try {\n            this.buffer.append(data);\n            while (true) {\n                if (this.nextMessageLength === -1) {\n                    const headers = this.buffer.tryReadHeaders(true);\n                    if (!headers) {\n                        return;\n                    }\n                    const contentLength = headers.get('content-length');\n                    if (!contentLength) {\n                        this.fireError(new Error(`Header must provide a Content-Length property.\\n${JSON.stringify(Object.fromEntries(headers))}`));\n                        return;\n                    }\n                    const length = parseInt(contentLength);\n                    if (isNaN(length)) {\n                        this.fireError(new Error(`Content-Length value must be a number. Got ${contentLength}`));\n                        return;\n                    }\n                    this.nextMessageLength = length;\n                }\n                const body = this.buffer.tryReadBody(this.nextMessageLength);\n                if (body === undefined) {\n                    /** We haven't received the full message yet. */\n                    this.setPartialMessageTimer();\n                    return;\n                }\n                this.clearPartialMessageTimer();\n                this.nextMessageLength = -1;\n                // Make sure that we convert one received message after the\n                // other. Otherwise it could happen that a decoding of a second\n                // smaller message finished before the decoding of a first larger\n                // message and then we would deliver the second message first.\n                this.readSemaphore.lock(async () => {\n                    const bytes = this.options.contentDecoder !== undefined\n                        ? await this.options.contentDecoder.decode(body)\n                        : body;\n                    const message = await this.options.contentTypeDecoder.decode(bytes, this.options);\n                    this.callback(message);\n                }).catch((error) => {\n                    this.fireError(error);\n                });\n            }\n        }\n        catch (error) {\n            this.fireError(error);\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = __importDefault(require(\"./ral\"));\nconst Is = __importStar(require(\"./is\"));\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter || (exports.MessageWriter = MessageWriter = {}));\nclass AbstractMessageWriter {\n    errorEmitter;\n    closeEmitter;\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    writable;\n    options;\n    errorCount;\n    writeSemaphore;\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = __importStar(require(\"./is\"));\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes || (exports.ErrorCodes = ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    code;\n    data;\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    kind;\n    /**\n     * The parameter structure is automatically inferred on the number of parameters\n     * and the parameter type in case of a single param.\n     */\n    static auto = new ParameterStructures('auto');\n    /**\n     * Forces `byPosition` parameter structure. This is useful if you have a single\n     * parameter which has a literal type.\n     */\n    static byPosition = new ParameterStructures('byPosition');\n    /**\n     * Forces `byName` parameter structure. This is only useful when having a single\n     * parameter. The library will report errors if used with a different number of\n     * parameters.\n     */\n    static byName = new ParameterStructures('byName');\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    method;\n    numberOfParams;\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    _parameterStructures;\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    _parameterStructures;\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    _parameterStructures;\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    _parameterStructures;\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    _;\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message || (exports.Message = Message = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = __importDefault(require(\"./ral\"));\nclass Semaphore {\n    _capacity;\n    _active;\n    _waiting;\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = void 0;\nconst cancellation_1 = require(\"./cancellation\");\nvar CancellationState;\n(function (CancellationState) {\n    CancellationState.Continue = 0;\n    CancellationState.Cancelled = 1;\n})(CancellationState || (CancellationState = {}));\nclass SharedArraySenderStrategy {\n    buffers;\n    constructor() {\n        this.buffers = new Map();\n    }\n    enableCancellation(request) {\n        if (request.id === null) {\n            return;\n        }\n        const buffer = new SharedArrayBuffer(4);\n        const data = new Int32Array(buffer, 0, 1);\n        data[0] = CancellationState.Continue;\n        this.buffers.set(request.id, buffer);\n        request.$cancellationData = buffer;\n    }\n    async sendCancellation(_conn, id) {\n        const buffer = this.buffers.get(id);\n        if (buffer === undefined) {\n            return;\n        }\n        const data = new Int32Array(buffer, 0, 1);\n        Atomics.store(data, 0, CancellationState.Cancelled);\n    }\n    cleanup(id) {\n        this.buffers.delete(id);\n    }\n    dispose() {\n        this.buffers.clear();\n    }\n}\nexports.SharedArraySenderStrategy = SharedArraySenderStrategy;\nclass SharedArrayBufferCancellationToken {\n    data;\n    constructor(buffer) {\n        this.data = new Int32Array(buffer, 0, 1);\n    }\n    get isCancellationRequested() {\n        return Atomics.load(this.data, 0) === CancellationState.Cancelled;\n    }\n    get onCancellationRequested() {\n        throw new Error(`Cancellation over SharedArrayBuffer doesn't support cancellation events`);\n    }\n}\nclass SharedArrayBufferCancellationTokenSource {\n    token;\n    constructor(buffer) {\n        this.token = new SharedArrayBufferCancellationToken(buffer);\n    }\n    cancel() {\n    }\n    dispose() {\n    }\n}\nclass SharedArrayReceiverStrategy {\n    kind = 'request';\n    createCancellationTokenSource(request) {\n        const buffer = request.$cancellationData;\n        if (buffer === undefined) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n        return new SharedArrayBufferCancellationTokenSource(buffer);\n    }\n}\nexports.SharedArrayReceiverStrategy = SharedArrayReceiverStrategy;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.PortMessageWriter = exports.PortMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = __importDefault(require(\"./ril\"));\n// Install the node runtime abstract.\nril_1.default.install();\nconst path = __importStar(require(\"path\"));\nconst os = __importStar(require(\"os\"));\nconst fs = __importStar(require(\"fs\"));\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\nconst api_1 = require(\"../common/api\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    process;\n    constructor(process) {\n        super();\n        this.process = process;\n        const eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    process;\n    errorCount;\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        const eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass PortMessageReader extends api_1.AbstractMessageReader {\n    onData;\n    constructor(port) {\n        super();\n        this.onData = new api_1.Emitter;\n        port.on('close', () => this.fireClose);\n        port.on('error', (error) => this.fireError(error));\n        port.on('message', (message) => {\n            this.onData.fire(message);\n        });\n    }\n    listen(callback) {\n        return this.onData.event(callback);\n    }\n}\nexports.PortMessageReader = PortMessageReader;\nclass PortMessageWriter extends api_1.AbstractMessageWriter {\n    port;\n    errorCount;\n    constructor(port) {\n        super();\n        this.port = port;\n        this.errorCount = 0;\n        port.on('close', () => this.fireClose());\n        port.on('error', (error) => this.fireError(error));\n    }\n    write(msg) {\n        try {\n            this.port.postMessage(msg);\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.PortMessageWriter = PortMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super((0, ril_1.default)().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    socket;\n    constructor(socket, options) {\n        super((0, ril_1.default)().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readable, encoding) {\n        super((0, ril_1.default)().stream.asReadableStream(readable), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super((0, ril_1.default)().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\lsp-${(0, crypto_1.randomBytes)(16).toString('hex')}-sock`;\n    }\n    let randomLength = 32;\n    const fixedLength = 'lsp-.sock'.length;\n    const tmpDir = fs.realpathSync(XDG_RUNTIME_DIR ?? os.tmpdir());\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined) {\n        randomLength = Math.min(limit - tmpDir.length - fixedLength, randomLength);\n    }\n    if (randomLength < 16) {\n        throw new Error(`Unable to generate a random pipe name with ${randomLength} characters.`);\n    }\n    const randomSuffix = (0, crypto_1.randomBytes)(Math.floor(randomLength / 2)).toString('hex');\n    return path.join(tmpDir, `lsp-${randomSuffix}.sock`);\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"util\");\nconst api_1 = require(\"../common/api\");\nclass MessageBuffer extends api_1.AbstractMessageBuffer {\n    static emptyBuffer = Buffer.allocUnsafe(0);\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nclass ReadableStreamWrapper {\n    stream;\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return api_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    stream;\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setImmediate(callback, ...args);\n            return { dispose: () => clearImmediate(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        api_1.RAL.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server has detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes || (exports.LSPErrorCodes = LSPErrorCodes = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = exports.MessageDirection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nvar MessageDirection;\n(function (MessageDirection) {\n    MessageDirection[\"clientToServer\"] = \"clientToServer\";\n    MessageDirection[\"serverToClient\"] = \"serverToClient\";\n    MessageDirection[\"both\"] = \"both\";\n})(MessageDirection || (exports.MessageDirection = MessageDirection = {}));\nclass RegistrationType {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    ____;\n    method;\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    /**\n     * Clients must not use these properties. They are here to ensure correct typing.\n     * in TypeScript\n     */\n    __;\n    ___;\n    ____;\n    _pr;\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    __;\n    ___;\n    ____;\n    _pr;\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    ___;\n    ____;\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    /**\n     * Clients must not use this property. It is here to ensure correct typing.\n     */\n    ___;\n    ____;\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = CallHierarchyOutgoingCallsRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type {@link DocumentColorParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest || (exports.DocumentColorRequest = DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type {@link ColorPresentationParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.method = 'textDocument/colorPresentation';\n    ColorPresentationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType(ColorPresentationRequest.method);\n})(ColorPresentationRequest || (exports.ColorPresentationRequest = ColorPresentationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.method = 'workspace/configuration';\n    ConfigurationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType(ConfigurationRequest.method);\n})(ConfigurationRequest || (exports.ConfigurationRequest = ConfigurationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Declaration} or a typed array of {@link DeclarationLink}\n * or a Thenable that resolves to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest || (exports.DeclarationRequest = DeclarationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = __importStar(require(\"./utils/is\"));\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = DiagnosticRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind || (exports.FileOperationPatternKind = FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * The request can return a `WorkspaceEdit` which will be applied to workspace before the\n * files are created. Hence the `WorkspaceEdit` can not manipulate the content of the file\n * to be created.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest || (exports.WillCreateFilesRequest = WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification || (exports.DidCreateFilesNotification = DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest || (exports.WillRenameFilesRequest = WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification || (exports.DidRenameFilesNotification = DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = WillDeleteFilesRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRefreshRequest = exports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type {@link FoldingRangeParams}, the\n * response is of type {@link FoldingRangeList} or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest || (exports.FoldingRangeRequest = FoldingRangeRequest = {}));\n/**\n * @since 3.18.0\n * @proposed\n */\nvar FoldingRangeRefreshRequest;\n(function (FoldingRangeRefreshRequest) {\n    FoldingRangeRefreshRequest.method = `workspace/foldingRange/refresh`;\n    FoldingRangeRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    FoldingRangeRefreshRequest.type = new messages_1.ProtocolRequestType0(FoldingRangeRefreshRequest.method);\n})(FoldingRangeRefreshRequest || (exports.FoldingRangeRefreshRequest = FoldingRangeRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Definition} or a Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest || (exports.ImplementationRequest = ImplementationRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type {@link InlayHintsParams}, the response is of type\n * {@link InlayHint InlayHint[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest || (exports.InlayHintRequest = InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type {@link InlayHint}, the response is\n * of type {@link InlayHint} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest || (exports.InlayHintResolveRequest = InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = InlayHintRefreshRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineCompletionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline completions in a document. The request's parameter is of\n * type {@link InlineCompletionParams}, the response is of type\n * {@link InlineCompletion InlineCompletion[]} or a Thenable that resolves to such.\n *\n * @since 3.18.0\n * @proposed\n */\nvar InlineCompletionRequest;\n(function (InlineCompletionRequest) {\n    InlineCompletionRequest.method = 'textDocument/inlineCompletion';\n    InlineCompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineCompletionRequest.type = new messages_1.ProtocolRequestType(InlineCompletionRequest.method);\n})(InlineCompletionRequest || (exports.InlineCompletionRequest = InlineCompletionRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type {@link InlineValueParams}, the response is of type\n * {@link InlineValue InlineValue[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest || (exports.InlineValueRequest = InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = InlineValueRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.GlobPattern = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.RegularExpressionEngineKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRefreshRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangesFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = exports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = void 0;\nexports.TextDocumentContentRefreshRequest = exports.TextDocumentContentRequest = exports.InlineCompletionRequest = exports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = exports.MonikerRequest = exports.MonikerKind = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = __importStar(require(\"./utils/is\"));\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nObject.defineProperty(exports, \"FoldingRangeRefreshRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRefreshRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\nconst protocol_inlineCompletion_1 = require(\"./protocol.inlineCompletion\");\nObject.defineProperty(exports, \"InlineCompletionRequest\", { enumerable: true, get: function () { return protocol_inlineCompletion_1.InlineCompletionRequest; } });\nconst protocol_textDocumentContent_1 = require(\"./protocol.textDocumentContent\");\nObject.defineProperty(exports, \"TextDocumentContentRequest\", { enumerable: true, get: function () { return protocol_textDocumentContent_1.TextDocumentContentRequest; } });\nObject.defineProperty(exports, \"TextDocumentContentRefreshRequest\", { enumerable: true, get: function () { return protocol_textDocumentContent_1.TextDocumentContentRefreshRequest; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * {@link TextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate) || (Is.string(candidate.language) || Is.string(candidate.scheme) || GlobPattern.is(candidate.pattern));\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter || (exports.TextDocumentFilter = TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * {@link NotebookDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter || (exports.NotebookDocumentFilter = NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * {@link NotebookCellTextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * {@link DocumentSelector}s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (const elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector || (exports.DocumentSelector = DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.method = 'client/registerCapability';\n    RegistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    RegistrationRequest.type = new messages_1.ProtocolRequestType(RegistrationRequest.method);\n})(RegistrationRequest || (exports.RegistrationRequest = RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.method = 'client/unregisterCapability';\n    UnregistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType(UnregistrationRequest.method);\n})(UnregistrationRequest || (exports.UnregistrationRequest = UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind || (exports.ResourceOperationKind = ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind || (exports.FailureHandlingKind = FailureHandlingKind = {}));\n/**\n * Regular Expression Engines\n *\n * @since 3.18.0\n * @proposed\n */\nvar RegularExpressionEngineKind;\n(function (RegularExpressionEngineKind) {\n    RegularExpressionEngineKind.ES2020 = 'ES2020';\n})(RegularExpressionEngineKind || (exports.RegularExpressionEngineKind = RegularExpressionEngineKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units (e.g. bytes).\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode codepoints,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind || (exports.PositionEncodingKind = PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * {@link StaticRegistrationOptions} literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions || (exports.StaticRegistrationOptions = StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * {@link TextDocumentRegistrationOptions} literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * {@link WorkDoneProgressOptions} literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type {@link InitializeParams}\n * the response if of type {@link InitializeResult} of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.method = 'initialize';\n    InitializeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializeRequest.type = new messages_1.ProtocolRequestType(InitializeRequest.method);\n})(InitializeRequest || (exports.InitializeRequest = InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes || (exports.InitializeErrorCodes = InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.method = 'initialized';\n    InitializedNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializedNotification.type = new messages_1.ProtocolNotificationType(InitializedNotification.method);\n})(InitializedNotification || (exports.InitializedNotification = InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.method = 'shutdown';\n    ShutdownRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0(ShutdownRequest.method);\n})(ShutdownRequest || (exports.ShutdownRequest = ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.method = 'exit';\n    ExitNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExitNotification.type = new messages_1.ProtocolNotificationType0(ExitNotification.method);\n})(ExitNotification || (exports.ExitNotification = ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.method = 'workspace/didChangeConfiguration';\n    DidChangeConfigurationNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification.method);\n})(DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n    /**\n     * A debug message.\n     *\n     * @since 3.18.0\n     * @proposed\n     */\n    MessageType.Debug = 5;\n})(MessageType || (exports.MessageType = MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.method = 'window/showMessage';\n    ShowMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType(ShowMessageNotification.method);\n})(ShowMessageNotification || (exports.ShowMessageNotification = ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.method = 'window/showMessageRequest';\n    ShowMessageRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType(ShowMessageRequest.method);\n})(ShowMessageRequest || (exports.ShowMessageRequest = ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.method = 'window/logMessage';\n    LogMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType(LogMessageNotification.method);\n})(LogMessageNotification || (exports.LogMessageNotification = LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.method = 'telemetry/event';\n    TelemetryEventNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType(TelemetryEventNotification.method);\n})(TelemetryEventNotification || (exports.TelemetryEventNotification = TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind || (exports.TextDocumentSyncKind = TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        const candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        const candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason || (exports.TextDocumentSaveReason = TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.method = 'workspace/didChangeWatchedFiles';\n    DidChangeWatchedFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification.method);\n})(DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType || (exports.FileChangeType = FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern || (exports.RelativePattern = RelativePattern = {}));\nvar GlobPattern;\n(function (GlobPattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate) || RelativePattern.is(candidate);\n    }\n    GlobPattern.is = is;\n})(GlobPattern || (exports.GlobPattern = GlobPattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind || (exports.WatchKind = WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.method = 'textDocument/publishDiagnostics';\n    PublishDiagnosticsNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification.method);\n})(PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind || (exports.CompletionTriggerKind = CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response\n * is of type {@link CompletionItem CompletionItem[]} or {@link CompletionList}\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the {@link CompletionItem.detail `detail`}\n * and {@link CompletionItem.documentation `documentation`} properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest || (exports.CompletionRequest = CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type {@link CompletionItem} the response\n * is of type {@link CompletionItem} or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest || (exports.CompletionResolveRequest = CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response is of\n * type {@link Hover} or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest || (exports.HoverRequest = HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest || (exports.SignatureHelpRequest = SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPosition}\n * the response is of either type {@link Definition} or a typed array of\n * {@link DefinitionLink} or a Thenable that resolves to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest || (exports.DefinitionRequest = DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type {@link ReferenceParams} the response is of type\n * {@link Location Location[]} or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest || (exports.ReferencesRequest = ReferencesRequest = {}));\n/**\n * Request to resolve a {@link DocumentHighlight} for a given\n * text document position. The request's parameter is of type {@link TextDocumentPosition}\n * the request response is an array of type {@link DocumentHighlight}\n * or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest || (exports.DocumentHighlightRequest = DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type {@link TextDocumentIdentifier} the\n * response is of type {@link SymbolInformation SymbolInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest || (exports.DocumentSymbolRequest = DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest || (exports.CodeActionRequest = CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type {@link CodeAction} the response\n * is of type {@link CodeAction} or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest || (exports.CodeActionResolveRequest = CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the {@link WorkspaceSymbolParams}. The response is\n * of type {@link SymbolInformation SymbolInformation[]} or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest || (exports.CodeLensRequest = CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest || (exports.CodeLensResolveRequest = CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest || (exports.DocumentLinkRequest = DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type {@link DocumentLink} the response\n * is of type {@link DocumentLink} or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = DocumentLinkResolveRequest = {}));\n/**\n * A request to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest || (exports.DocumentFormattingRequest = DocumentFormattingRequest = {}));\n/**\n * A request to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = DocumentRangeFormattingRequest = {}));\n/**\n * A request to format ranges in a document.\n *\n * @since 3.18.0\n * @proposed\n */\nvar DocumentRangesFormattingRequest;\n(function (DocumentRangesFormattingRequest) {\n    DocumentRangesFormattingRequest.method = 'textDocument/rangesFormatting';\n    DocumentRangesFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangesFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangesFormattingRequest.method);\n})(DocumentRangesFormattingRequest || (exports.DocumentRangesFormattingRequest = DocumentRangesFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest || (exports.RenameRequest = RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest || (exports.PrepareRenameRequest = PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.method = 'workspace/executeCommand';\n    ExecuteCommandRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType(ExecuteCommandRequest.method);\n})(ExecuteCommandRequest || (exports.ExecuteCommandRequest = ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.method = 'workspace/applyEdit';\n    ApplyWorkspaceEditRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = ApplyWorkspaceEditRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = LinkedEditingRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel || (exports.UniquenessLevel = UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind || (exports.MonikerKind = MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type {@link TextDocumentPositionParams}.\n * The response is of type {@link Moniker Moniker[]} or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest || (exports.MonikerRequest = MonikerRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = __importStar(require(\"./utils/is\"));\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind || (exports.NotebookCellKind = NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary || (exports.ExecutionSummary = ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell || (exports.NotebookCell = NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument || (exports.NotebookDocument = NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.messageDirection = messages_1.MessageDirection.clientToServer;\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n    DidOpenNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange || (exports.NotebookCellArrayChange = NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n    DidChangeNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n    DidSaveNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n    DidCloseNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = DidCloseNotebookDocumentNotification = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress || (exports.WorkDoneProgress = WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = WorkDoneProgressCancelNotification = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type {@link SelectionRangeParams}, the\n * response is of type {@link SelectionRange SelectionRange[]} or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest || (exports.SelectionRangeRequest = SelectionRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat || (exports.TokenFormat = TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n    SemanticTokensRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRequest || (exports.SemanticTokensRequest = SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n    SemanticTokensDeltaRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n    SemanticTokensRangeRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = SemanticTokensRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest || (exports.ShowDocumentRequest = ShowDocumentRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextDocumentContentRefreshRequest = exports.TextDocumentContentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/textDocumentContent` request is sent from the client to the\n * server to request the content of a text document.\n *\n * @since 3.18.0\n * @proposed\n */\nvar TextDocumentContentRequest;\n(function (TextDocumentContentRequest) {\n    TextDocumentContentRequest.method = 'workspace/textDocumentContent';\n    TextDocumentContentRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TextDocumentContentRequest.type = new messages_1.ProtocolRequestType(TextDocumentContentRequest.method);\n})(TextDocumentContentRequest || (exports.TextDocumentContentRequest = TextDocumentContentRequest = {}));\n/**\n * The `workspace/textDocumentContent` request is sent from the server to the client to refresh\n * the content of a specific text document.\n *\n * @since 3.18.0\n * @proposed\n */\nvar TextDocumentContentRefreshRequest;\n(function (TextDocumentContentRefreshRequest) {\n    TextDocumentContentRefreshRequest.method = `workspace/textDocumentContent/refresh`;\n    TextDocumentContentRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    TextDocumentContentRefreshRequest.type = new messages_1.ProtocolRequestType(TextDocumentContentRefreshRequest.method);\n})(TextDocumentContentRefreshRequest || (exports.TextDocumentContentRefreshRequest = TextDocumentContentRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Definition} or a Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest || (exports.TypeDefinitionRequest = TypeDefinitionRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = TypeHierarchySubtypesRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.method = 'workspace/workspaceFolders';\n    WorkspaceFoldersRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest.method);\n})(WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.method = 'workspace/didChangeWorkspaceFolders';\n    DidChangeWorkspaceFoldersNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification.method);\n})(DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = DidChangeWorkspaceFoldersNotification = {}));\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return (0, node_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.NotebookDocuments = exports.TextDocuments = exports.SemanticTokensBuilder = void 0;\nconst semanticTokens_1 = require(\"./semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokensBuilder\", { enumerable: true, get: function () { return semanticTokens_1.SemanticTokensBuilder; } });\nconst ic = __importStar(require(\"./inlineCompletion.proposed\"));\nconst tdc = __importStar(require(\"./textDocumentContent\"));\n__exportStar(require(\"vscode-languageserver-protocol\"), exports);\nconst textDocuments_1 = require(\"./textDocuments\");\nObject.defineProperty(exports, \"TextDocuments\", { enumerable: true, get: function () { return textDocuments_1.TextDocuments; } });\nconst notebook_1 = require(\"./notebook\");\nObject.defineProperty(exports, \"NotebookDocuments\", { enumerable: true, get: function () { return notebook_1.NotebookDocuments; } });\n__exportStar(require(\"./server\"), exports);\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    ProposedFeatures.all = {\n        __brand: 'features',\n        workspace: tdc.TextDocumentContentFeature,\n        languages: ic.InlineCompletionFeature\n    };\n})(ProposedFeatures || (exports.ProposedFeatures = ProposedFeatures = {}));\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst CallHierarchyFeature = (Base) => {\n    return class extends Base {\n        get callHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onIncomingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onOutgoingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.CallHierarchyFeature = CallHierarchyFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = __importStar(require(\"./utils/is\"));\nconst ConfigurationFeature = (Base) => {\n    return class extends Base {\n        getConfiguration(arg) {\n            if (!arg) {\n                return this._getConfiguration({});\n            }\n            else if (Is.string(arg)) {\n                return this._getConfiguration({ section: arg });\n            }\n            else {\n                return this._getConfiguration(arg);\n            }\n        }\n        _getConfiguration(arg) {\n            const params = {\n                items: Array.isArray(arg) ? arg : [arg]\n            };\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\n                if (Array.isArray(result)) {\n                    return Array.isArray(arg) ? result : result[0];\n                }\n                else {\n                    return Array.isArray(arg) ? [] : null;\n                }\n            });\n        }\n    };\n};\nexports.ConfigurationFeature = ConfigurationFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst DiagnosticFeature = (Base) => {\n    return class extends Base {\n        get diagnostics() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.partialResult, params));\n                    });\n                },\n                onWorkspace: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.DiagnosticFeature = DiagnosticFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileOperationsFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FileOperationsFeature = (Base) => {\n    return class extends Base {\n        onDidCreateFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidCreateFilesNotification.type, (params) => {\n                return handler(params);\n            });\n        }\n        onDidRenameFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidRenameFilesNotification.type, (params) => {\n                return handler(params);\n            });\n        }\n        onDidDeleteFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidDeleteFilesNotification.type, (params) => {\n                return handler(params);\n            });\n        }\n        onWillCreateFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillCreateFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillRenameFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillRenameFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillDeleteFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillDeleteFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n    };\n};\nexports.FileOperationsFeature = FileOperationsFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FoldingRangeFeature = (Base) => {\n    return class extends Base {\n        get foldingRange() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRefreshRequest.type);\n                },\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.FoldingRangeRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.FoldingRangeFeature = FoldingRangeFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlayHintFeature = (Base) => {\n    return class extends Base {\n        get inlayHint() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                },\n                resolve: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, (params, cancel) => {\n                        return handler(params, cancel);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlayHintFeature = InlayHintFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineCompletionFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlineCompletionFeature = (Base) => {\n    return class extends Base {\n        get inlineCompletion() {\n            return {\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlineCompletionRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlineCompletionFeature = InlineCompletionFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlineValueFeature = (Base) => {\n    return class extends Base {\n        get inlineValue() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlineValueFeature = InlineValueFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst LinkedEditingRangeFeature = (Base) => {\n    return class extends Base {\n        onLinkedEditingRange(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.LinkedEditingRangeRequest.type, (params, cancel) => {\n                return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n            });\n        }\n    };\n};\nexports.LinkedEditingRangeFeature = LinkedEditingRangeFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst MonikerFeature = (Base) => {\n    return class extends Base {\n        get moniker() {\n            return {\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.MonikerRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n            };\n        }\n    };\n};\nexports.MonikerFeature = MonikerFeature;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocuments = exports.NotebookSyncFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst textDocuments_1 = require(\"./textDocuments\");\nconst NotebookSyncFeature = (Base) => {\n    return class extends Base {\n        get synchronization() {\n            return {\n                onDidOpenNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidOpenNotebookDocumentNotification.type, (params) => {\n                        return handler(params);\n                    });\n                },\n                onDidChangeNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeNotebookDocumentNotification.type, (params) => {\n                        return handler(params);\n                    });\n                },\n                onDidSaveNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidSaveNotebookDocumentNotification.type, (params) => {\n                        return handler(params);\n                    });\n                },\n                onDidCloseNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidCloseNotebookDocumentNotification.type, (params) => {\n                        return handler(params);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.NotebookSyncFeature = NotebookSyncFeature;\nclass CellTextDocumentConnection {\n    static NULL_DISPOSE = Object.freeze({ dispose: () => { } });\n    openHandler;\n    changeHandler;\n    closeHandler;\n    onDidOpenTextDocument(handler) {\n        this.openHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.openHandler = undefined; });\n    }\n    openTextDocument(params) {\n        return this.openHandler && this.openHandler(params);\n    }\n    onDidChangeTextDocument(handler) {\n        this.changeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.changeHandler = handler; });\n    }\n    changeTextDocument(params) {\n        return this.changeHandler && this.changeHandler(params);\n    }\n    onDidCloseTextDocument(handler) {\n        this.closeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.closeHandler = undefined; });\n    }\n    closeTextDocument(params) {\n        return this.closeHandler && this.closeHandler(params);\n    }\n    onWillSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onWillSaveTextDocumentWaitUntil() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onDidSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n}\nclass NotebookDocuments {\n    notebookDocuments;\n    notebookCellMap;\n    _onDidOpen;\n    _onDidSave;\n    _onDidChange;\n    _onDidClose;\n    _cellTextDocuments;\n    constructor(configurationOrTextDocuments) {\n        if (configurationOrTextDocuments instanceof textDocuments_1.TextDocuments) {\n            this._cellTextDocuments = configurationOrTextDocuments;\n        }\n        else {\n            this._cellTextDocuments = new textDocuments_1.TextDocuments(configurationOrTextDocuments);\n        }\n        this.notebookDocuments = new Map();\n        this.notebookCellMap = new Map();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidChange = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n    }\n    get cellTextDocuments() {\n        return this._cellTextDocuments;\n    }\n    getCellTextDocument(cell) {\n        return this._cellTextDocuments.get(cell.document);\n    }\n    getNotebookDocument(uri) {\n        return this.notebookDocuments.get(uri);\n    }\n    getNotebookCell(uri) {\n        const value = this.notebookCellMap.get(uri);\n        return value && value[0];\n    }\n    findNotebookDocumentForCell(cell) {\n        const key = typeof cell === 'string' ? cell : cell.document;\n        const value = this.notebookCellMap.get(key);\n        return value && value[1];\n    }\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    get onDidChange() {\n        return this._onDidChange.event;\n    }\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the notebook documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenNotebookDocument`, `onDidChangeNotebookDocument`, `onDidSaveNotebookDocument`,\n     *  and `onDidCloseNotebookDocument`.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        const cellTextDocumentConnection = new CellTextDocumentConnection();\n        const disposables = [];\n        disposables.push(this.cellTextDocuments.listen(cellTextDocumentConnection));\n        disposables.push(connection.notebooks.synchronization.onDidOpenNotebookDocument(async (params) => {\n            this.notebookDocuments.set(params.notebookDocument.uri, params.notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                await cellTextDocumentConnection.openTextDocument({ textDocument: cellTextDocument });\n            }\n            this.updateCellMap(params.notebookDocument);\n            this._onDidOpen.fire(params.notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidChangeNotebookDocument(async (params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            notebookDocument.version = params.notebookDocument.version;\n            const oldMetadata = notebookDocument.metadata;\n            let metadataChanged = false;\n            const change = params.change;\n            if (change.metadata !== undefined) {\n                metadataChanged = true;\n                notebookDocument.metadata = change.metadata;\n            }\n            const opened = [];\n            const closed = [];\n            const data = [];\n            const text = [];\n            if (change.cells !== undefined) {\n                const changedCells = change.cells;\n                if (changedCells.structure !== undefined) {\n                    const array = changedCells.structure.array;\n                    notebookDocument.cells.splice(array.start, array.deleteCount, ...(array.cells !== undefined ? array.cells : []));\n                    // Additional open cell text documents.\n                    if (changedCells.structure.didOpen !== undefined) {\n                        for (const open of changedCells.structure.didOpen) {\n                            await cellTextDocumentConnection.openTextDocument({ textDocument: open });\n                            opened.push(open.uri);\n                        }\n                    }\n                    // Additional closed cell test documents.\n                    if (changedCells.structure.didClose) {\n                        for (const close of changedCells.structure.didClose) {\n                            await cellTextDocumentConnection.closeTextDocument({ textDocument: close });\n                            closed.push(close.uri);\n                        }\n                    }\n                }\n                if (changedCells.data !== undefined) {\n                    const cellUpdates = new Map(changedCells.data.map(cell => [cell.document, cell]));\n                    for (let i = 0; i <= notebookDocument.cells.length; i++) {\n                        const change = cellUpdates.get(notebookDocument.cells[i].document);\n                        if (change !== undefined) {\n                            const old = notebookDocument.cells.splice(i, 1, change);\n                            data.push({ old: old[0], new: change });\n                            cellUpdates.delete(change.document);\n                            if (cellUpdates.size === 0) {\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (changedCells.textContent !== undefined) {\n                    for (const cellTextDocument of changedCells.textContent) {\n                        await cellTextDocumentConnection.changeTextDocument({ textDocument: cellTextDocument.document, contentChanges: cellTextDocument.changes });\n                        text.push(cellTextDocument.document.uri);\n                    }\n                }\n            }\n            // Update internal data structure.\n            this.updateCellMap(notebookDocument);\n            const changeEvent = { notebookDocument };\n            if (metadataChanged) {\n                changeEvent.metadata = { old: oldMetadata, new: notebookDocument.metadata };\n            }\n            const added = [];\n            for (const open of opened) {\n                added.push(this.getNotebookCell(open));\n            }\n            const removed = [];\n            for (const close of closed) {\n                removed.push(this.getNotebookCell(close));\n            }\n            const textContent = [];\n            for (const change of text) {\n                textContent.push(this.getNotebookCell(change));\n            }\n            if (added.length > 0 || removed.length > 0 || data.length > 0 || textContent.length > 0) {\n                changeEvent.cells = { added, removed, changed: { data, textContent } };\n            }\n            if (changeEvent.metadata !== undefined || changeEvent.cells !== undefined) {\n                this._onDidChange.fire(changeEvent);\n            }\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidSaveNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidSave.fire(notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidCloseNotebookDocument(async (params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidClose.fire(notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                await cellTextDocumentConnection.closeTextDocument({ textDocument: cellTextDocument });\n            }\n            this.notebookDocuments.delete(params.notebookDocument.uri);\n            for (const cell of notebookDocument.cells) {\n                this.notebookCellMap.delete(cell.document);\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n    updateCellMap(notebookDocument) {\n        for (const cell of notebookDocument.cells) {\n            this.notebookCellMap.set(cell.document, [cell, notebookDocument]);\n        }\n    }\n}\nexports.NotebookDocuments = NotebookDocuments;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attachPartialResult = exports.ProgressFeature = exports.attachWorkDone = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nclass WorkDoneProgressReporterImpl {\n    _connection;\n    _token;\n    static Instances = new Map();\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n        WorkDoneProgressReporterImpl.Instances.set(this._token, this);\n    }\n    begin(title, percentage, message, cancellable) {\n        const param = {\n            kind: 'begin',\n            title,\n            message,\n            cancellable\n        };\n        if (typeof percentage === 'number') {\n            // Round to the nearest integer, because the percentage\n            // is a uinteger according to the specification\n            param.percentage = Math.round(percentage);\n        }\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    report(arg0, arg1) {\n        const param = {\n            kind: 'report'\n        };\n        if (typeof arg0 === 'number') {\n            // Round to the nearest integer, because the percentage\n            // is a uinteger according to the specification\n            param.percentage = Math.round(arg0);\n            if (arg1 !== undefined) {\n                param.message = arg1;\n            }\n        }\n        else {\n            param.message = arg0;\n        }\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    done() {\n        WorkDoneProgressReporterImpl.Instances.delete(this._token);\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\n    }\n}\nclass WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl {\n    _source;\n    constructor(connection, token) {\n        super(connection, token);\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n        super.done();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nclass NullProgressReporter {\n    constructor() {\n    }\n    begin() {\n    }\n    report() {\n    }\n    done() {\n    }\n}\nclass NullProgressServerReporter extends NullProgressReporter {\n    _source;\n    constructor() {\n        super();\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nfunction attachWorkDone(connection, params) {\n    if (params === undefined || params.workDoneToken === undefined) {\n        return new NullProgressReporter();\n    }\n    const token = params.workDoneToken;\n    delete params.workDoneToken;\n    return new WorkDoneProgressReporterImpl(connection, token);\n}\nexports.attachWorkDone = attachWorkDone;\nconst ProgressFeature = (Base) => {\n    return class extends Base {\n        _progressSupported;\n        constructor() {\n            super();\n            this._progressSupported = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            if (capabilities?.window?.workDoneProgress === true) {\n                this._progressSupported = true;\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\n                    const progress = WorkDoneProgressReporterImpl.Instances.get(params.token);\n                    if (progress instanceof WorkDoneProgressServerReporterImpl || progress instanceof NullProgressServerReporter) {\n                        progress.cancel();\n                    }\n                });\n            }\n        }\n        attachWorkDoneProgress(token) {\n            if (token === undefined) {\n                return new NullProgressReporter();\n            }\n            else {\n                return new WorkDoneProgressReporterImpl(this.connection, token);\n            }\n        }\n        createWorkDoneProgress() {\n            if (this._progressSupported) {\n                const token = (0, uuid_1.generateUuid)();\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\n                    const result = new WorkDoneProgressServerReporterImpl(this.connection, token);\n                    return result;\n                });\n            }\n            else {\n                return Promise.resolve(new NullProgressServerReporter());\n            }\n        }\n    };\n};\nexports.ProgressFeature = ProgressFeature;\nvar ResultProgress;\n(function (ResultProgress) {\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\n})(ResultProgress || (ResultProgress = {}));\nclass ResultProgressReporterImpl {\n    _connection;\n    _token;\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n    }\n    report(data) {\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\n    }\n}\nfunction attachPartialResult(connection, params) {\n    if (params === undefined || params.partialResultToken === undefined) {\n        return undefined;\n    }\n    const token = params.partialResultToken;\n    delete params.partialResultToken;\n    return new ResultProgressReporterImpl(connection, token);\n}\nexports.attachPartialResult = attachPartialResult;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensBuilder = exports.SemanticTokensDiff = exports.SemanticTokensFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst SemanticTokensFeature = (Base) => {\n    return class extends Base {\n        get semanticTokens() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type);\n                },\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onDelta: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onRange: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.SemanticTokensFeature = SemanticTokensFeature;\nclass SemanticTokensDiff {\n    originalSequence;\n    modifiedSequence;\n    constructor(originalSequence, modifiedSequence) {\n        this.originalSequence = originalSequence;\n        this.modifiedSequence = modifiedSequence;\n    }\n    computeDiff() {\n        const originalLength = this.originalSequence.length;\n        const modifiedLength = this.modifiedSequence.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && this.originalSequence[startIndex] === this.modifiedSequence[startIndex]) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= startIndex && modifiedEndIndex >= startIndex && this.originalSequence[originalEndIndex] === this.modifiedSequence[modifiedEndIndex]) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            // if one moved behind the start index move them forward again\n            if (originalEndIndex < startIndex || modifiedEndIndex < startIndex) {\n                originalEndIndex++;\n                modifiedEndIndex++;\n            }\n            const deleteCount = originalEndIndex - startIndex + 1;\n            const newData = this.modifiedSequence.slice(startIndex, modifiedEndIndex + 1);\n            // If we moved behind the start index we could have missed a simple delete.\n            if (newData.length === 1 && newData[0] === this.originalSequence[originalEndIndex]) {\n                return [\n                    { start: startIndex, deleteCount: deleteCount - 1 }\n                ];\n            }\n            else {\n                return [\n                    { start: startIndex, deleteCount, data: newData }\n                ];\n            }\n        }\n        else if (startIndex < modifiedLength) {\n            return [\n                { start: startIndex, deleteCount: 0, data: this.modifiedSequence.slice(startIndex) }\n            ];\n        }\n        else if (startIndex < originalLength) {\n            return [\n                { start: startIndex, deleteCount: originalLength - startIndex }\n            ];\n        }\n        else {\n            // The two arrays are the same.\n            return [];\n        }\n    }\n}\nexports.SemanticTokensDiff = SemanticTokensDiff;\nclass SemanticTokensBuilder {\n    _id;\n    _prevLine;\n    _prevChar;\n    _dataIsSortedAndDeltaEncoded;\n    _data;\n    _dataNonDelta;\n    _dataLen;\n    _prevData;\n    constructor() {\n        this._prevData = undefined;\n        this.initialize();\n    }\n    initialize() {\n        this._id = Date.now();\n        this._prevLine = 0;\n        this._prevChar = 0;\n        this._data = [];\n        this._dataNonDelta = [];\n        this._dataLen = 0;\n        this._dataIsSortedAndDeltaEncoded = true;\n    }\n    push(line, char, length, tokenType, tokenModifiers) {\n        if (this._dataIsSortedAndDeltaEncoded && (line < this._prevLine || (line === this._prevLine && char < this._prevChar))) {\n            // push calls were ordered and are no longer ordered\n            this._dataIsSortedAndDeltaEncoded = false;\n            this._dataNonDelta = SemanticTokensBuilder._deltaDecode(this._data);\n        }\n        let pushLine = line;\n        let pushChar = char;\n        if (this._dataIsSortedAndDeltaEncoded && this._dataLen > 0) {\n            pushLine -= this._prevLine;\n            if (pushLine === 0) {\n                pushChar -= this._prevChar;\n            }\n        }\n        const dataSource = this._dataIsSortedAndDeltaEncoded ? this._data : this._dataNonDelta;\n        dataSource[this._dataLen++] = pushLine;\n        dataSource[this._dataLen++] = pushChar;\n        dataSource[this._dataLen++] = length;\n        dataSource[this._dataLen++] = tokenType;\n        dataSource[this._dataLen++] = tokenModifiers;\n        this._prevLine = line;\n        this._prevChar = char;\n    }\n    get id() {\n        return this._id.toString();\n    }\n    static _deltaDecode(data) {\n        // Remove delta encoding from data\n        const tokenCount = (data.length / 5) | 0;\n        let prevLine = 0;\n        let prevChar = 0;\n        const result = [];\n        for (let i = 0; i < tokenCount; i++) {\n            const dstOffset = 5 * i;\n            let line = data[dstOffset];\n            let char = data[dstOffset + 1];\n            if (line === 0) {\n                // on the same line as previous token\n                line = prevLine;\n                char += prevChar;\n            }\n            else {\n                // on a different line than previous token\n                line += prevLine;\n            }\n            const length = data[dstOffset + 2];\n            const tokenType = data[dstOffset + 3];\n            const tokenModifiers = data[dstOffset + 4];\n            result[dstOffset + 0] = line;\n            result[dstOffset + 1] = char;\n            result[dstOffset + 2] = length;\n            result[dstOffset + 3] = tokenType;\n            result[dstOffset + 4] = tokenModifiers;\n            prevLine = line;\n            prevChar = char;\n        }\n        return result;\n    }\n    static _sortAndDeltaEncode(data) {\n        const pos = [];\n        const tokenCount = (data.length / 5) | 0;\n        for (let i = 0; i < tokenCount; i++) {\n            pos[i] = i;\n        }\n        pos.sort((a, b) => {\n            const aLine = data[5 * a];\n            const bLine = data[5 * b];\n            if (aLine === bLine) {\n                const aChar = data[5 * a + 1];\n                const bChar = data[5 * b + 1];\n                return aChar - bChar;\n            }\n            return aLine - bLine;\n        });\n        const result = [];\n        let prevLine = 0;\n        let prevChar = 0;\n        for (let i = 0; i < tokenCount; i++) {\n            const srcOffset = 5 * pos[i];\n            const line = data[srcOffset + 0];\n            const char = data[srcOffset + 1];\n            const length = data[srcOffset + 2];\n            const tokenType = data[srcOffset + 3];\n            const tokenModifiers = data[srcOffset + 4];\n            const pushLine = line - prevLine;\n            const pushChar = (pushLine === 0 ? char - prevChar : char);\n            const dstOffset = 5 * i;\n            result[dstOffset + 0] = pushLine;\n            result[dstOffset + 1] = pushChar;\n            result[dstOffset + 2] = length;\n            result[dstOffset + 3] = tokenType;\n            result[dstOffset + 4] = tokenModifiers;\n            prevLine = line;\n            prevChar = char;\n        }\n        return result;\n    }\n    getFinalDataDelta() {\n        if (this._dataIsSortedAndDeltaEncoded) {\n            return this._data;\n        }\n        else {\n            return SemanticTokensBuilder._sortAndDeltaEncode(this._dataNonDelta);\n        }\n    }\n    previousResult(id) {\n        if (this.id === id) {\n            this._prevData = this.getFinalDataDelta();\n        }\n        this.initialize();\n    }\n    build() {\n        this._prevData = undefined;\n        return {\n            resultId: this.id,\n            data: this.getFinalDataDelta()\n        };\n    }\n    canBuildEdits() {\n        return this._prevData !== undefined;\n    }\n    buildEdits() {\n        if (this._prevData !== undefined) {\n            return {\n                resultId: this.id,\n                edits: (new SemanticTokensDiff(this._prevData, this.getFinalDataDelta())).computeDiff()\n            };\n        }\n        else {\n            return this.build();\n        }\n    }\n}\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.combineFeatures = exports.combineNotebooksFeatures = exports.combineLanguagesFeatures = exports.combineWorkspaceFeatures = exports.combineWindowFeatures = exports.combineClientFeatures = exports.combineTracerFeatures = exports.combineTelemetryFeatures = exports.combineConsoleFeatures = exports._NotebooksImpl = exports._LanguagesImpl = exports.BulkUnregistration = exports.BulkRegistration = exports.ErrorMessageTracker = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = __importStar(require(\"./utils/is\"));\nconst UUID = __importStar(require(\"./utils/uuid\"));\nconst progress_1 = require(\"./progress\");\nconst configuration_1 = require(\"./configuration\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst showDocument_1 = require(\"./showDocument\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst foldingRange_1 = require(\"./foldingRange\");\n// import { InlineCompletionFeatureShape, InlineCompletionFeature } from './inlineCompletion.proposed';\nconst inlayHint_1 = require(\"./inlayHint\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst moniker_1 = require(\"./moniker\");\nfunction null2Undefined(value) {\n    if (value === null) {\n        return undefined;\n    }\n    return value;\n}\n/**\n * Helps tracking error message. Equal occurrences of the same\n * message are only stored once. This class is for example\n * useful if text documents are validated in a loop and equal\n * error message should be folded into one.\n */\nclass ErrorMessageTracker {\n    _messages;\n    constructor() {\n        this._messages = Object.create(null);\n    }\n    /**\n     * Add a message to the tracker.\n     *\n     * @param message The message to add.\n     */\n    add(message) {\n        let count = this._messages[message];\n        if (!count) {\n            count = 0;\n        }\n        count++;\n        this._messages[message] = count;\n    }\n    /**\n     * Send all tracked messages to the connection's window.\n     *\n     * @param connection The connection established between client and server.\n     */\n    sendErrors(connection) {\n        Object.keys(this._messages).forEach(message => {\n            connection.window.showErrorMessage(message);\n        });\n    }\n}\nexports.ErrorMessageTracker = ErrorMessageTracker;\nclass RemoteConsoleImpl {\n    _rawConnection;\n    _connection;\n    constructor() {\n    }\n    rawAttach(connection) {\n        this._rawConnection = connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    initialize(_capabilities) {\n    }\n    error(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\n    }\n    warn(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\n    }\n    info(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\n    }\n    log(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\n    }\n    debug(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Debug, message);\n    }\n    send(type, message) {\n        if (this._rawConnection) {\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message }).catch(() => {\n                (0, vscode_languageserver_protocol_1.RAL)().console.error(`Sending log message failed`);\n            });\n        }\n    }\n}\nclass _RemoteWindowImpl {\n    _connection;\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    showErrorMessage(message, ...actions) {\n        const params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showWarningMessage(message, ...actions) {\n        const params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showInformationMessage(message, ...actions) {\n        const params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n}\nconst RemoteWindowImpl = (0, showDocument_1.ShowDocumentFeature)((0, progress_1.ProgressFeature)(_RemoteWindowImpl));\nvar BulkRegistration;\n(function (BulkRegistration) {\n    /**\n     * Creates a new bulk registration.\n     * @return an empty bulk registration.\n     */\n    function create() {\n        return new BulkRegistrationImpl();\n    }\n    BulkRegistration.create = create;\n})(BulkRegistration || (exports.BulkRegistration = BulkRegistration = {}));\nclass BulkRegistrationImpl {\n    _registrations = [];\n    _registered = new Set();\n    add(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        if (this._registered.has(method)) {\n            throw new Error(`${method} is already added to this registration`);\n        }\n        const id = UUID.generateUuid();\n        this._registrations.push({\n            id: id,\n            method: method,\n            registerOptions: registerOptions || {}\n        });\n        this._registered.add(method);\n    }\n    asRegistrationParams() {\n        return {\n            registrations: this._registrations\n        };\n    }\n}\nvar BulkUnregistration;\n(function (BulkUnregistration) {\n    function create() {\n        return new BulkUnregistrationImpl(undefined, []);\n    }\n    BulkUnregistration.create = create;\n})(BulkUnregistration || (exports.BulkUnregistration = BulkUnregistration = {}));\nclass BulkUnregistrationImpl {\n    _connection;\n    _unregistrations = new Map();\n    constructor(_connection, unregistrations) {\n        this._connection = _connection;\n        unregistrations.forEach(unregistration => {\n            this._unregistrations.set(unregistration.method, unregistration);\n        });\n    }\n    get isAttached() {\n        return !!this._connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    add(unregistration) {\n        this._unregistrations.set(unregistration.method, unregistration);\n    }\n    dispose() {\n        const unregistrations = [];\n        for (const unregistration of this._unregistrations.values()) {\n            unregistrations.push(unregistration);\n        }\n        const params = {\n            unregisterations: unregistrations\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this._connection.console.info(`Bulk unregistration failed.`);\n        });\n    }\n    disposeSingle(arg) {\n        const method = Is.string(arg) ? arg : arg.method;\n        const unregistration = this._unregistrations.get(method);\n        if (!unregistration) {\n            return false;\n        }\n        const params = {\n            unregisterations: [unregistration]\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\n            this._unregistrations.delete(method);\n        }, (_error) => {\n            this._connection.console.info(`Un-registering request handler for ${unregistration.id} failed.`);\n        });\n        return true;\n    }\n}\nclass RemoteClientImpl {\n    _connection;\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\n            return this.registerMany(typeOrRegistrations);\n        }\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\n        }\n        else {\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\n        }\n    }\n    registerSingle1(unregistration, type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        const params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        if (!unregistration.isAttached) {\n            unregistration.attach(this.connection);\n        }\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            unregistration.add({ id: id, method: method });\n            return unregistration;\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    registerSingle2(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        const params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\n                this.unregisterSingle(id, method).catch(() => { this.connection.console.info(`Un-registering capability with id ${id} failed.`); });\n            });\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    unregisterSingle(id, method) {\n        const params = {\n            unregisterations: [{ id, method }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this.connection.console.info(`Un-registering request handler for ${id} failed.`);\n        });\n    }\n    registerMany(registrations) {\n        const params = registrations.asRegistrationParams();\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\n        }, (_error) => {\n            this.connection.console.info(`Bulk registration failed.`);\n            return Promise.reject(_error);\n        });\n    }\n}\nclass _RemoteWorkspaceImpl {\n    _connection;\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    applyEdit(paramOrEdit) {\n        function isApplyWorkspaceEditParams(value) {\n            return value && !!value.edit;\n        }\n        const params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\n    }\n}\nconst RemoteWorkspaceImpl = (0, fileOperations_1.FileOperationsFeature)((0, workspaceFolder_1.WorkspaceFoldersFeature)((0, configuration_1.ConfigurationFeature)(_RemoteWorkspaceImpl)));\nclass TracerImpl {\n    _trace;\n    _connection;\n    constructor() {\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    set trace(value) {\n        this._trace = value;\n    }\n    log(message, verbose) {\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\n            return;\n        }\n        this.connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\n            message: message,\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\n        }).catch(() => {\n            // Very hard to decide what to do. We tried to send a log\n            // message which failed so we can't simply send another :-(.\n        });\n    }\n}\nclass TelemetryImpl {\n    _connection;\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    logEvent(data) {\n        this.connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data).catch(() => {\n            this.connection.console.log(`Sending TelemetryEventNotification failed`);\n        });\n    }\n}\nclass _LanguagesImpl {\n    _connection;\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._LanguagesImpl = _LanguagesImpl;\nconst LanguagesImpl = (0, foldingRange_1.FoldingRangeFeature)((0, moniker_1.MonikerFeature)((0, diagnostic_1.DiagnosticFeature)((0, inlayHint_1.InlayHintFeature)((0, inlineValue_1.InlineValueFeature)((0, typeHierarchy_1.TypeHierarchyFeature)((0, linkedEditingRange_1.LinkedEditingRangeFeature)((0, semanticTokens_1.SemanticTokensFeature)((0, callHierarchy_1.CallHierarchyFeature)(_LanguagesImpl)))))))));\nclass _NotebooksImpl {\n    _connection;\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._NotebooksImpl = _NotebooksImpl;\nconst NotebooksImpl = (0, notebook_1.NotebookSyncFeature)(_NotebooksImpl);\nfunction combineConsoleFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineConsoleFeatures = combineConsoleFeatures;\nfunction combineTelemetryFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\nfunction combineTracerFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTracerFeatures = combineTracerFeatures;\nfunction combineClientFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineClientFeatures = combineClientFeatures;\nfunction combineWindowFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWindowFeatures = combineWindowFeatures;\nfunction combineWorkspaceFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\nfunction combineLanguagesFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\nfunction combineNotebooksFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineNotebooksFeatures = combineNotebooksFeatures;\nfunction combineFeatures(one, two) {\n    function combine(one, two, func) {\n        if (one && two) {\n            return func(one, two);\n        }\n        else if (one) {\n            return one;\n        }\n        else {\n            return two;\n        }\n    }\n    const result = {\n        __brand: 'features',\n        console: combine(one.console, two.console, combineConsoleFeatures),\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\n        client: combine(one.client, two.client, combineClientFeatures),\n        window: combine(one.window, two.window, combineWindowFeatures),\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures),\n        languages: combine(one.languages, two.languages, combineLanguagesFeatures),\n        notebooks: combine(one.notebooks, two.notebooks, combineNotebooksFeatures)\n    };\n    return result;\n}\nexports.combineFeatures = combineFeatures;\nfunction createConnection(connectionFactory, watchDog, factories) {\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\n    const connection = connectionFactory(logger);\n    logger.rawAttach(connection);\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\n    const notebooks = (factories && factories.notebooks ? new (factories.notebooks(NotebooksImpl))() : new NotebooksImpl());\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages, notebooks];\n    function asPromise(value) {\n        if (value instanceof Promise) {\n            return value;\n        }\n        else if (Is.thenable(value)) {\n            return new Promise((resolve, reject) => {\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\n            });\n        }\n        else {\n            return Promise.resolve(value);\n        }\n    }\n    let shutdownHandler = undefined;\n    let initializeHandler = undefined;\n    let exitHandler = undefined;\n    const protocolConnection = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        sendNotification: (type, param) => {\n            const method = Is.string(type) ? type : type.method;\n            return connection.sendNotification(method, param);\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        onInitialize: (handler) => {\n            initializeHandler = handler;\n            return {\n                dispose: () => {\n                    initializeHandler = undefined;\n                }\n            };\n        },\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\n        onShutdown: (handler) => {\n            shutdownHandler = handler;\n            return {\n                dispose: () => {\n                    shutdownHandler = undefined;\n                }\n            };\n        },\n        onExit: (handler) => {\n            exitHandler = handler;\n            return {\n                dispose: () => {\n                    exitHandler = undefined;\n                }\n            };\n        },\n        get console() { return logger; },\n        get telemetry() { return telemetry; },\n        get tracer() { return tracer; },\n        get client() { return client; },\n        get window() { return remoteWindow; },\n        get workspace() { return workspace; },\n        get languages() { return languages; },\n        get notebooks() { return notebooks; },\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\n        __textDocumentSync: undefined,\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbolResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, handler),\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeActionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        dispose: () => connection.dispose()\n    };\n    for (const remote of allRemotes) {\n        remote.attach(protocolConnection);\n    }\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\n        watchDog.initialize(params);\n        if (Is.string(params.trace)) {\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\n        }\n        for (const remote of allRemotes) {\n            remote.initialize(params.capabilities);\n        }\n        if (initializeHandler) {\n            const result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, (0, progress_1.attachWorkDone)(connection, params), undefined);\n            return asPromise(result).then((value) => {\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\n                    return value;\n                }\n                let result = value;\n                if (!result) {\n                    result = { capabilities: {} };\n                }\n                let capabilities = result.capabilities;\n                if (!capabilities) {\n                    capabilities = {};\n                    result.capabilities = capabilities;\n                }\n                if (capabilities.textDocumentSync === undefined || capabilities.textDocumentSync === null) {\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                for (const remote of allRemotes) {\n                    remote.fillServerCapabilities(capabilities);\n                }\n                return result;\n            });\n        }\n        else {\n            const result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\n            for (const remote of allRemotes) {\n                remote.fillServerCapabilities(result.capabilities);\n            }\n            return result;\n        }\n    });\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\n        watchDog.shutdownReceived = true;\n        if (shutdownHandler) {\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\n        }\n        else {\n            return undefined;\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\n        try {\n            if (exitHandler) {\n                return exitHandler();\n            }\n        }\n        finally {\n            if (watchDog.shutdownReceived) {\n                watchDog.exit(0);\n            }\n            else {\n                watchDog.exit(1);\n            }\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\n    });\n    return protocolConnection;\n}\nexports.createConnection = createConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst ShowDocumentFeature = (Base) => {\n    return class extends Base {\n        showDocument(params) {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, params);\n        }\n    };\n};\nexports.ShowDocumentFeature = ShowDocumentFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextDocumentContentFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst TextDocumentContentFeature = (Base) => {\n    return class extends Base {\n        get textDocumentContent() {\n            return {\n                refresh: (uri) => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.TextDocumentContentRefreshRequest.type, { uri });\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.TextDocumentContentRequest.type, (params, cancel) => {\n                        return handler(params, cancel);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.TextDocumentContentFeature = TextDocumentContentFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextDocuments = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\n/**\n * A manager for simple text documents. The manager requires at a minimum that\n * the server registered for the following text document sync events in the\n * initialize handler or via dynamic registration:\n *\n * - open and close events.\n * - change events.\n *\n * Registering for save and will save events is optional.\n */\nclass TextDocuments {\n    _configuration;\n    _syncedDocuments;\n    _onDidChangeContent;\n    _onDidOpen;\n    _onDidClose;\n    _onDidSave;\n    _onWillSave;\n    _willSaveWaitUntil;\n    /**\n     * Create a new text document manager.\n     */\n    constructor(configuration) {\n        this._configuration = configuration;\n        this._syncedDocuments = new Map();\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened.\n     */\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened or the content changes.\n     */\n    get onDidChangeContent() {\n        return this._onDidChangeContent.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * will be saved.\n     */\n    get onWillSave() {\n        return this._onWillSave.event;\n    }\n    /**\n     * Sets a handler that will be called if a participant wants to provide\n     * edits during a text document save.\n     */\n    onWillSaveWaitUntil(handler) {\n        this._willSaveWaitUntil = handler;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been saved.\n     */\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been closed.\n     */\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Returns the document for the given URI. Returns undefined if\n     * the document is not managed by this instance.\n     *\n     * @param uri The text document's URI to retrieve.\n     * @return the text document or `undefined`.\n     */\n    get(uri) {\n        return this._syncedDocuments.get(uri);\n    }\n    /**\n     * Returns all text documents managed by this instance.\n     *\n     * @return all text documents.\n     */\n    all() {\n        return Array.from(this._syncedDocuments.values());\n    }\n    /**\n     * Returns the URIs of all text documents managed by this instance.\n     *\n     * @return the URI's of all text documents.\n     */\n    keys() {\n        return Array.from(this._syncedDocuments.keys());\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the text documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenTextDocument`, `onDidChangeTextDocument`, `onDidCloseTextDocument`,\n     * `onWillSaveTextDocument`, `onWillSaveTextDocumentWaitUntil` and `onDidSaveTextDocument`.\n     *\n     * Use the corresponding events on the TextDocuments instance instead.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental;\n        const disposables = [];\n        disposables.push(connection.onDidOpenTextDocument((event) => {\n            const td = event.textDocument;\n            const document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\n            this._syncedDocuments.set(td.uri, document);\n            const toFire = Object.freeze({ document });\n            this._onDidOpen.fire(toFire);\n            this._onDidChangeContent.fire(toFire);\n        }));\n        disposables.push(connection.onDidChangeTextDocument((event) => {\n            const td = event.textDocument;\n            const changes = event.contentChanges;\n            if (changes.length === 0) {\n                return;\n            }\n            const { version } = td;\n            if (version === null || version === undefined) {\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\n            }\n            let syncedDocument = this._syncedDocuments.get(td.uri);\n            if (syncedDocument !== undefined) {\n                syncedDocument = this._configuration.update(syncedDocument, changes, version);\n                this._syncedDocuments.set(td.uri, syncedDocument);\n                this._onDidChangeContent.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onDidCloseTextDocument((event) => {\n            const syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._syncedDocuments.delete(event.textDocument.uri);\n                this._onDidClose.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocument((event) => {\n            const syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onWillSave.fire(Object.freeze({ document: syncedDocument, reason: event.reason }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocumentWaitUntil((event, token) => {\n            const syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined && this._willSaveWaitUntil) {\n                return this._willSaveWaitUntil(Object.freeze({ document: syncedDocument, reason: event.reason }), token);\n            }\n            else {\n                return [];\n            }\n        }));\n        disposables.push(connection.onDidSaveTextDocument((event) => {\n            const syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onDidSave.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n}\nexports.TextDocuments = TextDocuments;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst TypeHierarchyFeature = (Base) => {\n    return class extends Base {\n        get typeHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onSupertypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onSubtypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    _value;\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    static _chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n    static _timeHighBits = ['8', '9', 'a', 'b'];\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n}\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst WorkspaceFoldersFeature = (Base) => {\n    return class extends Base {\n        _onDidChangeWorkspaceFolders;\n        _unregistration;\n        _notificationIsAutoRegistered;\n        constructor() {\n            super();\n            this._notificationIsAutoRegistered = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            const workspaceCapabilities = capabilities.workspace;\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\n                });\n            }\n        }\n        fillServerCapabilities(capabilities) {\n            super.fillServerCapabilities(capabilities);\n            const changeNotifications = capabilities.workspace?.workspaceFolders?.changeNotifications;\n            this._notificationIsAutoRegistered = changeNotifications === true || typeof changeNotifications === 'string';\n        }\n        getWorkspaceFolders() {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\n        }\n        get onDidChangeWorkspaceFolders() {\n            if (!this._onDidChangeWorkspaceFolders) {\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\n            }\n            if (!this._notificationIsAutoRegistered && !this._unregistration) {\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\n            }\n            return this._onDidChangeWorkspaceFolders.event;\n        }\n    };\n};\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveModulePath = exports.FileSystem = exports.resolveGlobalYarnPath = exports.resolveGlobalNodePath = exports.resolve = exports.uriToFilePath = void 0;\nconst url = __importStar(require(\"url\"));\nconst path = __importStar(require(\"path\"));\nconst fs = __importStar(require(\"fs\"));\nconst child_process_1 = require(\"child_process\");\n/**\n * @deprecated Use the `vscode-uri` npm module which provides a more\n * complete implementation of handling VS Code URIs.\n */\nfunction uriToFilePath(uri) {\n    const parsed = url.parse(uri);\n    if (parsed.protocol !== 'file:' || !parsed.path) {\n        return undefined;\n    }\n    const segments = parsed.path.split('/');\n    for (let i = 0, len = segments.length; i < len; i++) {\n        segments[i] = decodeURIComponent(segments[i]);\n    }\n    if (process.platform === 'win32' && segments.length > 1) {\n        const first = segments[0];\n        const second = segments[1];\n        // Do we have a drive letter and we started with a / which is the\n        // case if the first segement is empty (see split above)\n        if (first.length === 0 && second.length > 1 && second[1] === ':') {\n            // Remove first slash\n            segments.shift();\n        }\n    }\n    return path.normalize(segments.join('/'));\n}\nexports.uriToFilePath = uriToFilePath;\nfunction isWindows() {\n    return process.platform === 'win32';\n}\nfunction resolve(moduleName, nodePath, cwd, tracer) {\n    const nodePathKey = 'NODE_PATH';\n    const app = [\n        'var p = process;',\n        'p.on(\\'message\\',function(m){',\n        'if(m.c===\\'e\\'){',\n        'p.exit(0);',\n        '}',\n        'else if(m.c===\\'rs\\'){',\n        'try{',\n        'var r=require.resolve(m.a);',\n        'p.send({c:\\'r\\',s:true,r:r});',\n        '}',\n        'catch(err){',\n        'p.send({c:\\'r\\',s:false});',\n        '}',\n        '}',\n        '});'\n    ].join('');\n    return new Promise((resolve, reject) => {\n        const env = process.env;\n        const newEnv = Object.create(null);\n        Object.keys(env).forEach(key => newEnv[key] = env[key]);\n        if (nodePath && fs.existsSync(nodePath) /* see issue 545 */) {\n            if (newEnv[nodePathKey]) {\n                newEnv[nodePathKey] = nodePath + path.delimiter + newEnv[nodePathKey];\n            }\n            else {\n                newEnv[nodePathKey] = nodePath;\n            }\n            if (tracer) {\n                tracer(`NODE_PATH value is: ${newEnv[nodePathKey]}`);\n            }\n        }\n        newEnv['ELECTRON_RUN_AS_NODE'] = '1';\n        try {\n            const cp = (0, child_process_1.fork)('', [], {\n                cwd: cwd,\n                env: newEnv,\n                execArgv: ['-e', app]\n            });\n            if (cp.pid === void 0) {\n                reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));\n                return;\n            }\n            cp.on('error', (error) => {\n                reject(error);\n            });\n            cp.on('message', (message) => {\n                if (message.c === 'r') {\n                    cp.send({ c: 'e' });\n                    if (message.s) {\n                        resolve(message.r);\n                    }\n                    else {\n                        reject(new Error(`Failed to resolve module: ${moduleName}`));\n                    }\n                }\n            });\n            const message = {\n                c: 'rs',\n                a: moduleName\n            };\n            cp.send(message);\n        }\n        catch (error) {\n            reject(error);\n        }\n    });\n}\nexports.resolve = resolve;\n/**\n * Resolve the global npm package path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalNodePath(tracer) {\n    let npmCommand = 'npm';\n    const env = Object.create(null);\n    Object.keys(process.env).forEach(key => env[key] = process.env[key]);\n    env['NO_UPDATE_NOTIFIER'] = 'true';\n    const options = {\n        encoding: 'utf8',\n        env\n    };\n    if (isWindows()) {\n        npmCommand = 'npm.cmd';\n        options.shell = true;\n    }\n    const handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        const stdout = (0, child_process_1.spawnSync)(npmCommand, ['config', 'get', 'prefix'], options).stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'npm config get prefix' didn't return a value.`);\n            }\n            return undefined;\n        }\n        const prefix = stdout.trim();\n        if (tracer) {\n            tracer(`'npm config get prefix' value is: ${prefix}`);\n        }\n        if (prefix.length > 0) {\n            if (isWindows()) {\n                return path.join(prefix, 'node_modules');\n            }\n            else {\n                return path.join(prefix, 'lib', 'node_modules');\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalNodePath = resolveGlobalNodePath;\n/*\n * Resolve the global yarn pakage path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalYarnPath(tracer) {\n    let yarnCommand = 'yarn';\n    const options = {\n        encoding: 'utf8'\n    };\n    if (isWindows()) {\n        yarnCommand = 'yarn.cmd';\n        options.shell = true;\n    }\n    const handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        const results = (0, child_process_1.spawnSync)(yarnCommand, ['global', 'dir', '--json'], options);\n        const stdout = results.stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'yarn global dir' didn't return a value.`);\n                if (results.stderr) {\n                    tracer(results.stderr);\n                }\n            }\n            return undefined;\n        }\n        const lines = stdout.trim().split(/\\r?\\n/);\n        for (const line of lines) {\n            try {\n                const yarn = JSON.parse(line);\n                if (yarn.type === 'log') {\n                    return path.join(yarn.data, 'node_modules');\n                }\n            }\n            catch (e) {\n                // Do nothing. Ignore the line\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalYarnPath = resolveGlobalYarnPath;\nvar FileSystem;\n(function (FileSystem) {\n    let _isCaseSensitive = undefined;\n    function isCaseSensitive() {\n        if (_isCaseSensitive !== void 0) {\n            return _isCaseSensitive;\n        }\n        if (process.platform === 'win32') {\n            _isCaseSensitive = false;\n        }\n        else {\n            // convert current file name to upper case / lower case and check if file exists\n            // (guards against cases when name is already all uppercase or lowercase)\n            _isCaseSensitive = !fs.existsSync(__filename.toUpperCase()) || !fs.existsSync(__filename.toLowerCase());\n        }\n        return _isCaseSensitive;\n    }\n    FileSystem.isCaseSensitive = isCaseSensitive;\n    function isParent(parent, child) {\n        if (isCaseSensitive()) {\n            return path.normalize(child).indexOf(path.normalize(parent)) === 0;\n        }\n        else {\n            return path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase()) === 0;\n        }\n    }\n    FileSystem.isParent = isParent;\n})(FileSystem || (exports.FileSystem = FileSystem = {}));\nfunction resolveModulePath(workspaceRoot, moduleName, nodePath, tracer) {\n    if (nodePath) {\n        if (!path.isAbsolute(nodePath)) {\n            nodePath = path.join(workspaceRoot, nodePath);\n        }\n        return resolve(moduleName, nodePath, nodePath, tracer).then((value) => {\n            if (FileSystem.isParent(nodePath, value)) {\n                return value;\n            }\n            else {\n                return Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`));\n            }\n        }).then(undefined, (_error) => {\n            return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n        });\n    }\n    else {\n        return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n    }\n}\nexports.resolveModulePath = resolveModulePath;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" preserve=\"true\"/>\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.Files = void 0;\nconst node_util_1 = require(\"node:util\");\nconst Is = __importStar(require(\"../common/utils/is\"));\nconst server_1 = require(\"../common/server\");\nconst fm = __importStar(require(\"./files\"));\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nvar Files;\n(function (Files) {\n    Files.uriToFilePath = fm.uriToFilePath;\n    Files.resolveGlobalNodePath = fm.resolveGlobalNodePath;\n    Files.resolveGlobalYarnPath = fm.resolveGlobalYarnPath;\n    Files.resolve = fm.resolve;\n    Files.resolveModulePath = fm.resolveModulePath;\n})(Files || (exports.Files = Files = {}));\nlet _protocolConnection;\nfunction endProtocolConnection() {\n    if (_protocolConnection === undefined) {\n        return;\n    }\n    try {\n        _protocolConnection.end();\n    }\n    catch (_err) {\n        // Ignore. The client process could have already\n        // did and we can't send an end into the connection.\n    }\n}\nlet _shutdownReceived = false;\nlet exitTimer = undefined;\nfunction setupExitTimer() {\n    const argName = '--clientProcessId';\n    function runTimer(value) {\n        try {\n            const processId = parseInt(value);\n            if (!isNaN(processId)) {\n                exitTimer = setInterval(() => {\n                    try {\n                        process.kill(processId, 0);\n                    }\n                    catch (ex) {\n                        // Parent process doesn't exist anymore. Exit the server.\n                        endProtocolConnection();\n                        process.exit(_shutdownReceived ? 0 : 1);\n                    }\n                }, 3000);\n            }\n        }\n        catch (e) {\n            // Ignore errors;\n        }\n    }\n    for (let i = 2; i < process.argv.length; i++) {\n        const arg = process.argv[i];\n        if (arg === argName && i + 1 < process.argv.length) {\n            runTimer(process.argv[i + 1]);\n            return;\n        }\n        else {\n            const args = arg.split('=');\n            if (args[0] === argName) {\n                runTimer(args[1]);\n            }\n        }\n    }\n}\nsetupExitTimer();\nconst watchDog = {\n    initialize: (params) => {\n        const processId = params.processId;\n        if (Is.number(processId) && exitTimer === undefined) {\n            // We received a parent process id. Set up a timer to periodically check\n            // if the parent is still alive.\n            setInterval(() => {\n                try {\n                    process.kill(processId, 0);\n                }\n                catch (ex) {\n                    // Parent process doesn't exist anymore. Exit the server.\n                    process.exit(_shutdownReceived ? 0 : 1);\n                }\n            }, 3000);\n        }\n    },\n    get shutdownReceived() {\n        return _shutdownReceived;\n    },\n    set shutdownReceived(value) {\n        _shutdownReceived = value;\n    },\n    exit: (code) => {\n        endProtocolConnection();\n        process.exit(code);\n    }\n};\nfunction createConnection(arg1, arg2, arg3, arg4) {\n    let factories;\n    let input;\n    let output;\n    let options;\n    if (arg1 !== undefined && arg1.__brand === 'features') {\n        factories = arg1;\n        arg1 = arg2;\n        arg2 = arg3;\n        arg3 = arg4;\n    }\n    if (node_1.ConnectionStrategy.is(arg1) || node_1.ConnectionOptions.is(arg1)) {\n        options = arg1;\n    }\n    else {\n        input = arg1;\n        output = arg2;\n        options = arg3;\n    }\n    return _createConnection(input, output, options, factories);\n}\nexports.createConnection = createConnection;\nfunction _createConnection(input, output, options, factories) {\n    let stdio = false;\n    if (!input && !output && process.argv.length > 2) {\n        let port = undefined;\n        let pipeName = undefined;\n        const argv = process.argv.slice(2);\n        for (let i = 0; i < argv.length; i++) {\n            const arg = argv[i];\n            if (arg === '--node-ipc') {\n                input = new node_1.IPCMessageReader(process);\n                output = new node_1.IPCMessageWriter(process);\n                break;\n            }\n            else if (arg === '--stdio') {\n                stdio = true;\n                input = process.stdin;\n                output = process.stdout;\n                break;\n            }\n            else if (arg === '--socket') {\n                port = parseInt(argv[i + 1]);\n                break;\n            }\n            else if (arg === '--pipe') {\n                pipeName = argv[i + 1];\n                break;\n            }\n            else {\n                const args = arg.split('=');\n                if (args[0] === '--socket') {\n                    port = parseInt(args[1]);\n                    break;\n                }\n                else if (args[0] === '--pipe') {\n                    pipeName = args[1];\n                    break;\n                }\n            }\n        }\n        if (port) {\n            const transport = (0, node_1.createServerSocketTransport)(port);\n            input = transport[0];\n            output = transport[1];\n        }\n        else if (pipeName) {\n            const transport = (0, node_1.createServerPipeTransport)(pipeName);\n            input = transport[0];\n            output = transport[1];\n        }\n    }\n    const commandLineMessage = 'Use arguments of createConnection or set command line parameters: \\'--node-ipc\\', \\'--stdio\\' or \\'--socket={number}\\'';\n    if (!input) {\n        throw new Error('Connection input stream is not set. ' + commandLineMessage);\n    }\n    if (!output) {\n        throw new Error('Connection output stream is not set. ' + commandLineMessage);\n    }\n    // Backwards compatibility\n    if (Is.func(input.read) && Is.func(input.on)) {\n        const inputStream = input;\n        inputStream.on('end', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n        inputStream.on('close', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n    }\n    const connectionFactory = (logger) => {\n        const result = (0, node_1.createProtocolConnection)(input, output, logger, options);\n        if (stdio) {\n            patchConsole(logger);\n        }\n        return result;\n    };\n    return (0, server_1.createConnection)(connectionFactory, watchDog, factories);\n}\nfunction patchConsole(logger) {\n    function serialize(args) {\n        return args.map(arg => typeof arg === 'string' ? arg : (0, node_util_1.inspect)(arg)).join(' ');\n    }\n    const counters = new Map();\n    console.assert = function assert(assertion, ...args) {\n        if (assertion) {\n            return;\n        }\n        if (args.length === 0) {\n            logger.error('Assertion failed');\n        }\n        else {\n            const [message, ...rest] = args;\n            logger.error(`Assertion failed: ${message} ${serialize(rest)}`);\n        }\n    };\n    console.count = function count(label = 'default') {\n        const message = String(label);\n        let counter = counters.get(message) ?? 0;\n        counter += 1;\n        counters.set(message, counter);\n        logger.log(`${message}: ${message}`);\n    };\n    console.countReset = function countReset(label) {\n        if (label === undefined) {\n            counters.clear();\n        }\n        else {\n            counters.delete(String(label));\n        }\n    };\n    console.debug = function debug(...args) {\n        logger.log(serialize(args));\n    };\n    console.dir = function dir(arg, options) {\n        logger.log((0, node_util_1.inspect)(arg, options));\n    };\n    console.log = function log(...args) {\n        logger.log(serialize(args));\n    };\n    console.error = function error(...args) {\n        logger.error(serialize(args));\n    };\n    console.trace = function trace(...args) {\n        const stack = new Error().stack.replace(/(.+\\n){2}/, '');\n        let message = 'Trace';\n        if (args.length !== 0) {\n            message += `: ${serialize(args)}`;\n        }\n        logger.log(`${message}\\n${stack}`);\n    };\n    console.warn = function warn(...args) {\n        logger.warn(serialize(args));\n    };\n}\n","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"fs\");","module.exports = require(\"net\");","module.exports = require(\"node:util\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"url\");","module.exports = require(\"util\");","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            const start = this.offsetAt(range.start);\n            const end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(changes, version) {\n        for (let change of changes) {\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                const range = getWellformedRange(change.range);\n                // update content\n                const startOffset = this.offsetAt(range.start);\n                const endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                const startLine = Math.max(range.start.line, 0);\n                const endLine = Math.max(range.end.line, 0);\n                let lineOffsets = this._lineOffsets;\n                const addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (let i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice(startLine + 1, endLine - startLine, ...addedLineOffsets);\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                const diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (let i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        let lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            let mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        let line = low - 1;\n        return { line, character: offset - lineOffsets[line] };\n    }\n    offsetAt(position) {\n        let lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        let lineOffset = lineOffsets[position.line];\n        let nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n    static isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    static isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n}\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifying its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @param version the changes version for the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        let text = document.getText();\n        let sortedEdits = mergeSort(edits.map(getWellformedEdit), (a, b) => {\n            let diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = 0;\n        const spans = [];\n        for (const e of sortedEdits) {\n            let startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    const p = (data.length / 2) | 0;\n    const left = data.slice(0, p);\n    const right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    let leftIdx = 0;\n    let rightIdx = 0;\n    let i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        let ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset = 0) {\n    const result = isAtLineStart ? [textOffset] : [];\n    for (let i = 0; i < text.length; i++) {\n        let ch = text.charCodeAt(i);\n        if (ch === 13 /* CharCode.CarriageReturn */ || ch === 10 /* CharCode.LineFeed */) {\n            if (ch === 13 /* CharCode.CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* CharCode.LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction getWellformedRange(range) {\n    const start = range.start;\n    const end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    const range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range };\n    }\n    return textEdit;\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * {@link Position} literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line, character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Position} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * {@link Range} literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(`Range#create called with invalid arguments[${one}, ${two}, ${three}, ${four}]`);\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Range} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * {@link Location} literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri, range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Location} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * {@link LocationLink} literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri, targetRange, targetSelectionRange, originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link LocationLink} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link Color} literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red,\n            green,\n            blue,\n            alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Color} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * {@link ColorInformation} literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range,\n            color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link ColorPresentation} literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label,\n            textEdit,\n            additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * {@link FoldingRange} literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        const result = {\n            startLine,\n            endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FoldingRange} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * {@link DiagnosticRelatedInformation} literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location,\n            message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DiagnosticRelatedInformation} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * {@link Diagnostic} literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        const result = { range, message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Diagnostic} interface.\n     */\n    function is(value) {\n        var _a;\n        const candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * {@link Command} literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command, ...args) {\n        const result = { title, command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Command} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && (candidate.tooltip === undefined || Is.string(candidate.tooltip)) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range, newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        const result = { label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range, newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        const candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument, edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        const result = {\n            kind: 'create',\n            uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        const result = {\n            kind: 'rename',\n            oldUri,\n            newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        const result = {\n            kind: 'delete',\n            uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        const candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every((change) => {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nclass TextEditChangeImpl {\n    constructor(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    insert(position, newText, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    replace(range, newText, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    delete(range, annotation) {\n        let edit;\n        let id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    add(edit) {\n        this.edits.push(edit);\n    }\n    all() {\n        return this.edits;\n    }\n    clear() {\n        this.edits.splice(0, this.edits.length);\n    }\n    assertChangeAnnotations(value) {\n        if (value === undefined) {\n            throw new Error(`Text edit change is not configured to manage change annotations.`);\n        }\n    }\n}\nexport var SnippetTextEdit;\n(function (SnippetTextEdit) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && Range.is(candidate.range)\n            && StringValue.isSnippet(candidate.snippet)\n            && (candidate.annotationId === undefined ||\n                (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId)));\n    }\n    SnippetTextEdit.is = is;\n})(SnippetTextEdit || (SnippetTextEdit = {}));\n/**\n * A helper class\n */\nclass ChangeAnnotations {\n    constructor(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    all() {\n        return this._annotations;\n    }\n    get size() {\n        return this._size;\n    }\n    manage(idOrAnnotation, annotation) {\n        let id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(`Id ${id} is already in use.`);\n        }\n        if (annotation === undefined) {\n            throw new Error(`No annotation provided for id ${id}`);\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    }\n    nextId() {\n        this._counter++;\n        return this._counter.toString();\n    }\n}\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nexport class WorkspaceChange {\n    constructor(workspaceEdit) {\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach((change) => {\n                    if (TextDocumentEdit.is(change)) {\n                        const textEditChange = new TextEditChangeImpl(change.edits, this._changeAnnotations);\n                        this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach((key) => {\n                    const textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    /**\n     * Returns the underlying {@link WorkspaceEdit} literal\n     * use to be returned from a workspace edit operation like rename.\n     */\n    get edit() {\n        this.initDocumentChanges();\n        if (this._changeAnnotations !== undefined) {\n            if (this._changeAnnotations.size === 0) {\n                this._workspaceEdit.changeAnnotations = undefined;\n            }\n            else {\n                this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n            }\n        }\n        return this._workspaceEdit;\n    }\n    getTextEditChange(key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            const textDocument = { uri: key.uri, version: key.version };\n            let result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                const edits = [];\n                const textDocumentEdit = {\n                    textDocument,\n                    edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            let result = this._textEditChanges[key];\n            if (!result) {\n                const edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    }\n    initDocumentChanges() {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    }\n    initChanges() {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    }\n    createFile(uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    renameFile(oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n    deleteFile(uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        let annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        let operation;\n        let id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    }\n}\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * {@link TextDocumentIdentifier} literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link VersionedTextDocumentIdentifier} literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri, version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link VersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link OptionalVersionedTextDocumentIdentifier} literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri, version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link OptionalVersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * Predefined Language kinds\n * @since 3.18.0\n * @proposed\n */\nexport var LanguageKind;\n(function (LanguageKind) {\n    LanguageKind.ABAP = 'abap';\n    LanguageKind.WindowsBat = 'bat';\n    LanguageKind.BibTeX = 'bibtex';\n    LanguageKind.Clojure = 'clojure';\n    LanguageKind.Coffeescript = 'coffeescript';\n    LanguageKind.C = 'c';\n    LanguageKind.CPP = 'cpp';\n    LanguageKind.CSharp = 'csharp';\n    LanguageKind.CSS = 'css';\n    /**\n     * @since 3.18.0\n     * @proposed\n     */\n    LanguageKind.D = 'd';\n    /**\n     * @since 3.18.0\n     * @proposed\n     */\n    LanguageKind.Delphi = 'pascal';\n    LanguageKind.Diff = 'diff';\n    LanguageKind.Dart = 'dart';\n    LanguageKind.Dockerfile = 'dockerfile';\n    LanguageKind.Elixir = 'elixir';\n    LanguageKind.Erlang = 'erlang';\n    LanguageKind.FSharp = 'fsharp';\n    LanguageKind.GitCommit = 'git-commit';\n    LanguageKind.GitRebase = 'rebase';\n    LanguageKind.Go = 'go';\n    LanguageKind.Groovy = 'groovy';\n    LanguageKind.Handlebars = 'handlebars';\n    LanguageKind.Haskell = 'haskell';\n    LanguageKind.HTML = 'html';\n    LanguageKind.Ini = 'ini';\n    LanguageKind.Java = 'java';\n    LanguageKind.JavaScript = 'javascript';\n    LanguageKind.JavaScriptReact = 'javascriptreact';\n    LanguageKind.JSON = 'json';\n    LanguageKind.LaTeX = 'latex';\n    LanguageKind.Less = 'less';\n    LanguageKind.Lua = 'lua';\n    LanguageKind.Makefile = 'makefile';\n    LanguageKind.Markdown = 'markdown';\n    LanguageKind.ObjectiveC = 'objective-c';\n    LanguageKind.ObjectiveCPP = 'objective-cpp';\n    /**\n     * @since 3.18.0\n     * @proposed\n     */\n    LanguageKind.Pascal = 'pascal';\n    LanguageKind.Perl = 'perl';\n    LanguageKind.Perl6 = 'perl6';\n    LanguageKind.PHP = 'php';\n    LanguageKind.Powershell = 'powershell';\n    LanguageKind.Pug = 'jade';\n    LanguageKind.Python = 'python';\n    LanguageKind.R = 'r';\n    LanguageKind.Razor = 'razor';\n    LanguageKind.Ruby = 'ruby';\n    LanguageKind.Rust = 'rust';\n    LanguageKind.SCSS = 'scss';\n    LanguageKind.SASS = 'sass';\n    LanguageKind.Scala = 'scala';\n    LanguageKind.ShaderLab = 'shaderlab';\n    LanguageKind.ShellScript = 'shellscript';\n    LanguageKind.SQL = 'sql';\n    LanguageKind.Swift = 'swift';\n    LanguageKind.TypeScript = 'typescript';\n    LanguageKind.TypeScriptReact = 'typescriptreact';\n    LanguageKind.TeX = 'tex';\n    LanguageKind.VisualBasic = 'vb';\n    LanguageKind.XML = 'xml';\n    LanguageKind.XSL = 'xsl';\n    LanguageKind.YAML = 'yaml';\n})(LanguageKind || (LanguageKind = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * {@link TextDocumentItem} literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri, languageId, version, text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentItem} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the {@link MarkupKind} type.\n     */\n    function is(value) {\n        const candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the {@link MarkupContent} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText, insert, replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InsertReplaceEdit} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the {@link MarkedString} type.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the {@link Hover} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * {@link ParameterInformation} literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label, documentation } : { label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * {@link SignatureInformation} literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation, ...parameters) {\n        const result = { label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * {@link DocumentHighlight} literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        const result = { range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        const result = {\n            name,\n            kind,\n            location: { uri, range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name, kind, location: { uri, range } }\n            : { name, kind, location: { uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        const result = {\n            name,\n            detail,\n            kind,\n            range,\n            selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentSymbol} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring move actions: `refactor.move`\n     *\n     * Example move actions:\n     *\n     * - Move a function to a new file\n     * - Move a property between classes\n     * - Move method to base class\n     * - ...\n     *\n     * @since 3.18.0\n     * @proposed\n     */\n    CodeActionKind.RefactorMove = 'refactor.move';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n    /**\n     * Base kind for all code actions applying to the entire notebook's scope. CodeActionKinds using\n     * this should always begin with `notebook.`\n     *\n     * @since 3.18.0\n     */\n    CodeActionKind.Notebook = 'notebook';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * {@link CodeActionContext} literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        const result = { diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeActionContext} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        const result = { title };\n        let checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * {@link CodeLens} literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        const result = { range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeLens} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * {@link FormattingOptions} literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize, insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FormattingOptions} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * {@link DocumentLink} literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range, target, data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentLink} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range, parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n    /**\n     * @since 3.18.0\n     */\n    SemanticTokenTypes[\"label\"] = \"label\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range, text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range, variableName, caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range, expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * {@link InlineValueContext} literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId, stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InlineValueContext} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        const result = { position, label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var StringValue;\n(function (StringValue) {\n    function createSnippet(value) {\n        return { kind: 'snippet', value };\n    }\n    StringValue.createSnippet = createSnippet;\n    function isSnippet(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && candidate.kind === 'snippet'\n            && Is.string(candidate.value);\n    }\n    StringValue.isSnippet = isSnippet;\n})(StringValue || (StringValue = {}));\nexport var InlineCompletionItem;\n(function (InlineCompletionItem) {\n    function create(insertText, filterText, range, command) {\n        return { insertText, filterText, range, command };\n    }\n    InlineCompletionItem.create = create;\n})(InlineCompletionItem || (InlineCompletionItem = {}));\nexport var InlineCompletionList;\n(function (InlineCompletionList) {\n    function create(items) {\n        return { items };\n    }\n    InlineCompletionList.create = create;\n})(InlineCompletionList || (InlineCompletionList = {}));\n/**\n * Describes how an {@link InlineCompletionItemProvider inline completion provider} was triggered.\n *\n * @since 3.18.0\n * @proposed\n */\nexport var InlineCompletionTriggerKind;\n(function (InlineCompletionTriggerKind) {\n    /**\n     * Completion was triggered explicitly by a user gesture.\n     */\n    InlineCompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered automatically while editing.\n     */\n    InlineCompletionTriggerKind.Automatic = 2;\n})(InlineCompletionTriggerKind || (InlineCompletionTriggerKind = {}));\nexport var SelectedCompletionInfo;\n(function (SelectedCompletionInfo) {\n    function create(range, text) {\n        return { range, text };\n    }\n    SelectedCompletionInfo.create = create;\n})(SelectedCompletionInfo || (SelectedCompletionInfo = {}));\nexport var InlineCompletionContext;\n(function (InlineCompletionContext) {\n    function create(triggerKind, selectedCompletionInfo) {\n        return { triggerKind, selectedCompletionInfo };\n    }\n    InlineCompletionContext.create = create;\n})(InlineCompletionContext || (InlineCompletionContext = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport const EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ITextDocument} interface.\n     */\n    function is(value) {\n        const candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        let text = document.getText();\n        const sortedEdits = mergeSort(edits, (a, b) => {\n            const diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = text.length;\n        for (let i = sortedEdits.length - 1; i >= 0; i--) {\n            const e = sortedEdits[i];\n            const startOffset = document.offsetAt(e.range.start);\n            const endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        const p = (data.length / 2) | 0;\n        const left = data.slice(0, p);\n        const right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        let leftIdx = 0;\n        let rightIdx = 0;\n        let i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            const ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            const start = this.offsetAt(range.start);\n            const end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            const lineOffsets = [];\n            const text = this._content;\n            let isLineStart = true;\n            for (let i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                const ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        const lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            const mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        const line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    }\n    offsetAt(position) {\n        const lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        const lineOffset = lineOffsets[position.line];\n        const nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n}\nvar Is;\n(function (Is) {\n    const toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","var LIB;(()=>{\"use strict\";var t={470:t=>{function e(t){if(\"string\"!=typeof t)throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function r(t,e){for(var r,n=\"\",i=0,o=-1,s=0,h=0;h<=t.length;++h){if(h<t.length)r=t.charCodeAt(h);else{if(47===r)break;r=47}if(47===r){if(o===h-1||1===s);else if(o!==h-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var a=n.lastIndexOf(\"/\");if(a!==n.length-1){-1===a?(n=\"\",i=0):i=(n=n.slice(0,a)).length-1-n.lastIndexOf(\"/\"),o=h,s=0;continue}}else if(2===n.length||1===n.length){n=\"\",i=0,o=h,s=0;continue}e&&(n.length>0?n+=\"/..\":n=\"..\",i=2)}else n.length>0?n+=\"/\"+t.slice(o+1,h):n=t.slice(o+1,h),i=h-o-1;o=h,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var n={resolve:function(){for(var t,n=\"\",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=process.cwd()),s=t),e(s),0!==s.length&&(n=s+\"/\"+n,i=47===s.charCodeAt(0))}return n=r(n,!i),i?n.length>0?\"/\"+n:\"/\":n.length>0?n:\".\"},normalize:function(t){if(e(t),0===t.length)return\".\";var n=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t=\".\"),t.length>0&&i&&(t+=\"/\"),n?\"/\"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return\".\";for(var t,r=0;r<arguments.length;++r){var i=arguments[r];e(i),i.length>0&&(void 0===t?t=i:t+=\"/\"+i)}return void 0===t?\".\":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return\"\";if((t=n.resolve(t))===(r=n.resolve(r)))return\"\";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var o=t.length,s=o-i,h=1;h<r.length&&47===r.charCodeAt(h);++h);for(var a=r.length-h,c=s<a?s:a,f=-1,u=0;u<=c;++u){if(u===c){if(a>c){if(47===r.charCodeAt(h+u))return r.slice(h+u+1);if(0===u)return r.slice(h+u)}else s>c&&(47===t.charCodeAt(i+u)?f=u:0===u&&(f=0));break}var l=t.charCodeAt(i+u);if(l!==r.charCodeAt(h+u))break;47===l&&(f=u)}var g=\"\";for(u=i+f+1;u<=o;++u)u!==o&&47!==t.charCodeAt(u)||(0===g.length?g+=\"..\":g+=\"/..\");return g.length>0?g+r.slice(h+f):(h+=f,47===r.charCodeAt(h)&&++h,r.slice(h))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return\".\";for(var r=t.charCodeAt(0),n=47===r,i=-1,o=!0,s=t.length-1;s>=1;--s)if(47===(r=t.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?n?\"/\":\".\":n&&1===i?\"//\":t.slice(0,i)},basename:function(t,r){if(void 0!==r&&\"string\"!=typeof r)throw new TypeError('\"ext\" argument must be a string');e(t);var n,i=0,o=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return\"\";var h=r.length-1,a=-1;for(n=t.length-1;n>=0;--n){var c=t.charCodeAt(n);if(47===c){if(!s){i=n+1;break}}else-1===a&&(s=!1,a=n+1),h>=0&&(c===r.charCodeAt(h)?-1==--h&&(o=n):(h=-1,o=a))}return i===o?o=a:-1===o&&(o=t.length),t.slice(i,o)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!s){i=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?\"\":t.slice(i,o)},extname:function(t){e(t);for(var r=-1,n=0,i=-1,o=!0,s=0,h=t.length-1;h>=0;--h){var a=t.charCodeAt(h);if(47!==a)-1===i&&(o=!1,i=h+1),46===a?-1===r?r=h:1!==s&&(s=1):-1!==r&&(s=-1);else if(!o){n=h+1;break}}return-1===r||-1===i||0===s||1===s&&r===i-1&&r===n+1?\"\":t.slice(r,i)},format:function(t){if(null===t||\"object\"!=typeof t)throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||\"\")+(e.ext||\"\");return r?r===e.root?r+n:r+\"/\"+n:n}(0,t)},parse:function(t){e(t);var r={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(0===t.length)return r;var n,i=t.charCodeAt(0),o=47===i;o?(r.root=\"/\",n=1):n=0;for(var s=-1,h=0,a=-1,c=!0,f=t.length-1,u=0;f>=n;--f)if(47!==(i=t.charCodeAt(f)))-1===a&&(c=!1,a=f+1),46===i?-1===s?s=f:1!==u&&(u=1):-1!==s&&(u=-1);else if(!c){h=f+1;break}return-1===s||-1===a||0===u||1===u&&s===a-1&&s===h+1?-1!==a&&(r.base=r.name=0===h&&o?t.slice(1,a):t.slice(h,a)):(0===h&&o?(r.name=t.slice(1,s),r.base=t.slice(1,a)):(r.name=t.slice(h,s),r.base=t.slice(h,a)),r.ext=t.slice(s,a)),h>0?r.dir=t.slice(0,h-1):o&&(r.dir=\"/\"),r},sep:\"/\",delimiter:\":\",win32:null,posix:null};n.posix=n,t.exports=n}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var n={};(()=>{let t;if(r.r(n),r.d(n,{URI:()=>f,Utils:()=>P}),\"object\"==typeof process)t=\"win32\"===process.platform;else if(\"object\"==typeof navigator){let e=navigator.userAgent;t=e.indexOf(\"Windows\")>=0}const e=/^\\w[\\w\\d+.-]*$/,i=/^\\//,o=/^\\/\\//;function s(t,r){if(!t.scheme&&r)throw new Error(`[UriError]: Scheme is missing: {scheme: \"\", authority: \"${t.authority}\", path: \"${t.path}\", query: \"${t.query}\", fragment: \"${t.fragment}\"}`);if(t.scheme&&!e.test(t.scheme))throw new Error(\"[UriError]: Scheme contains illegal characters.\");if(t.path)if(t.authority){if(!i.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character')}else if(o.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")')}const h=\"\",a=\"/\",c=/^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;class f{static isUri(t){return t instanceof f||!!t&&\"string\"==typeof t.authority&&\"string\"==typeof t.fragment&&\"string\"==typeof t.path&&\"string\"==typeof t.query&&\"string\"==typeof t.scheme&&\"string\"==typeof t.fsPath&&\"function\"==typeof t.with&&\"function\"==typeof t.toString}scheme;authority;path;query;fragment;constructor(t,e,r,n,i,o=!1){\"object\"==typeof t?(this.scheme=t.scheme||h,this.authority=t.authority||h,this.path=t.path||h,this.query=t.query||h,this.fragment=t.fragment||h):(this.scheme=function(t,e){return t||e?t:\"file\"}(t,o),this.authority=e||h,this.path=function(t,e){switch(t){case\"https\":case\"http\":case\"file\":e?e[0]!==a&&(e=a+e):e=a}return e}(this.scheme,r||h),this.query=n||h,this.fragment=i||h,s(this,o))}get fsPath(){return m(this,!1)}with(t){if(!t)return this;let{scheme:e,authority:r,path:n,query:i,fragment:o}=t;return void 0===e?e=this.scheme:null===e&&(e=h),void 0===r?r=this.authority:null===r&&(r=h),void 0===n?n=this.path:null===n&&(n=h),void 0===i?i=this.query:null===i&&(i=h),void 0===o?o=this.fragment:null===o&&(o=h),e===this.scheme&&r===this.authority&&n===this.path&&i===this.query&&o===this.fragment?this:new l(e,r,n,i,o)}static parse(t,e=!1){const r=c.exec(t);return r?new l(r[2]||h,C(r[4]||h),C(r[5]||h),C(r[7]||h),C(r[9]||h),e):new l(h,h,h,h,h)}static file(e){let r=h;if(t&&(e=e.replace(/\\\\/g,a)),e[0]===a&&e[1]===a){const t=e.indexOf(a,2);-1===t?(r=e.substring(2),e=a):(r=e.substring(2,t),e=e.substring(t)||a)}return new l(\"file\",r,e,h,h)}static from(t){const e=new l(t.scheme,t.authority,t.path,t.query,t.fragment);return s(e,!0),e}toString(t=!1){return y(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof f)return t;{const e=new l(t);return e._formatted=t.external,e._fsPath=t._sep===u?t.fsPath:null,e}}return t}}const u=t?1:void 0;class l extends f{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=m(this,!1)),this._fsPath}toString(t=!1){return t?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)}toJSON(){const t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=u),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}}const g={58:\"%3A\",47:\"%2F\",63:\"%3F\",35:\"%23\",91:\"%5B\",93:\"%5D\",64:\"%40\",33:\"%21\",36:\"%24\",38:\"%26\",39:\"%27\",40:\"%28\",41:\"%29\",42:\"%2A\",43:\"%2B\",44:\"%2C\",59:\"%3B\",61:\"%3D\",32:\"%20\"};function d(t,e,r){let n,i=-1;for(let o=0;o<t.length;o++){const s=t.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||45===s||46===s||95===s||126===s||e&&47===s||r&&91===s||r&&93===s||r&&58===s)-1!==i&&(n+=encodeURIComponent(t.substring(i,o)),i=-1),void 0!==n&&(n+=t.charAt(o));else{void 0===n&&(n=t.substr(0,o));const e=g[s];void 0!==e?(-1!==i&&(n+=encodeURIComponent(t.substring(i,o)),i=-1),n+=e):-1===i&&(i=o)}}return-1!==i&&(n+=encodeURIComponent(t.substring(i))),void 0!==n?n:t}function p(t){let e;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);35===n||63===n?(void 0===e&&(e=t.substr(0,r)),e+=g[n]):void 0!==e&&(e+=t[r])}return void 0!==e?e:t}function m(e,r){let n;return n=e.authority&&e.path.length>1&&\"file\"===e.scheme?`//${e.authority}${e.path}`:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?r?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,t&&(n=n.replace(/\\//g,\"\\\\\")),n}function y(t,e){const r=e?p:d;let n=\"\",{scheme:i,authority:o,path:s,query:h,fragment:c}=t;if(i&&(n+=i,n+=\":\"),(o||\"file\"===i)&&(n+=a,n+=a),o){let t=o.indexOf(\"@\");if(-1!==t){const e=o.substr(0,t);o=o.substr(t+1),t=e.lastIndexOf(\":\"),-1===t?n+=r(e,!1,!1):(n+=r(e.substr(0,t),!1,!1),n+=\":\",n+=r(e.substr(t+1),!1,!0)),n+=\"@\"}o=o.toLowerCase(),t=o.lastIndexOf(\":\"),-1===t?n+=r(o,!1,!0):(n+=r(o.substr(0,t),!1,!0),n+=o.substr(t))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){const t=s.charCodeAt(1);t>=65&&t<=90&&(s=`/${String.fromCharCode(t+32)}:${s.substr(3)}`)}else if(s.length>=2&&58===s.charCodeAt(1)){const t=s.charCodeAt(0);t>=65&&t<=90&&(s=`${String.fromCharCode(t+32)}:${s.substr(2)}`)}n+=r(s,!0,!1)}return h&&(n+=\"?\",n+=r(h,!1,!1)),c&&(n+=\"#\",n+=e?c:d(c,!1,!1)),n}function v(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substr(0,3)+v(t.substr(3)):t}}const b=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function C(t){return t.match(b)?t.replace(b,(t=>v(t))):t}var A=r(470);const w=A.posix||A,x=\"/\";var P;!function(t){t.joinPath=function(t,...e){return t.with({path:w.join(t.path,...e)})},t.resolvePath=function(t,...e){let r=t.path,n=!1;r[0]!==x&&(r=x+r,n=!0);let i=w.resolve(r,...e);return n&&i[0]===x&&!t.authority&&(i=i.substring(1)),t.with({path:i})},t.dirname=function(t){if(0===t.path.length||t.path===x)return t;let e=w.dirname(t.path);return 1===e.length&&46===e.charCodeAt(0)&&(e=\"\"),t.with({path:e})},t.basename=function(t){return w.basename(t.path)},t.extname=function(t){return w.extname(t.path)}}(P||(P={}))})(),LIB=n})();export const{URI,Utils}=LIB;\n//# sourceMappingURL=index.mjs.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(639);\n"],"names":["original","modified","pretty","LcsDiff","StringDiffSequence","ComputeDiff","changes","source","constructor","getElements","this","characters","Int32Array","length","i","len","charCodeAt","DiffChange","originalStart","originalLength","modifiedStart","modifiedLength","getOriginalEnd","getModifiedEnd","Debug","Assert","condition","message","Error","MyArray","Copy","sourceArray","sourceIndex","destinationArray","destinationIndex","Copy2","DiffChangeHelper","m_changes","m_originalStart","m_modifiedStart","m_originalCount","m_modifiedCount","MarkNextChange","push","AddOriginalElement","originalIndex","modifiedIndex","Math","min","AddModifiedElement","getChanges","getReverseChanges","reverse","ContinueProcessingPredicate","_hasStrings","_originalStringElements","_originalElementsOrHash","_modifiedStringElements","_modifiedElementsOrHash","m_forwardHistory","m_reverseHistory","originalSequence","modifiedSequence","continueProcessingPredicate","originalStringElements","originalElementsOrHash","originalHasStrings","_getElements","modifiedStringElements","modifiedElementsOrHash","modifiedHasStrings","sequence","elements","ElementsAreEqual","newIndex","OriginalElementsAreEqual","index1","index2","ModifiedElementsAreEqual","_ComputeDiff","originalEnd","modifiedEnd","quitEarlyArr","ComputeDiffRecursive","PrettifyChanges","quitEarly","midOriginalArr","midModifiedArr","result","ComputeRecursionPoint","midOriginal","midModified","leftChanges","rightChanges","ConcatenateChanges","WALKTRACE","diagonalForwardBase","diagonalForwardStart","diagonalForwardEnd","diagonalForwardOffset","diagonalReverseBase","diagonalReverseStart","diagonalReverseEnd","diagonalReverseOffset","forwardPoints","reversePoints","deltaIsEven","forwardChanges","reverseChanges","changeHelper","diagonalMin","diagonalMax","diagonalRelative","lastOriginalIndex","historyIndex","diagonal","originalStartPoint","modifiedStartPoint","lastForwardChange","max","maxDifferences","numDiagonals","numDifferences","furthestOriginalIndex","furthestModifiedIndex","ClipDiagonalBound","tempOriginalIndex","abs","matchLengthOfLongest","temp","change","originalStop","modifiedStop","checkOriginal","checkModified","mergedChangeArr","ChangesOverlap","splice","prevChange","bestDelta","bestScore","_boundaryScore","delta","score","_OriginalIsBoundary","index","test","_OriginalRegionIsBoundary","_ModifiedIsBoundary","_ModifiedRegionIsBoundary","left","right","Array","diagonalBaseIndex","diffEven","TextDocumentSettings","ESLintError","RuleMetaData","Problem","FixableProblem","SuggestionsProblem","ESLintClass","ESLintModule","RuleData","CLIEngine","SaveRuleConfigs","RuleSeverities","Diagnostics","CodeActions","ESLint","hasLibrary","settings","undefined","library","isNoConfigFound","error","candidate","messageTemplate","unusedDisableDirectiveId","unusedDisableDirectiveMeta","docs","url","type","handled","Set","ruleId2Meta","Map","capture","eslint","reports","rulesMetaData","isCLIEngine","toHandle","filter","report","has","filePath","getRulesMetaForResults","forEach","add","Object","entries","key","meta","Is","string","set","clear","getUrl","ruleId","get","getType","hasRuleId","isUnusedDisableDirectiveProblem","problem","startsWith","isFixable","edit","hasSuggestions","suggestions","createTextEdit","document","editInfo","TextEdit","replace","Range","create","positionAt","range","text","suggestion","fix","getConfigType","configType","hasLoadESLint","value","loadESLint","hasESLintClass","hasCLIEngine","isFlatConfig","hasMetaType","hasRule","getRules","ESLintClassEmulator","cli","lintText","content","options","executeOnText","warnIgnored","results","isPathIgnored","path","_results","rules","name","rule","calculateConfigForFile","getConfigForFile","Fixes","edits","overlaps","a","b","sameRange","isEmpty","size","getDocumentVersion","values","next","documentVersion","getScoped","diagnostics","diagnostic","computeKey","getAllSorted","sort","d0","al","bl","getApplicable","sorted","last","current","saveRuleConfigCache","LRUCache","isOff","matchers","matcher","RegExp","slice","async","uri","inferFilePath","codeActionOnSave","withClass","config","offRules","onRules","keys","remove","delete","ruleSeverityCache","asteriskMatches","getOverride","customizations","customization","fixable","severity","adjustSeverityForOverride","severityOverride","RuleSeverity","off","info","warn","downgrade","convertSeverityToDiagnostic","DiagnosticSeverity","Warning","Information","upgrade","hash","crypto","createHash","update","digest","start","line","character","end","code","startLine","Number","isNaN","startChar","column","endLine","endChar","endColumn","problems","shortenToSingleLine","getText","uinteger","MAX_VALUE","override","rulesCustomizations","codeDescription","href","tags","DiagnosticTag","Unnecessary","codeActions","record","label","version","connection","documents","loadNodeModule","languageId2ParserRegExp","typescript","babelESLint","vueESLint","languageId2ParserOptions","regExps","parsers","parserRegExps","languageId2PluginName","defaultLanguageIds","projectFolderIndicators","fileName","isRoot","path2Library","document2Settings","formatterRegistrations","newClass","newOptions","useFlatConfig","useESLintClass","func","assign","cwd","process","workingDirectory","newCWD","normalizeDriveLetter","sep","substring","normalizeWorkingDirectory","directory","fs","existsSync","chdir","eslintClass","getFilePath","URI","parse","scheme","workspaceFolder","ext","getExtension","languageId","workspacePath","join","initialize","$connection","$documents","$inferFilePath","$loadNodeModule","removeSettings","clearSettings","unregisterAsFormatter","unregister","then","disposable","dispose","clearFormatters","unregistration","resolveSettings","resultPromise","workspace","getConfiguration","scopeUri","section","configuration","silent","resolvedGlobalPackageManagerPath","validate","Validate","GlobalPaths","packageManager","workspaceFolderPath","assumeFlatConfig","hasUserDefinedWorkingDirectories","workingDirectoryConfig","mode","ModeEnum","location","ModeItem","is","configLocation","findWorkingDirectory","isUNC","dirname","auto","nodePath","moduleResolveWorkingDirectory","promise","isAbsolute","eslintPath","experimental","Files","resolve","trace","probe","libraryPath","lib","console","FlatESLint","esLintVersion","semverParse","semverGte","pluginName","parserOptions","isIgnored","onIgnoredFiles","ESLintSeverity","on","sendNotification","StatusNotification","state","Status","stack","eslintConfig","err","parser","normalizePath","regExp","eslintConfigParserOptionsParser","some","parserRegExp","isArray","plugins","params","textDocument","sendRequest","ProbeFailedRequest","format","Uri","isFile","pattern","fsPath","documentSelector","client","register","DocumentFormattingRequest","NoESLintLibraryRequest","validFixTypes","verbose","tracer","log","ErrorHandlers","file","indexOf","flatConfig","outer","parent","fixTypes","item","reportResults","docReport","messages","quiet","globalPaths","yarn","cache","resolveGlobalYarnPath","npm","resolveGlobalNodePath","pnpm","execSync","toString","trim","pm","getMessage","String","substr","single","noConfigReported","NoConfigRequest","handleFileName","filename","configErrorReported","window","showInformationMessage","matches","exec","plugin","module","missingModuleReported","handleMissingModule","clearNoConfigReported","getConfigErrorReported","removeConfigErrorReported","clearMissingModuleReported","createConnection","ProposedFeatures","all","connectionStrategy","cancelUndispatched","isRequest","method","jsonrpc","id","maxParallelism","clientCapabilities","TextDocuments","TextDocument","notebooks","NotebookDocuments","nodeExit","exit","documentOrUri","getUri","getFileSystemPath","notebookDocument","findNotebookDocumentForCell","extension","extname","environmentChanged","languages","refresh","catch","CommandIds","ExitCalled","setTimeout","JSON","stringify","e","moduleName","r","onDidClose","event","applySingleFix","applySuggestion","applySameFixes","applyAllFixes","applyDisableLine","applyDisableFile","openRuleDoc","onInitialize","_cancel","progress","begin","syncKind","TextDocumentSyncKind","Incremental","capabilities","done","textDocumentSync","openClose","willSaveWaitUntil","save","includeText","workspaceFolders","supported","executeCommandProvider","commands","diagnosticProvider","identifier","interFileDependencies","workspaceDiagnostics","codeAction","codeActionLiteralSupport","codeActionKind","valueSet","codeActionProvider","codeActionKinds","CodeActionKind","QuickFix","SourceFixAll","onInitialized","didChangeConfiguration","dynamicRegistration","onDidChangeConfiguration","_params","DidChangeConfigurationNotification","onDidChangeWorkspaceFolders","emptyDiagnosticResult","kind","DocumentDiagnosticReportKind","Full","items","Date","now","timeTaken","ok","validationTime","status","handler","onDidChangeWatchedFiles","Promise","map","data","CodeActionResult","_actions","_fixAll","fixes","fixAll","actions","disable","disableFile","showDocumentation","CommandParams","isUsable","ESLintSourceFixAll","AllFixesMode","computeAllFixes","originalContent","onSave","CodeActionsOnSaveMode","saveConfig","overrideConfig","output","fixedContent","diffs","stringDiff","diff","newText","onCodeAction","createCodeAction","title","commandId","arg","command","Command","action","CodeAction","getDisableRuleEditInsertionIndex","commentTags","charIndex","escapeStringRegexp","createDisableLineTextEdit","indentationText","lineComment","getLineComment","blockComment","getBlockComment","prevLine","Position","insertionIndex","insert","disableRuleContent","disableRuleComment","commentStyle","EOL","createDisableSameLineTextEdit","currentLine","matchedLineDisable","matchedBlockDisable","createDisableFileTextEdit","block","getLastEdit","array","run","only","context","isSource","Source","isSourceFixAll","textDocumentIdentifier","documentChanges","TextDocumentEdit","allFixableRuleIds","workspaceChange","WorkspaceChange","getTextEditChange","isPreferred","suggestionSequence","desc","enable","lineText","sameProblems","s","same","sameFixes","sameTextChange","onExecuteCommand","commandParams","arguments","textChange","OpenESLintDocRequest","applyEdit","response","applied","onDocumentFormatting","listen","prototype","call","languageId2Config","LanguageDefaults","Touch","None","First","AsOld","Last","AsNew","LinkedMap","Symbol","toStringTag","_map","_head","_tail","_size","_state","first","touch","previous","addItemLast","addItemFirst","removeItem","shift","callbackfn","thisArg","bind","iterator","trimOld","newSize","currentSize","toJSON","fromJSON","_limit","_ratio","limit","ratio","super","checkTrim","peek","round","platform","toUpperCase","pos","realpath","realpathSync","native","toLowerCase","ShowOutputChannel","NotificationType","RequestType","NotificationType0","CodeActionsOnSaveRules","DirectoryItem","boolean","from","debug","MAX_LENGTH","MAX_SAFE_INTEGER","safeRe","re","t","parseOptions","compareIdentifiers","SemVer","loose","includePrerelease","TypeError","m","match","LOOSE","FULL","raw","major","minor","patch","prerelease","split","num","build","compare","other","compareMain","comparePre","compareBuild","inc","release","identifierBase","base","exports","throwErrors","er","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","RELEASE_TYPES","SEMVER_SPEC_VERSION","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","env","NODE_DEBUG","args","numeric","anum","bnum","rcompareIdentifiers","looseOption","freeze","emptyOpts","src","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","isGlobal","safe","token","makeSafeRegex","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","COERCE","COERCEFULL","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","__importDefault","mod","__esModule","defineProperty","ProgressType","ProgressToken","createMessageConnection","NullLogger","ConnectionOptions","ConnectionStrategy","AbstractMessageBuffer","WriteableStreamMessageWriter","AbstractMessageWriter","MessageWriter","ReadableStreamMessageReader","AbstractMessageReader","MessageReader","SharedArrayReceiverStrategy","SharedArraySenderStrategy","CancellationToken","CancellationTokenSource","Emitter","Event","Disposable","ParameterStructures","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","ErrorCodes","ResponseError","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","RequestType0","Message","RAL","MessageStrategy","CancellationStrategy","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","TraceFormat","TraceValues","TraceValue","Trace","messages_1","enumerable","linkedMap_1","disposable_1","events_1","cancellation_1","sharedArrayCancellation_1","messageReader_1","messageWriter_1","messageBuffer_1","connection_1","ral_1","default","__createBinding","o","k","k2","getOwnPropertyDescriptor","writable","configurable","__setModuleDefault","v","__importStar","hasOwnProperty","isCancellationRequested","onCancellationRequested","Cancelled","shortcutEvent","callback","handle","timer","MutableToken","_isCancelled","_emitter","cancel","fire","_token","RequestCancellationReceiverStrategy","IdCancellationReceiverStrategy","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","__","_pr","Off","Messages","Compact","Verbose","fromString","Text","setPrototypeOf","createCancellationTokenSource","_","sendCancellation","conn","cleanup","receiver","sender","handleMessage","cancellationStrategy","messageStrategy","number","messageReader","messageWriter","_logger","logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","starRequestHandler","inFlight","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","messageQueue","responsePromises","knownCanceledRequests","requestTokens","traceFormat","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","createRequestQueueKey","triggerMessageQueue","setImmediate","requestMessage","reply","resultOrError","startTime","toJson","traceSendingResponse","write","replyError","stringifyTrace","logLSPMessage","traceReceivedRequest","element","requestHandler","tokenKey","cancellationSource","handlerResult","numberOfParams","InvalidParams","parameterStructures","byName","byPosition","InternalError","MethodNotFound","handleRequest","isNotification","notificationHandler","cancelId","traceReceivedNotification","handleNotification","isResponse","handleResponse","responseMessage","responseHandler","reject","handleInvalidMessage","onClose","onError","toCancel","strategy","cancellationToken","queue","addMessageToQueue","responsePromise","timerStart","traceReceivedResponse","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","computeMessageParams","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onNotification","onProgress","_type","sendProgress","onUnhandledProgress","p","throwIfNotListening","tokenWasCancelled","traceSendingRequest","enableCancellation","MessageWriteError","onRequest","hasPendingResponse","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","PendingResponseRejected","AlreadyListening","throwIfListening","inspect","_disposable","CallbackList","_callbacks","_contexts","bucket","foundCallbackWithDifferentContext","invoke","ret","callbacks","contexts","apply","_options","static","_event","listener","thisArgs","disposables","onFirstListenerAdd","_noop","onLastListenerRemove","stringArray","every","elem","before","after","_encoding","_chunks","_totalLength","encoding","append","chunk","toAppend","byteLength","tryReadHeaders","lowerCaseKeys","chunkIndex","offset","chunkBytesRead","row","buffer","_read","headers","header","tryReadBody","numberOfBytes","byteCount","emptyBuffer","asNative","allocNative","resultOffset","chunkPart","semaphore_1","ResolvedMessageReaderOptions","onPartialMessage","partialMessageEmitter","fireError","asError","fireClose","firePartialMessage","fromOptions","charset","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","decoder","applicationJson","readable","nextMessageLength","messageToken","partialMessageTimer","_partialMessageTimeout","readSemaphore","messageBuffer","Semaphore","partialMessageTimeout","timeout","onData","contentLength","fromEntries","parseInt","body","setPartialMessageTimer","clearPartialMessageTimer","lock","bytes","decode","waitingTime","ResolvedMessageWriterOptions","count","contentTypeEncoder","encoder","contentEncoder","errorCount","writeSemaphore","msg","encode","doWrite","handleError","AbstractMessageSignature","ParseError","InvalidRequest","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageReadError","ConnectionInactive","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","_parameterStructures","_ral","install","ral","_capacity","_active","_waiting","capacity","thunk","runNext","active","doRunNext","CancellationState","Continue","buffers","request","SharedArrayBuffer","$cancellationData","_conn","Atomics","store","SharedArrayBufferCancellationToken","load","SharedArrayBufferCancellationTokenSource","__exportStar","createServerSocketTransport","createClientSocketTransport","createServerPipeTransport","createClientPipeTransport","generateRandomPipeName","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","PortMessageWriter","PortMessageReader","IPCMessageWriter","IPCMessageReader","ril_1","os","crypto_1","net_1","api_1","eventEmitter","send","port","postMessage","socket","stream","asReadableStream","asWritableStream","destroy","XDG_RUNTIME_DIR","safeIpcPathLengths","randomBytes","randomLength","tmpDir","tmpdir","randomSuffix","floor","pipeName","connectResolve","connected","_reject","server","createServer","close","removeListener","onConnected","input","reader","read","addListener","isReadableStream","writer","isWritableStream","util_1","MessageBuffer","Buffer","allocUnsafe","TextDecoder","ReadableStreamWrapper","onEnd","WritableStreamWrapper","_ril","ms","clearTimeout","clearImmediate","setInterval","clearInterval","RIL","LSPErrorCodes","createProtocolConnection","lspReservedErrorRangeStart","RequestFailed","ServerCancelled","ContentModified","RequestCancelled","lspReservedErrorRangeEnd","vscode_jsonrpc_1","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","MessageDirection","____","___","CallHierarchyOutgoingCallsRequest","CallHierarchyIncomingCallsRequest","CallHierarchyPrepareRequest","messageDirection","clientToServer","ColorPresentationRequest","DocumentColorRequest","ConfigurationRequest","serverToClient","DeclarationRequest","DiagnosticRefreshRequest","WorkspaceDiagnosticRequest","DocumentDiagnosticRequest","DiagnosticServerCancellationData","retriggerRequest","Unchanged","partialResult","WillDeleteFilesRequest","DidDeleteFilesNotification","DidRenameFilesNotification","WillRenameFilesRequest","DidCreateFilesNotification","WillCreateFilesRequest","FileOperationPatternKind","folder","FoldingRangeRefreshRequest","FoldingRangeRequest","ImplementationRequest","InlayHintRefreshRequest","InlayHintResolveRequest","InlayHintRequest","InlineCompletionRequest","InlineValueRefreshRequest","InlineValueRequest","CodeActionRequest","DocumentSymbolRequest","DocumentHighlightRequest","ReferencesRequest","DefinitionRequest","SignatureHelpRequest","SignatureHelpTriggerKind","HoverRequest","CompletionResolveRequest","CompletionRequest","CompletionTriggerKind","PublishDiagnosticsNotification","WatchKind","GlobPattern","RelativePattern","FileChangeType","DidChangeWatchedFilesNotification","WillSaveTextDocumentWaitUntilRequest","WillSaveTextDocumentNotification","TextDocumentSaveReason","DidSaveTextDocumentNotification","DidCloseTextDocumentNotification","DidChangeTextDocumentNotification","TextDocumentContentChangeEvent","DidOpenTextDocumentNotification","TelemetryEventNotification","LogMessageNotification","ShowMessageRequest","ShowMessageNotification","MessageType","ExitNotification","ShutdownRequest","InitializedNotification","InitializeErrorCodes","InitializeRequest","WorkDoneProgressOptions","TextDocumentRegistrationOptions","StaticRegistrationOptions","PositionEncodingKind","RegularExpressionEngineKind","FailureHandlingKind","ResourceOperationKind","UnregistrationRequest","RegistrationRequest","DocumentSelector","NotebookCellTextDocumentFilter","NotebookDocumentFilter","TextDocumentFilter","UniquenessLevel","LinkedEditingRangeRequest","ShowDocumentRequest","SemanticTokensRegistrationType","SemanticTokensRefreshRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","SemanticTokensRequest","TokenFormat","WorkDoneProgressCancelNotification","WorkDoneProgressCreateRequest","WorkDoneProgress","SelectionRangeRequest","DidChangeWorkspaceFoldersNotification","WorkspaceFoldersRequest","TypeDefinitionRequest","ApplyWorkspaceEditRequest","ExecuteCommandRequest","PrepareRenameRequest","RenameRequest","PrepareSupportDefaultBehavior","DocumentOnTypeFormattingRequest","DocumentRangesFormattingRequest","DocumentRangeFormattingRequest","DocumentLinkResolveRequest","DocumentLinkRequest","CodeLensRefreshRequest","CodeLensResolveRequest","CodeLensRequest","WorkspaceSymbolResolveRequest","WorkspaceSymbolRequest","CodeActionResolveRequest","TextDocumentContentRefreshRequest","TextDocumentContentRequest","DidCloseNotebookDocumentNotification","DidSaveNotebookDocumentNotification","DidChangeNotebookDocumentNotification","NotebookCellArrayChange","DidOpenNotebookDocumentNotification","NotebookDocumentSyncRegistrationType","NotebookDocument","NotebookCell","ExecutionSummary","NotebookCellKind","TypeHierarchySupertypesRequest","TypeHierarchySubtypesRequest","TypeHierarchyPrepareRequest","MonikerRequest","MonikerKind","vscode_languageserver_types_1","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","protocol_typeHierarchy_1","protocol_inlineValue_1","protocol_inlayHint_1","protocol_diagnostic_1","protocol_notebook_1","protocol_inlineCompletion_1","protocol_textDocumentContent_1","language","objectLiteral","notebookType","notebook","Create","Rename","Delete","Abort","Transactional","TextOnlyTransactional","Undo","ES2020","UTF8","UTF16","UTF32","hasId","workDoneProgress","hasWorkDoneProgress","unknownProtocolVersion","Info","Log","isIncremental","rangeLength","isFull","Manual","AfterDelay","FocusOut","Created","Changed","Deleted","baseUri","WorkspaceFolder","Change","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","ContentChange","Identifier","project","group","global","$import","$export","local","Markup","Code","executionOrder","success","equals","one","equalsMetadata","oneArray","otherArray","oneKeys","otherKeys","prop","DocumentUri","metadata","two","executionSummary","cells","integer","typedArray","registrationMethod","deleteCount","Relative","check","node_1","SemanticTokensBuilder","semanticTokens_1","ic","tdc","textDocuments_1","notebook_1","__brand","TextDocumentContentFeature","InlineCompletionFeature","CallHierarchyFeature","vscode_languageserver_protocol_1","Base","callHierarchy","onPrepare","attachWorkDoneProgress","onIncomingCalls","attachPartialResultProgress","onOutgoingCalls","ConfigurationFeature","_getConfiguration","DiagnosticFeature","onWorkspace","FileOperationsFeature","onDidCreateFiles","onDidRenameFiles","onDidDeleteFiles","onWillCreateFiles","onWillRenameFiles","onWillDeleteFiles","FoldingRangeFeature","foldingRange","InlayHintFeature","inlayHint","inlineCompletion","InlineValueFeature","inlineValue","LinkedEditingRangeFeature","onLinkedEditingRange","MonikerFeature","moniker","NotebookSyncFeature","synchronization","onDidOpenNotebookDocument","onDidChangeNotebookDocument","onDidSaveNotebookDocument","onDidCloseNotebookDocument","CellTextDocumentConnection","openHandler","changeHandler","onDidOpenTextDocument","openTextDocument","onDidChangeTextDocument","changeTextDocument","onDidCloseTextDocument","closeTextDocument","onWillSaveTextDocument","NULL_DISPOSE","onWillSaveTextDocumentWaitUntil","onDidSaveTextDocument","notebookDocuments","notebookCellMap","_onDidOpen","_onDidSave","_onDidChange","_onDidClose","_cellTextDocuments","configurationOrTextDocuments","cellTextDocuments","getCellTextDocument","cell","getNotebookDocument","getNotebookCell","onDidOpen","onDidSave","onDidChange","cellTextDocumentConnection","cellTextDocument","updateCellMap","oldMetadata","metadataChanged","opened","closed","changedCells","structure","didOpen","open","didClose","cellUpdates","old","new","textContent","contentChanges","changeEvent","added","removed","changed","attachPartialResult","ProgressFeature","attachWorkDone","uuid_1","WorkDoneProgressReporterImpl","_connection","Instances","percentage","cancellable","arg0","arg1","WorkDoneProgressServerReporterImpl","_source","NullProgressReporter","NullProgressServerReporter","ResultProgress","workDoneToken","_progressSupported","createWorkDoneProgress","generateUuid","ResultProgressReporterImpl","partialResultToken","SemanticTokensDiff","SemanticTokensFeature","semanticTokens","onDelta","onRange","computeDiff","startIndex","originalEndIndex","modifiedEndIndex","newData","_id","_prevLine","_prevChar","_dataIsSortedAndDeltaEncoded","_data","_dataNonDelta","_dataLen","_prevData","char","tokenType","tokenModifiers","_deltaDecode","pushLine","pushChar","dataSource","tokenCount","prevChar","dstOffset","_sortAndDeltaEncode","aLine","bLine","srcOffset","getFinalDataDelta","previousResult","resultId","canBuildEdits","buildEdits","combineFeatures","combineNotebooksFeatures","combineLanguagesFeatures","combineWorkspaceFeatures","combineWindowFeatures","combineClientFeatures","combineTracerFeatures","combineTelemetryFeatures","combineConsoleFeatures","_NotebooksImpl","_LanguagesImpl","BulkUnregistration","BulkRegistration","ErrorMessageTracker","UUID","progress_1","configuration_1","workspaceFolder_1","callHierarchy_1","showDocument_1","fileOperations_1","linkedEditingRange_1","typeHierarchy_1","inlineValue_1","foldingRange_1","inlayHint_1","diagnostic_1","moniker_1","null2Undefined","_messages","sendErrors","showErrorMessage","RemoteConsoleImpl","_rawConnection","rawAttach","attach","fillServerCapabilities","_capabilities","RemoteWindowImpl","ShowDocumentFeature","showWarningMessage","BulkRegistrationImpl","_registrations","_registered","registerOptions","asRegistrationParams","registrations","BulkUnregistrationImpl","_unregistrations","unregistrations","isAttached","unregisterations","disposeSingle","_error","RemoteClientImpl","typeOrRegistrations","registerOptionsOrType","registerMany","registerSingle1","registerSingle2","_result","unregisterSingle","registration","RemoteWorkspaceImpl","WorkspaceFoldersFeature","paramOrEdit","TracerImpl","_trace","TelemetryImpl","logEvent","LanguagesImpl","TypeHierarchyFeature","NotebooksImpl","combine","telemetry","connectionFactory","watchDog","factories","remoteWindow","allRemotes","shutdownHandler","initializeHandler","exitHandler","protocolConnection","onShutdown","onExit","__textDocumentSync","sendDiagnostics","onHover","onCompletion","onCompletionResolve","onSignatureHelp","onDeclaration","onDefinition","onTypeDefinition","onImplementation","onReferences","onDocumentHighlight","onDocumentSymbol","onWorkspaceSymbol","onWorkspaceSymbolResolve","onCodeActionResolve","onCodeLens","onCodeLensResolve","onDocumentRangeFormatting","onDocumentOnTypeFormatting","onRenameRequest","onPrepareRename","onDocumentLinks","onDocumentLinkResolve","onDocumentColor","onColorPresentation","onFoldingRanges","onSelectionRanges","remote","thenable","resolved","shutdownReceived","showDocument","textDocumentContent","_configuration","_syncedDocuments","_onDidChangeContent","_onWillSave","_willSaveWaitUntil","onDidChangeContent","onWillSave","onWillSaveWaitUntil","td","toFire","syncedDocument","reason","typeHierarchy","onSupertypes","onSubtypes","isUUID","v4","empty","ValueUUID","asHex","V4UUID","_oneOf","random","_randomHex","_chars","_timeHighBits","_UUIDPattern","_onDidChangeWorkspaceFolders","_unregistration","_notificationIsAutoRegistered","workspaceCapabilities","changeNotifications","getWorkspaceFolders","resolveModulePath","FileSystem","uriToFilePath","child_process_1","isWindows","nodePathKey","app","newEnv","delimiter","cp","fork","execArgv","pid","c","npmCommand","shell","stdout","spawnSync","prefix","parsed","protocol","segments","decodeURIComponent","second","normalize","yarnCommand","stderr","lines","_isCaseSensitive","isCaseSensitive","__filename","isParent","child","workspaceRoot","node_util_1","server_1","fm","endProtocolConnection","_protocolConnection","exitTimer","_shutdownReceived","argName","runTimer","processId","kill","ex","argv","setupExitTimer","arg2","arg3","arg4","stdio","stdin","transport","commandLineMessage","inputStream","serialize","counters","assert","assertion","rest","counter","countReset","dir","patchConsole","_createConnection","require","FullTextDocument","_uri","_languageId","_version","_content","_lineOffsets","offsetAt","getWellformedRange","startOffset","endOffset","lineOffsets","addedLineOffsets","computeLineOffsets","concat","getLineOffsets","low","high","mid","position","lineOffset","nextLineOffset","lineCount","mergeSort","leftIdx","rightIdx","isAtLineStart","textOffset","ch","getWellformedEdit","textEdit","applyEdits","sortedEdits","lastModifiedOffset","spans","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","CodeDescription","Diagnostic","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","SnippetTextEdit","TextDocumentIdentifier","VersionedTextDocumentIdentifier","OptionalVersionedTextDocumentIdentifier","LanguageKind","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","InsertTextMode","CompletionItemLabelDetails","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","WorkspaceSymbol","DocumentSymbol","CodeActionTriggerKind","CodeActionContext","CodeLens","FormattingOptions","DocumentLink","SelectionRange","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokens","InlineValueText","InlineValueVariableLookup","InlineValueEvaluatableExpression","InlineValueContext","InlayHintKind","InlayHintLabelPart","InlayHint","StringValue","InlineCompletionItem","InlineCompletionList","InlineCompletionTriggerKind","SelectedCompletionInfo","InlineCompletionContext","MIN_VALUE","three","four","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","numberRange","color","additionalTextEdits","Comment","Imports","Region","startCharacter","endCharacter","collapsedText","defined","Hint","Deprecated","relatedInformation","_a","tooltip","del","needsConfirmation","description","annotation","annotationId","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","TextEditChangeImpl","changeAnnotations","assertChangeAnnotations","manage","isSnippet","snippet","ChangeAnnotations","annotations","_annotations","_counter","idOrAnnotation","nextId","workspaceEdit","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","textDocumentEdit","initChanges","createFile","optionsOrAnnotation","operation","renameFile","deleteFile","ABAP","WindowsBat","BibTeX","Clojure","Coffeescript","C","CPP","CSharp","CSS","D","Delphi","Diff","Dart","Dockerfile","Elixir","Erlang","FSharp","GitCommit","GitRebase","Go","Groovy","Handlebars","Haskell","HTML","Ini","Java","JavaScript","JavaScriptReact","LaTeX","Less","Lua","Makefile","Markdown","ObjectiveC","ObjectiveCPP","Pascal","Perl","Perl6","PHP","Powershell","Pug","Python","Razor","Ruby","Rust","SCSS","SASS","Scala","ShaderLab","ShellScript","SQL","Swift","TypeScript","TypeScriptReact","TeX","VisualBasic","XML","XSL","YAML","PlainText","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Operator","TypeParameter","asIs","adjustIndentation","detail","isIncomplete","fromPlainText","plainText","contents","documentation","parameters","Read","Write","Namespace","Package","Boolean","Key","Null","containerName","selectionRange","children","deprecated","Empty","Refactor","RefactorExtract","RefactorInline","RefactorMove","RefactorRewrite","SourceOrganizeImports","Notebook","Automatic","triggerKind","kindOrCommandOrEdit","checkKind","tabSize","insertSpaces","target","variableName","caseSensitiveLookup","expression","frameId","stoppedLocation","Type","Parameter","textEdits","paddingLeft","paddingRight","createSnippet","insertText","filterText","selectedCompletionInfo","isLineStart","charAt","LIB","n","h","lastIndexOf","relative","f","u","l","g","_makeLong","basename","root","win32","posix","d","Utils","P","navigator","userAgent","authority","query","fragment","isUri","with","y","revive","_formatted","external","_fsPath","_sep","$mid","encodeURIComponent","fromCharCode","A","w","x","joinPath","resolvePath","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","obj","__webpack_exports__"],"sourceRoot":""}